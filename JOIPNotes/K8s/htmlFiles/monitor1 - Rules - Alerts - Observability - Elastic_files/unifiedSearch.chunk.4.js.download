(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[4],{111:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(112);case"v8light":return o(114)}},112:function(e,t,o){var n=o(19),r=o(113);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},113:function(e,t,o){(t=o(20)(!1)).push([e.i,'.documentation__docs{background:#1d1e24}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #343741}.documentation__docsSidebar{background:#25262e}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #343741}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #343741}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #343741;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},114:function(e,t,o){var n=o(19),r=o(115);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},115:function(e,t,o){(t=o(20)(!1)).push([e.i,'.documentation__docs{background:#fff}.documentation__docsHeader{margin:0}.documentation__docs--inline{display:flex;flex-direction:column;z-index:1}.documentation__docs--overlay .documentation__docsContent{height:40vh;width:min(75vh,90vw)}.documentation__docs--inline .documentation__docsContent{flex:1;min-height:0}.documentation__docsContent>*+*{border-left:1px solid #d3dae6}.documentation__docsSidebar{background:#f5f7fa}.documentation__docsSidebarInner{min-height:0}.documentation__docsSidebarInner>*+*{border-top:1px solid #d3dae6}.documentation__docsSearch{padding:16px}.documentation__docsNav{height:100%;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsNav::-webkit-scrollbar{height:16px;width:16px}.documentation__docsNav::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsNav::-webkit-scrollbar-corner,.documentation__docsNav::-webkit-scrollbar-track{background-color:#0000}.documentation__docsNav:focus{outline:none}.documentation__docsNav[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsNavGroup{padding:16px}.documentation__docsNavGroup+.documentation__docsNavGroup{border-top:1px solid #d3dae6}.documentation__docsNavGroupLink{font-weight:inherit}.documentation__docsText{height:100%;overflow-x:hidden;overflow-y:auto;padding:16px;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.documentation__docsText::-webkit-scrollbar{height:16px;width:16px}.documentation__docsText::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.documentation__docsText::-webkit-scrollbar-corner,.documentation__docsText::-webkit-scrollbar-track{background-color:#0000}.documentation__docsText:focus{outline:none}.documentation__docsText[tabindex="0"]:focus:focus-visible{outline-style:auto}.documentation__docsTextGroup,.documentation__docsTextItem{margin-top:40px}.documentation__docsTextGroup{border-top:1px solid #d3dae6;padding-top:40px}.documentationOverflow{z-index:9001}',""]),e.exports=t},116:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(41),r=o(0),i=n.__importDefault(o(117));t.default=function(e,t,o){void 0===t&&(t=0),void 0===o&&(o=[]);var n=i.default(e,t),a=n[0],s=n[1],u=n[2];return r.useEffect(u,o),[a,s]}},117:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0);t.default=function(e,t){void 0===t&&(t=0);var o=n.useRef(!1),r=n.useRef(),i=n.useRef(e),a=n.useCallback((function(){return o.current}),[]),s=n.useCallback((function(){o.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){o.current=!0,i.current()}),t)}),[t]),u=n.useCallback((function(){o.current=null,r.current&&clearTimeout(r.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return s(),u}),[t]),[a,u,s]}},118:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(119);case"v8light":return o(121)}},119:function(e,t,o){var n=o(19),r=o(120);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},120:function(e,t,o){(t=o(20)(!1)).push([e.i,'.unifiedTextLangEditor--resizableButtonContainer{bottom:0;display:flex;flex-direction:column;left:0;position:absolute;right:0}.unifiedTextLangEditor--resizableButton{cursor:row-resize;flex-shrink:0;height:16px;margin-bottom:-8px;margin-top:-8px;position:relative;z-index:1}.unifiedTextLangEditor--resizableButton:after,.unifiedTextLangEditor--resizableButton:before{background-color:#d4dae5;content:"";display:block;height:1px;left:50%;position:absolute;top:50%;transition:width .15s ease,height .15s ease,transform .15s ease,background-color .15s ease;width:12px}.unifiedTextLangEditor--resizableButton:before{transform:translate(-50%,-2px)}.unifiedTextLangEditor--resizableButton:after{transform:translate(-50%,2px)}.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{background-color:#535966;transition-delay:.15s}.unifiedTextLangEditor--resizableButton:focus:not(:disabled){background-color:#36a2ef1a}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before{background-color:#36a2ef;transition:width .15s ease,height .15s ease,transform .15s ease;transition-delay:75ms}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{width:100%}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{transform:translate(-50%,-1px)}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after{transform:translate(-50%)}',""]),e.exports=t},121:function(e,t,o){var n=o(19),r=o(122);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},122:function(e,t,o){(t=o(20)(!1)).push([e.i,'.unifiedTextLangEditor--resizableButtonContainer{bottom:0;display:flex;flex-direction:column;left:0;position:absolute;right:0}.unifiedTextLangEditor--resizableButton{cursor:row-resize;flex-shrink:0;height:16px;margin-bottom:-8px;margin-top:-8px;position:relative;z-index:1}.unifiedTextLangEditor--resizableButton:after,.unifiedTextLangEditor--resizableButton:before{background-color:#343741;content:"";display:block;height:1px;left:50%;position:absolute;top:50%;transition:width .15s ease,height .15s ease,transform .15s ease,background-color .15s ease;width:12px}.unifiedTextLangEditor--resizableButton:before{transform:translate(-50%,-2px)}.unifiedTextLangEditor--resizableButton:after{transform:translate(-50%,2px)}.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{background-color:#98a2b3;transition-delay:.15s}.unifiedTextLangEditor--resizableButton:focus:not(:disabled){background-color:#0077cc1a}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before{background-color:#07c;transition:width .15s ease,height .15s ease,transform .15s ease;transition-delay:75ms}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{width:100%}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):before,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):before{transform:translate(-50%,-1px)}.unifiedTextLangEditor--resizableButton:focus:not(:disabled):after,.unifiedTextLangEditor--resizableButton:hover:not(:disabled):after{transform:translate(-50%)}',""]),e.exports=t},123:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(124);case"v8light":return o(126)}},124:function(e,t,o){var n=o(19),r=o(125);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},125:function(e,t,o){(t=o(20)(!1)).push([e.i,".unifiedTextLangEditor .monaco-editor{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor .monaco-editor .monaco-hover{display:none!important}.unifiedTextLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.unifiedTextLangEditor .monaco-editor .margin{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor--compact .monaco-editor{border-bottom-left-radius:0;border-top-left-radius:0}.unifiedTextLangEditor--compact .monaco-editor .margin{background-color:#25262e;border-bottom-left-radius:0;border-top-left-radius:0;color:#515761}.unifiedTextLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#515761}.unifiedTextLangEditor .monaco-editor .current-line~.line-numbers{color:#7a7f89}.unifiedTextLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:4px}.unifiedTextLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}",""]),e.exports=t},126:function(e,t,o){var n=o(19),r=o(127);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},127:function(e,t,o){(t=o(20)(!1)).push([e.i,".unifiedTextLangEditor .monaco-editor{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor .monaco-editor .monaco-hover{display:none!important}.unifiedTextLangEditor--expanded .monaco-editor .monaco-hover{display:block!important}.unifiedTextLangEditor .monaco-editor .margin{border-bottom-left-radius:6px;border-top-left-radius:6px}.unifiedTextLangEditor--compact .monaco-editor{border-bottom-left-radius:0;border-top-left-radius:0}.unifiedTextLangEditor--compact .monaco-editor .margin{background-color:#f5f7fa;border-bottom-left-radius:0;border-top-left-radius:0;color:#abb4c4}.unifiedTextLangEditor .monaco-editor .margin-view-overlays .line-numbers{color:#abb4c4}.unifiedTextLangEditor .monaco-editor .current-line~.line-numbers{color:#69707d}.unifiedTextLangEditor--compact .monaco-editor .monaco-scrollable-element{margin-left:4px}.unifiedTextLangEditor_errorMessage{overflow-wrap:break-word!important;word-break:break-word}",""]),e.exports=t},128:function(e,t,o){switch(window.__kbnThemeTag__){case"v8dark":return o(129);case"v8light":return o(131)}},129:function(e,t,o){var n=o(19),r=o(130);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},130:function(e,t,o){(t=o(20)(!1)).push([e.i,".kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid{background-image:linear-gradient(0deg,#f86b63,#f86b63 2px,#0000 0,#0000)}.kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid:focus{background-color:#16171c;background-image:linear-gradient(0deg,#36a2ef,#36a2ef 2px,#0000 0,#0000);color:#dfe5ef}",""]),e.exports=t},131:function(e,t,o){var n=o(19),r=o(132);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);n(r,{insert:"head",singleton:!1}),e.exports=r.locals||{}},132:function(e,t,o){(t=o(20)(!1)).push([e.i,".kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid{background-image:linear-gradient(0deg,#bd271e,#bd271e 2px,#0000 0,#0000)}.kbnQueryBar__datePickerWrapper .euiDatePopoverButton-isInvalid:focus{background-color:#fbfcfd;background-image:linear-gradient(0deg,#07c,#07c 2px,#0000 0,#0000);color:#343741}",""]),e.exports=t},133:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(41),r=o(0),i=n.__importDefault(o(134));t.default=function(e,t){var o=r.useState(t),n=o[0],a=o[1];return i.default((function(){var t=e.subscribe(a);return function(){return t.unsubscribe()}}),[e]),n}},134:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(0),r="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;t.default=r},151:function(e,t,o){"use strict";o.r(t),o.d(t,"strings",(function(){return te})),o.d(t,"QueryBarTopRow",(function(){return re}));var n=o(7),r=o.n(n),i=o(17),a=o.n(i),s=o(39),u=o.n(s),d=o(0),c=o.n(d),l=o(80),b=o.n(l),g=o(133),f=o.n(g),p=o(37),m=o(9),x=o(26),j=o(4),h=o(11),v=o(5),O=o(21),E=o(12),y=o(13),_=o(152),w=o(1);const T="data.noDataPopover";function L({showNoDataPopover:e,storage:t,children:o}){const[n,r]=Object(d.useState)((()=>Boolean(t.get(T)))),[i,a]=Object(d.useState)(!1);return Object(d.useEffect)((()=>{e&&!n&&a(!0)}),[n,e]),Object(w.jsx)(h.EuiTourStep,{onFinish:()=>{},closePopover:()=>{a(!1)},content:Object(w.jsx)(h.EuiText,{size:"s"},Object(w.jsx)("p",{style:{maxWidth:300}},v.i18n.translate("unifiedSearch.noDataPopover.content",{defaultMessage:"This time range doesn't contain any data. Increase or adjust the time range to see more fields and create charts."}))),minWidth:300,anchorPosition:"downCenter",anchorClassName:"eui-displayBlock",step:1,stepsTotal:1,isStepOpen:i,subtitle:v.i18n.translate("unifiedSearch.noDataPopover.subtitle",{defaultMessage:"Tip"}),title:v.i18n.translate("unifiedSearch.noDataPopover.title",{defaultMessage:"Empty dataset"}),footerAction:Object(w.jsx)(h.EuiButtonEmpty,{size:"xs",flush:"right",color:"text","data-test-subj":"noDataPopoverDismissButton",onClick:()=>{t.set(T,!0),r(!0),a(!1)}},v.i18n.translate("unifiedSearch.noDataPopover.dismissAction",{defaultMessage:"Don't show again"}))},Object(w.jsx)("div",{onFocus:()=>{a(!1)}},o))}var S=o(60),k=o(72),C=o(78),B=o(58);const z=()=>v.i18n.translate("unifiedSearch.filter.filterBar.addFilterButtonLabel",{defaultMessage:"Add filter"}),F=c.a.memo((function({indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,onFiltersUpdated:n,buttonProps:i,isDisabled:a,onCloseFilterPopover:s,onLocalFilterUpdate:u,onLocalFilterCreate:c}){const l=Object(h.useEuiTheme)(),[b,g]=Object(d.useState)(!1),f=Object(w.jsx)(h.EuiToolTip,{delay:"long",content:z()},Object(w.jsx)(h.EuiButtonIcon,r()({display:"base",iconType:"plusInCircleFilled","aria-label":z(),"data-test-subj":"addFilter",onClick:()=>g((e=>!e)),size:"m",disabled:a},i,{style:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}))),p=Object(d.useCallback)((()=>{s([()=>g(!1)])}),[s]);return Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiPopover,{id:"addFilterPopover",button:f,isOpen:b,closePopover:p,anchorPosition:"downLeft",panelPaddingSize:"none",panelProps:{"data-test-subj":"addFilterPopover",css:Object(C.a)(l)},initialFocus:".filterEditor__hiddenItem",ownFocus:!0,repositionOnScroll:!0},Object(w.jsx)(k.a,{indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,onFiltersUpdated:n,onLocalFilterUpdate:u,onLocalFilterCreate:c,closePopoverOnAdd:()=>{g(!1)},closePopoverOnCancel:()=>{g(!1)}})))})),I=Object(B.n)(F);var R=o(14),N=o(71),P=o(43);function M({language:e,sections:t}){const[o,n]=Object(d.useState)(),r=Object(d.useRef)({});Object(d.useEffect)((()=>{o&&r.current[o]&&r.current[o].scrollIntoView()}),[o]);const[i,a]=Object(d.useState)(""),s=i.trim().toLocaleLowerCase(),u=null==t?void 0:t.groups.map((e=>{const t=e.items.filter((e=>!s||e.label.toLocaleLowerCase().includes(s)));return{...e,items:t}})).filter((e=>e.items.length>0||!s||e.label.toLocaleLowerCase().includes(s)));return Object(w.jsx)(c.a.Fragment,null,Object(w.jsx)(h.EuiPopoverTitle,{className:"documentation__docsHeader",paddingSize:"m","data-test-subj":"language-documentation-title"},v.i18n.translate("languageDocumentationPopover.header",{defaultMessage:"{language} reference",values:{language:e}})),Object(w.jsx)(h.EuiFlexGroup,{className:"documentation__docsContent",gutterSize:"none",responsive:!1,alignItems:"stretch"},Object(w.jsx)(h.EuiFlexItem,{className:"documentation__docsSidebar",grow:1},Object(w.jsx)(h.EuiFlexGroup,{className:"documentation__docsSidebarInner",direction:"column",gutterSize:"none",responsive:!1},Object(w.jsx)(h.EuiFlexItem,{className:"documentation__docsSearch",grow:!1},Object(w.jsx)(h.EuiFieldSearch,{value:i,onChange:e=>{a(e.target.value)},"data-test-subj":"language-documentation-navigation-search",placeholder:v.i18n.translate("languageDocumentationPopover.searchPlaceholder",{defaultMessage:"Search"})})),Object(w.jsx)(h.EuiFlexItem,{className:"documentation__docsNav"},null==u?void 0:u.map(((e,t)=>Object(w.jsx)("nav",{className:"documentation__docsNavGroup",key:e.label},Object(w.jsx)(h.EuiTitle,{size:"xxs","data-test-subj":"language-documentation-navigation-title"},Object(w.jsx)("h6",null,Object(w.jsx)(h.EuiLink,{className:"documentation__docsNavGroupLink",color:"text",onClick:()=>{n(e.label)}},Object(w.jsx)(h.EuiHighlight,{search:i},e.label)))),e.items.length?Object(w.jsx)(c.a.Fragment,null,Object(w.jsx)(h.EuiSpacer,{size:"s"}),Object(w.jsx)(h.EuiListGroup,{gutterSize:"none"},e.items.map((e=>Object(w.jsx)(h.EuiListGroupItem,{key:e.label,label:Object(w.jsx)(h.EuiHighlight,{search:i},e.label),size:"s",onClick:()=>{n(e.label)}}))))):null)))))),Object(w.jsx)(h.EuiFlexItem,{className:"documentation__docsText",grow:2},Object(w.jsx)(h.EuiText,{size:"s"},Object(w.jsx)("section",{className:"documentation__docsTextIntro",ref:e=>{var o;e&&null!=t&&null!==(o=t.groups)&&void 0!==o&&o.length&&(r.current[t.groups[0].label]=e)}},null==t?void 0:t.initialSection),null==t?void 0:t.groups.slice(1).map(((e,o)=>Object(w.jsx)("section",{className:"documentation__docsTextGroup",key:e.label,ref:t=>{t&&(r.current[e.label]=t)}},Object(w.jsx)("h2",null,e.label),Object(w.jsx)("p",null,e.description),null==t?void 0:t.groups[o+1].items.map((e=>Object(w.jsx)("article",{className:"documentation__docsTextItem",key:e.label,ref:t=>{t&&(r.current[e.label]=t)}},e.description))))))))))}o(111);const D=c.a.memo(M);function q({language:e,sections:t,buttonProps:o}){const[n,i]=Object(d.useState)(!1),a=Object(d.useCallback)((()=>{i(!n)}),[n]);return Object(w.jsx)(h.EuiPopover,{panelClassName:"documentation__docs--overlay",panelPaddingSize:"none",isOpen:n,closePopover:()=>i(!1),button:Object(w.jsx)(h.EuiToolTip,{position:"top",content:v.i18n.translate("languageDocumentationPopover.tooltip",{defaultMessage:"{lang} reference",values:{lang:e}})},Object(w.jsx)(h.EuiButtonIcon,r()({iconType:"documentation",onClick:a},o)))},Object(w.jsx)(D,{language:e,sections:t}))}const G=c.a.memo(q);var Q=o(116),W=o.n(Q),A=o(55);const U=navigator.platform.toLowerCase().indexOf("mac")>=0?"⌘":"^";var K={name:"rnnx2x",styles:"font-size:12px"},H={name:"rulwqv",styles:"&:hover{cursor:pointer;text-decoration:underline;}"};const V=Object(d.memo)((function({lines:e,containerCSS:t,errors:o,onErrorClick:n,refreshErrors:r}){const[i,a]=Object(d.useState)(!1);return Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween","data-test-subj":"unifiedTextLangEditor-footer",css:t,responsive:!1},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"s",responsive:!1,alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1,style:{marginRight:"16px"}},Object(w.jsx)(h.EuiText,{size:"xs",color:"subdued","data-test-subj":"unifiedTextLangEditor-footer-lines"},Object(w.jsx)("p",null,v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:e}})))),o&&o.length>0&&Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiIcon,{type:"crossInACircleFilled",color:"danger",size:"s"})),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiPopover,{button:Object(w.jsx)(h.EuiText,{size:"xs",color:"danger",css:H,onClick:()=>{r(),a(!i)}},Object(w.jsx)("p",null,v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.errorCount",{defaultMessage:"{count} {count, plural, one {error} other {errors}}",values:{count:o.length}}))),ownFocus:!1,isOpen:i,closePopover:()=>a(!1)},Object(w.jsx)("div",{style:{width:500}},Object(w.jsx)(h.EuiPopoverTitle,{paddingSize:"s"},v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.errorsTitle",{defaultMessage:"Errors"})),Object(w.jsx)(h.EuiDescriptionList,null,o.map(((e,t)=>Object(w.jsx)(h.EuiDescriptionListDescription,{key:t,className:Object(A.css)({name:"1p3qk0r",styles:"&:hover{cursor:pointer;}"}),onClick:()=>n(e)},Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"xl",alignItems:"flexStart"},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiIcon,{type:"crossInACircleFilled",color:"danger",size:"s"})),Object(w.jsx)(h.EuiFlexItem,{style:{whiteSpace:"nowrap"}},v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineNumber",{defaultMessage:"Line {lineNumber}",values:{lineNumber:e.startLineNumber}})))),Object(w.jsx)(h.EuiFlexItem,{grow:!1,className:"unifiedTextLangEditor_errorMessage"},e.message))))))))))))),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"xs",responsive:!1,alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiText,{size:"xs",color:"subdued"},Object(w.jsx)("p",null,v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.runQuery",{defaultMessage:"Run query"})))),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiCode,{transparentBackground:!0,css:K},`${U} + Enter`)))))}));function $({onMouseDownResizeHandler:e,onKeyDownResizeHandler:t}){return Object(w.jsx)("div",{className:"unifiedTextLangEditor--resizableButtonContainer"},Object(w.jsx)("button",{"data-test-subj":"unifiedTextLangEditor-resize",className:"unifiedTextLangEditor--resizableButton",onMouseDown:e,onKeyDown:t,onClick:e=>e.currentTarget.focus()}))}o(118),o(123);let Y=!1,J=!0,X=!1;var Z={name:"15p8din",styles:"margin:0 0 1px 0"};const ee=Object(d.memo)((function({query:e,onTextLangQueryChange:t,onTextLangQuerySubmit:n,expandCodeEditor:r,isCodeEditorExpanded:i,errors:a,isDisabled:s}){var l;const{euiTheme:b}=Object(h.useEuiTheme)(),g=Object(p.getAggregateQueryMode)(e),f=null!==(l=e[g])&&void 0!==l?l:"",[m,x]=Object(d.useState)(1),[j,O]=Object(d.useState)(null!=f?f:""),[y,_]=Object(d.useState)(""),[T,L]=Object(d.useState)(i?140:38),[S,k]=Object(d.useState)(i),[C,B]=Object(d.useState)(i),[z,F]=Object(d.useState)(!1),[I,R]=Object(d.useState)(!0),[N,M]=Object(d.useState)([]),[D,q]=Object(d.useState)(),Q=Object(E.useKibana)(),{uiSettings:A}=Q.services,U=((e,t,o,n,r,i)=>{let a=t?"absolute":"relative";n&&(a="relative");const s=r?e.colors.danger:e.colors.primary;return{editorContainer:{position:a,zIndex:t?4:0,height:`${o}px`,border:t?e.border.thin:"none",borderTopLeftRadius:n?0:"6px",borderBottom:n?"none":t?e.border.thin:"none"},resizableContainer:{display:"flex",width:n?"100%":"calc(100% - 80px)",alignItems:t?"flex-start":"center",border:t?"none":e.border.thin,borderTopLeftRadius:"6px",borderBottomLeftRadius:"6px",borderBottomWidth:r?"2px":"1px",borderBottomColor:r?e.colors.danger:e.colors.lightShade},linesBadge:{position:"absolute",zIndex:1,right:r?"60px":"12px",top:"50%",transform:"translate(0, -50%)"},errorsBadge:{position:"absolute",zIndex:1,right:"12px",top:"50%",transform:"translate(0, -50%)"},bottomContainer:{border:e.border.thin,borderTop:n&&!i?r?`2px solid ${e.colors.danger}`:e.border.thin:`2px solid ${s}`,backgroundColor:e.colors.lightestShade,paddingLeft:e.size.base,paddingRight:e.size.base,paddingTop:e.size.xs,paddingBottom:e.size.xs,width:"calc(100% + 2px)",position:"relative",marginTop:0,marginLeft:0,marginBottom:0,borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px"},topContainer:{border:e.border.thin,borderTopLeftRadius:"6px",borderTopRightRadius:"6px",backgroundColor:e.colors.lightestShade,paddingLeft:e.size.base,paddingRight:e.size.base,paddingTop:e.size.xs,paddingBottom:e.size.xs,width:"calc(100% + 2px)",position:"relative",marginLeft:0,marginTop:e.size.s},dragResizeContainer:{width:"100%",cursor:"row-resize",textAlign:"center",height:e.size.base},dragResizeButton:{cursor:"row-resize"}}})(b,C,T,i,Boolean(null==a?void 0:a.length),z),K=A.get("theme:darkMode"),H=Object(d.useRef)(),ee=Object(d.useRef)(),te=Object(d.useRef)(null),oe=u()("unifiedTextLangEditor",{"unifiedTextLangEditor--expanded":i,"unifiedTextLangEditor--compact":C,"unifiedTextLangEditor--initial":!C}),ne=Object(d.useCallback)((e=>{const t=T,o=e.pageY;function n(e){const n=t-o+e.pageY,r=Math.min(Math.max(n,40),400);L(r)}document.body.addEventListener("mousemove",n),document.body.addEventListener("mouseup",(function(){document.body.removeEventListener("mousemove",n)}),{once:!0})}),[T]),re=Object(d.useCallback)((e=>{let t=T;if(38===e.keyCode||40===e.keyCode){t+=38===e.keyCode?-10:10;const o=Math.min(Math.max(t,40),400);L(o)}}),[T]),ie=()=>{if(ee.current){var e;if(1===((null===(e=H.current)||void 0===e?void 0:e.getLineCount())||1)||Y||J)return;const t=ee.current.getDomNode(),o=Math.min(250,ee.current.getContentHeight());t&&(t.style.height=`${o}px`);const n=Number(null==t?void 0:t.style.width.replace("px",""));ee.current.layout({width:n,height:o}),L(o)}};((e,{skipFirstRender:t}={skipFirstRender:!1},o,n)=>{const r=Object(d.useRef)(!0),i=[...n||[],r];W()((()=>{if(!t||!r.current)return e();r.current=!1}),o,i)})((()=>{var e,t,o,r;if(H.current)if(null===(e=ee.current)||void 0===e||e.onDidChangeModelContent((e=>{var t;X&&x((null===(t=H.current)||void 0===t?void 0:t.getLineCount())||1)})),null===(t=ee.current)||void 0===t||t.onDidFocusEditorText((()=>{B(!0),F(!0),k(!0),_(""),Y=!1,J=!1,X=!0})),null===(o=ee.current)||void 0===o||o.addCommand(P.monaco.KeyMod.CtrlCmd|P.monaco.KeyCode.Enter,(function(){n()})),i||null===(r=ee.current)||void 0===r||r.onDidContentSizeChange(ie),a&&a.length){const e=((e,t)=>e.map((e=>{if(e.message.includes("line")){const t=e.message.split("line")[1],[o,n,r]=t.split(":");let i=10;const[a,s]=r.split("[");return s&&(i=s.length-1),{message:r,startColumn:Number(n),startLineNumber:Number(o),endColumn:Number(n)+i,endLineNumber:Number(o),severity:P.monaco.MarkerSeverity.Error}}return{message:e.message,startColumn:1,startLineNumber:1,endColumn:10,endLineNumber:1,severity:P.monaco.MarkerSeverity.Error}})))(a);M(e),P.monaco.editor.setModelMarkers(H.current,"Unified search",e)}else P.monaco.editor.setModelMarkers(H.current,"Unified search",[]),M([])}),{skipFirstRender:!1},256,[a]);const ae=Object(d.useCallback)((({startLineNumber:e,startColumn:t})=>{ee.current&&(ee.current.focus(),ee.current.setPosition({lineNumber:e,column:t}),ee.current.revealLine(e))}),[]);Object(d.useEffect)((()=>{const e=H,t=ee;return()=>{var o,n;null===(o=e.current)||void 0===o||o.dispose(),null===(n=t.current)||void 0===n||n.dispose()}}),[]);const se=Object(d.useCallback)(((e,t)=>{var o;if((null===(o=te.current)||void 0===o?void 0:o.offsetWidth)&&(!C||t)){const t=/\r|\n/.exec(f);t&&!X&&x(f.split(/\r|\n/).length);const o=((e,t)=>t?e.replace(/\r?\n|\r/g," ").replace(/  +/g," "):e)(f,Boolean(t)),n=o.length,r=a&&a.length?220:180,i=Math.floor((e-r)/8);if(n>i){const e=o.substring(0,i)+"...";_(e)}else _(o)}}),[f,a,C]);Object(d.useEffect)((()=>{if(ee.current&&!C){const e=ee.current.getDomNode();if(e){const t=Number(null==e?void 0:e.style.width.replace("px",""));j!==f&&(O(f),se(t))}}}),[se,j,C,f]);const ue=Object(d.useCallback)((e=>{O(e),t({[g]:e})}),[g,t]);Object(d.useEffect)((()=>{!async function(){const e=await(async e=>{const t=[];if("sql"===e){const{comparisonOperators:e,logicalOperators:n,mathOperators:r,initialSection:i,aggregateFunctions:a}=await o.e(22).then(o.bind(null,155));return t.push({label:v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.howItWorks",{defaultMessage:"How it works"}),items:[]}),t.push(e,n,r,a),{groups:t,initialSection:i}}})(g);q(e)}()}),[g]);const de={automaticLayout:!1,accessibilitySupport:"off",folding:!1,fontSize:14,padding:{top:8,bottom:8},scrollBeyondLastLine:!1,quickSuggestions:!0,minimap:{enabled:!1},wordWrap:I?"on":"off",lineNumbers:S?"on":"off",theme:K?"vs-dark":"vs",lineDecorationsWidth:12,autoIndent:"none",wrappingIndent:"none",lineNumbersMinChars:3,overviewRulerLanes:0,hideCursorInOverviewRuler:!0,scrollbar:{horizontal:"hidden",vertical:"auto"},overviewRulerBorder:!1,readOnly:s};return C&&(de.overviewRulerLanes=4,de.hideCursorInOverviewRuler=!1,de.overviewRulerBorder=!0),Object(w.jsx)(c.a.Fragment,null,i&&Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"s",justifyContent:"spaceBetween",css:U.topContainer,responsive:!1},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiToolTip,{position:"top",content:I?v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Disable word wrap"}):v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Enable word wrap"})},Object(w.jsx)(h.EuiButtonIcon,{iconType:I?"wordWrap":"wordWrapDisabled",color:"text","data-test-subj":"unifiedTextLangEditor-toggleWordWrap","aria-label":I?v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.disableWordWrapLabel",{defaultMessage:"Disable word wrap"}):v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.EnableWordWrapLabel",{defaultMessage:"Enable word wrap"}),isSelected:!I,onClick:()=>{var e;null===(e=ee.current)||void 0===e||e.updateOptions({wordWrap:I?"off":"on"}),R(!I)}}))),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1,style:{marginRight:"8px"}},Object(w.jsx)(h.EuiToolTip,{position:"top",content:v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.minimizeTooltip",{defaultMessage:"Compact query editor"})},Object(w.jsx)(h.EuiButtonIcon,{iconType:"minimize",color:"text","aria-label":v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.MinimizeEditor",{defaultMessage:"Minimize editor"}),"data-test-subj":"unifiedTextLangEditor-minimize",onClick:()=>{r(!1),X=!1}}))),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(G,{language:String(g).toUpperCase(),sections:D,buttonProps:{color:"text","data-test-subj":"unifiedTextLangEditor-documentation","aria-label":v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"})}}))))),Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"none",responsive:!1,css:Z,ref:te},Object(w.jsx)(h.EuiResizeObserver,{onResize:({width:e})=>{se(e),ee.current&&ee.current.layout({width:e,height:T})}},(e=>Object(w.jsx)(h.EuiOutsideClickDetector,{onOutsideClick:()=>{(()=>{if(F(!1),!i&&(L(38),B(!1),k(!1),X=!1,Y=!0,ee.current)){const e=ee.current.getDomNode();if(e){e.style.height="38px";const t=Number(null==e?void 0:e.style.width.replace("px",""));se(t,!0),ee.current.layout({width:t,height:38})}}})()}},Object(w.jsx)("div",{ref:e,css:U.resizableContainer},Object(w.jsx)(h.EuiFlexItem,{"data-test-subj":"unifiedTextLangEditor",className:oe},Object(w.jsx)("div",{css:U.editorContainer},!C&&Object(w.jsx)(h.EuiBadge,{color:b.colors.lightShade,css:U.linesBadge,"data-test-subj":"unifiedTextLangEditor-inline-lines-badge"},v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.lineCount",{defaultMessage:"{count} {count, plural, one {line} other {lines}}",values:{count:m}})),!C&&a&&a.length>0&&Object(w.jsx)(h.EuiBadge,{color:b.colors.danger,css:U.errorsBadge,iconType:"crossInACircleFilled",iconSide:"left","data-test-subj":"unifiedTextLangEditor-inline-errors-badge"},a.length),Object(w.jsx)(E.CodeEditor,{languageId:P.SQLLang.ID,value:y||j,options:de,width:"100%",onChange:ue,editorDidMount:e=>{ee.current=e;const t=e.getModel();t&&(H.current=t),i&&x((null==t?void 0:t.getLineCount())||1)}}),C&&!i&&Object(w.jsx)(V,{lines:m,containerCSS:U.bottomContainer,errors:N,onErrorClick:ae,refreshErrors:n}))))))),!i&&Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiFlexGroup,{responsive:!1,gutterSize:"none",alignItems:"center"},Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiToolTip,{position:"top",content:v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.expandTooltip",{defaultMessage:"Expand query editor"})},Object(w.jsx)(h.EuiButtonIcon,{display:"empty",iconType:"expand",size:"m","aria-label":"Expand",onClick:()=>r(!0),"data-test-subj":"unifiedTextLangEditor-expand",css:Object(w.css)({borderRadius:0,backgroundColor:K?b.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important"},"","")}))),Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(G,{language:String(g).toUpperCase(),sections:D,buttonProps:{display:"empty","data-test-subj":"unifiedTextLangEditor-inline-documentation","aria-label":v.i18n.translate("unifiedSearch.query.textBasedLanguagesEditor.documentationLabel",{defaultMessage:"Documentation"}),size:"m",css:{borderTopLeftRadius:0,borderBottomLeftRadius:0,backgroundColor:K?b.colors.lightestShade:"#e9edf3",border:"1px solid rgb(17 43 134 / 10%) !important",borderLeft:"transparent !important"}}}))))),i&&Object(w.jsx)(V,{lines:m,containerCSS:U.bottomContainer,errors:N,onErrorClick:ae,refreshErrors:n}),i&&Object(w.jsx)($,{onMouseDownResizeHandler:ne,onKeyDownResizeHandler:re}))}));o(128);const te={getNeedsUpdatingLabel:()=>v.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.update",{defaultMessage:"Needs updating"}),getRefreshQueryLabel:()=>v.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.refresh",{defaultMessage:"Refresh query"}),getRunQueryLabel:()=>v.i18n.translate("unifiedSearch.queryBarTopRow.submitButton.run",{defaultMessage:"Run query"})},oe=c.a.memo(h.EuiSuperDatePicker),ne=c.a.memo((function({from:e,to:t,dateFormat:o}){function n(e,t=!1){const o=a.a.parse(e,{roundUp:t});return o?o.toISOString():e}const r=Object(h.usePrettyDuration)({timeFrom:n(e),timeTo:n(t),quickRanges:[],dateFormat:o});return Object(w.jsx)("div",{"data-shared-timefilter-duration":r,"data-test-subj":"dataSharedTimefilterDuration"})})),re=c.a.memo((function(e){var t,o;const n=Object(h.useIsWithinBreakpoints)(["xs","s"]),[i,a]=Object(d.useState)(!1),[s,l]=Object(d.useState)(!1),b=null!==(t=e.submitButtonStyle)&&void 0!==t?t:"auto",g="auto"===b?!i:"iconOnly"===b;Object(d.useEffect)((()=>{if("auto"!==b)return;const e=Object(j.throttle)((()=>{a(window.innerWidth>=1440)}),50);return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)}),[b]);const{showQueryInput:T=!0,showDatePicker:S=!0,showAutoRefreshOnly:k=!1,showSubmitButton:C=!0}=e,[B,z]=Object(d.useState)(!1),[F,P]=Object(d.useState)(!1),M=Object(E.useKibana)(),{uiSettings:D,storage:q,appName:G,data:Q,usageCollection:W,unifiedSearch:A,notifications:U,docLinks:K,http:H,dataViews:V}=M.services,$=e.query&&!Object(p.isOfQueryType)(e.query),Y=e.query&&Object(p.isOfQueryType)(e.query)&&e.query.language,J=Object(d.useRef)(e.query);J.current=e.query;const X=c.a.useMemo((()=>Y&&D&&q&&G?Object(O.getQueryLog)(D,q,G,Y):void 0),[G,Y,D,q]),Z=function(){const t=D.get(y.UI_SETTINGS.TIMEPICKER_TIME_DEFAULTS);return{from:e.dateRangeFrom||t.from,to:e.dateRangeTo||t.to}}(),re=Object(d.useRef)(Z);re.current=Z;const ie=e.onSubmit,ae=e=>e.map((({from:e,to:t})=>({start:e,end:t}))),se=e.timeHistory,ue=Object(d.useMemo)((()=>{var e;return null!==(e=null==se?void 0:se.get$().pipe(Object(x.map)(ae)))&&void 0!==e?e:m.EMPTY}),[se]),de=f()(ue,ae(null!==(o=null==se?void 0:se.get())&&void 0!==o?o:[])),[ce]=Object(d.useState)((()=>{var e,t;return null!==(e=null==D||null===(t=D.get(y.UI_SETTINGS.TIMEPICKER_QUICK_RANGES))||void 0===t?void 0:t.map((({from:e,to:t,display:o})=>({start:e,end:t,label:o}))))&&void 0!==e?e:[]})),le=Object(d.useCallback)((({query:e,dateRange:t})=>{se&&se.add(t),ie({query:e,dateRange:t})}),[se,ie]),be=Object(d.useCallback)((e=>{X&&J.current&&Object(p.isOfQueryType)(J.current)&&X.add(J.current.query),e.preventDefault(),le({query:J.current,dateRange:re.current})}),[X,le]),ge=e.onChange,fe=Object(d.useCallback)((e=>ge({query:e,dateRange:re.current})),[ge]),pe=Object(d.useCallback)((e=>{P(e)}),[]),me=Object(d.useCallback)((({start:e,end:t,isInvalid:o,isQuickSelection:n})=>{z(o);const r={query:J.current,dateRange:{from:e,to:t}};n?le(r):ge(r)}),[ge,le]),xe=e.onRefresh,je=Object(d.useCallback)((({start:e,end:t})=>{xe&&xe({dateRange:{from:e,to:t}})}),[xe]),he=Object(d.useCallback)((e=>{le({query:e,dateRange:re.current})}),[le]);function ve(){return Boolean(T&&e.indexPatterns&&e.query&&q)}function Oe(){return Boolean(S||k)}function Ee(){return!Boolean(e.showAddFilter)&&Boolean(e.prepend)}function ye(){return Boolean(C)&&Boolean(T||S||k)}function _e(){return Boolean(e.showDatePickerAsBadge)&&!ve()}function we(){return(Boolean(e.showAddFilter)||Boolean(e.prepend))&&Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(N.a,{items:[e.prepend,Boolean(e.showAddFilter)&&Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(I,{indexPatterns:e.indexPatterns,filters:e.filters,timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride,onFiltersUpdated:e.onFiltersUpdated,buttonProps:{size:_e()?"s":"m",display:"empty"},isDisabled:e.isDisabled}))],attached:Ee(),size:_e()?"s":"m"}))}function Te(){return $&&e.query&&Object(p.isOfAggregateQueryType)(e.query)&&Object(w.jsx)(ee,{query:e.query,onTextLangQueryChange:e.onTextLangQueryChange,expandCodeEditor:e=>l(e),isCodeEditorExpanded:s,errors:e.textBasedLanguageModeErrors,onTextLangQuerySubmit:()=>le({query:J.current,dateRange:re.current}),isDisabled:e.isDisabled})}const Le=!0===e.isScreenshotMode;return Object(w.jsx)(c.a.Fragment,null,Object(w.jsx)(ne,{from:Z.from,to:Z.to,dateFormat:D.get("dateFormat")}),!Le&&Object(w.jsx)(c.a.Fragment,null,Object(w.jsx)(h.EuiFlexGroup,{className:"kbnQueryBar",direction:n&&!_e()?"column":"row",responsive:!1,gutterSize:"s",justifyContent:_e()?"flexStart":"flexEnd",wrap:!0},function(){if(!e.dataViewPickerComponentProps)return;let t;if(Boolean($)){const o=e.query;t=Object(p.getAggregateQueryMode)(o)}return Object(w.jsx)(h.EuiFlexItem,{style:{maxWidth:"100%"},grow:n},Object(w.jsx)(R.a,r()({},e.dataViewPickerComponentProps,{trigger:{fullWidth:n,...e.dataViewPickerComponentProps.trigger},onTextLangQuerySubmit:e.onTextLangQuerySubmit,textBasedLanguage:t,onSaveTextLanguageQuery:e.onTextBasedSavedAndExit,isDisabled:e.isDisabled})))}(),Object(w.jsx)(h.EuiFlexItem,{grow:!_e(),style:{minWidth:_e()?"auto":320,maxWidth:"100%"}},$?s?null:Te():Object(w.jsx)(h.EuiFlexGroup,{gutterSize:"s",responsive:!1},!Ee()&&we(),ve()&&Object(w.jsx)(h.EuiFlexItem,{"data-test-subj":"unifiedQueryInput"},Object(w.jsx)(_.default,{disableAutoFocus:e.disableAutoFocus,indexPatterns:e.indexPatterns,query:e.query,screenTitle:e.screenTitle,onChange:fe,onChangeQueryInputFocus:pe,onSubmit:he,persistedLog:X,dataTestSubj:e.dataTestSubj,placeholder:e.placeholder,isClearable:e.isClearable,iconType:e.iconType,nonKqlMode:e.nonKqlMode,timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride,disableLanguageSwitcher:!0,prepend:Ee()&&we(),size:e.suggestionsSize,isDisabled:e.isDisabled,appName:G,deps:{unifiedSearch:A,data:Q,storage:q,usageCollection:W,notifications:U,docLinks:K,http:H,uiSettings:D,dataViews:V}})))),_e()&&e.filterBar,function(){if(!ye()&&!Oe())return null;const t=te.getNeedsUpdatingLabel(),o=te.getRefreshQueryLabel(),r=te.getRunQueryLabel(),i=Boolean($)?"play":"kqlFunction",a=Boolean($)?r:t,s=e.customSubmitButton?c.a.cloneElement(e.customSubmitButton,{onClick:be}):Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(h.EuiSuperUpdateButton,{iconType:e.isDirty?i:"refresh",iconOnly:g,"aria-label":e.isLoading?t:o,isDisabled:B||e.isDisabled,isLoading:e.isLoading,onClick:be,size:_e()?"s":"m",color:e.isDirty?"success":"primary",fill:e.isDirty,needsUpdate:e.isDirty,"data-test-subj":"querySubmitButton",toolTipProps:{content:e.isDirty?a:o,delay:"long",position:"bottom"}}));return!Oe()&&ye()?s:Object(w.jsx)(h.EuiFlexItem,{grow:!1},Object(w.jsx)(L,{storage:q,showNoDataPopover:e.indicateNoData},Object(w.jsx)(h.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},Oe()?function(){if(!Oe())return null;const t=u()("kbnQueryBar__datePickerWrapper");return Object(w.jsx)(h.EuiFlexItem,{className:t},Object(w.jsx)(oe,{isDisabled:e.isDisabled,start:e.dateRangeFrom,end:e.dateRangeTo,isPaused:e.isRefreshPaused,refreshInterval:e.refreshInterval,onTimeChange:me,onRefresh:je,onRefreshChange:e.onRefreshChange,showUpdateButton:!1,recentlyUsedRanges:de,locale:v.i18n.getLocale(),commonlyUsedRanges:ce,dateFormat:D.get("dateFormat"),isAutoRefreshOnly:k,className:"kbnQueryBar__datePicker",isQuickSelectOnly:!n&&F,width:n?"full":"auto",compressed:_e()}))}():null,ye()?s:null)))}()),!_e()&&e.filterBar,s&&Te()))}),(({query:e,...t},{query:o,...n})=>{let r=!0;return e!==o&&(b()(e,o)||(r=!1)),r&&Object(S.a)(t,n)}));t.default=re},72:function(e,t,o){"use strict";o.d(t,"a",(function(){return g}));var n=o(0),r=o.n(n),i=o(37),a=o(10),s=o(12),u=o(13),d=o(42),c=o(58),l=o(69),b=o(1);const g=r.a.memo((function({indexPatterns:e,filters:t,timeRangeForSuggestionsOverride:o,closePopoverOnAdd:r,closePopoverOnCancel:g,onFiltersUpdated:f,onLocalFilterUpdate:p,onLocalFilterCreate:m}){const x=Object(n.useRef)(),j=Object(s.useKibana)(),{uiSettings:h,data:v,usageCollection:O,appName:E}=j.services,y=null==O?void 0:O.reportUiCounter.bind(O,E),[_,w]=Object(n.useState)([]),[T,L]=Object(n.useState)(void 0),S=h.get(u.UI_SETTINGS.FILTERS_PINNED_BY_DEFAULT);return Object(n.useEffect)((()=>(x.current=new AbortController,()=>{var e;null===(e=x.current)||void 0===e||e.abort()})),[]),Object(n.useEffect)((()=>{e&&(async()=>{var t;const o=null==e?void 0:e.filter((e=>"string"==typeof e)),n=null==e?void 0:e.filter((e=>"string"!=typeof e));null===(t=x.current)||void 0===t||t.abort(),x.current=new AbortController;const r=x.current,a=await Object(l.a)(v.dataViews,o.map((e=>({type:"title",value:e}))));if(!r.signal.aborted){w([...n,...a]);const[e]=[...n,...a],t=e&&e.id,o=Object(i.buildEmptyFilter)(S,t);L(o)}})()}),[v.dataViews,e,m,p,S]),Object(b.jsx)("div",{style:{width:d.FILTER_EDITOR_WIDTH,maxWidth:"100%"}},T&&Object(b.jsx)(c.a,{mode:"add",filter:T,indexPatterns:_,key:JSON.stringify(T),onSubmit:function(e){null==y||y(a.METRIC_TYPE.CLICK,"filter:added"),null==r||r();const o=[...t,e];null==f||f(o)},onCancel:()=>null==g?void 0:g(),onLocalFilterUpdate:p,onLocalFilterCreate:m,timeRangeForSuggestionsOverride:o}))}))},78:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));var n=o(11),r=o(1);const i=e=>Object(r.css)("transform:none!important;transition:none!important;filter:none!important;",Object(n.euiShadowMedium)(e),";","")},80:function(e,t,o){"use strict";e.exports=function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=o.length)return!1;for(r=n;0!=r--;)if(!e(t[r],o[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(o,i[r]))return!1;for(r=n;0!=r--;){var a=i[r];if(!e(t[a],o[a]))return!1}return!0}return t!=t&&o!=o}}}]);