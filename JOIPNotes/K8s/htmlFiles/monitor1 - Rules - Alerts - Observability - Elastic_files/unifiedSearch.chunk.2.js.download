(window.unifiedSearch_bundle_jsonpfunction=window.unifiedSearch_bundle_jsonpfunction||[]).push([[2],{42:function(e,t,i){"use strict";i.r(t),i.d(t,"FILTER_EDITOR_WIDTH",(function(){return h})),i.d(t,"FilterItem",(function(){return I}));var l=i(7),a=i.n(l),n=(i(91),i(11)),r=i(37),o=i(39),s=i.n(o),d=i(0),c=i(1),b=i(21),u=i(67),f=i(5),g=i(23);const m=({filter:e,readOnly:t,iconOnClick:i,onClick:l,valueLabel:o,fieldLabel:s,errorMessage:d,filterLabelStatus:b,hideAlias:u,dataViews:m,...p})=>{const[F,x]=Object(n.useInnerText)(),h=t?f.i18n.translate("unifiedSearch.filter.filterBar.filterString",{defaultMessage:"Filter: {innerText}.",values:{innerText:x}}):f.i18n.translate("unifiedSearch.filter.filterBar.filterActionsMessage",{defaultMessage:"Filter: {innerText}. Select for more filter actions.",values:{innerText:x}});let I=d||h;Object(r.isFilterPinned)(e)&&(I=`${f.i18n.translate("unifiedSearch.filter.filterBar.pinnedFilterPrefix",{defaultMessage:"Pinned"})} ${I}`),e.meta.disabled&&(I=`${f.i18n.translate("unifiedSearch.filter.filterBar.disabledFilterPrefix",{defaultMessage:"Disabled"})} ${I}`);const j={color:"hollow",tabIndex:0},_=t?{...j,title:void 0}:{...j,title:I,iconType:"cross",iconSide:"right",closeButtonProps:{tabIndex:-1},iconOnClick:i,iconOnClickAriaLabel:f.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeIconAriaLabel",{defaultMessage:"Delete {filter}",values:{filter:x}}),onClick:l,onClickAriaLabel:f.i18n.translate("unifiedSearch.filter.filterBar.filterItemBadgeAriaLabel",{defaultMessage:"Filter actions"})},k=()=>Object(c.jsx)(g.a,a()({filter:e,dataViews:m,valueLabel:o,filterLabelStatus:b,hideAlias:u},_,p,{"data-test-subj":`filter-badge-'${x}' ${p["data-test-subj"]}`}));return t?Object(c.jsx)(n.EuiToolTip,{position:"bottom",content:I},Object(c.jsx)("span",{ref:F},Object(c.jsx)(k,null))):Object(c.jsx)("span",{ref:F},Object(c.jsx)(k,null))};var p=i(58);const F="warn",x="error",h=960,I=Object(p.n)((function(e){const{onCloseFilterPopover:t,onLocalFilterCreate:i,onLocalFilterUpdate:l}=e,[o,f]=Object(d.useState)(!1),[g,p]=Object(d.useState)("menu"),{id:I,filter:j,indexPatterns:_,hiddenPanelOptions:k,readOnly:v=!1}=e,O=Object(d.useCallback)((()=>{t([()=>f(!1)])}),[t]),M=Object(n.useEuiTheme)(),w=Object(d.useMemo)((()=>Object(c.css)("transform:none!important;transition:none!important;filter:none!important;",Object(n.euiShadowMedium)(M),";","")),[M]);function L(){const t=Object(r.toggleFilterDisabled)(j);e.onUpdate(t)}function S(e){const{disabled:t}=j.meta;return t||e.status===x}Object(d.useEffect)((()=>{o&&p("menu")}),[o]);const P=function(){var t;const i={title:"",message:"",status:""};if(null!==(t=j.meta)&&void 0!==t&&t.isMultiIndex)return i;if(!e.indexPatterns.length||Object(b.getIndexPatternFromFilter)(j,_)||_.map((e=>e.fields.map((e=>e.name)))).reduce(((e,t)=>[...e,...t]),[]).includes((null===(l=j.meta)||void 0===l?void 0:l.key)||""))try{i.title=Object(b.getDisplayValueFromFilter)(j,_)}catch(t){i.status=F,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=t.message}else i.status=F,i.title=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningText",defaultMessage:"Warning"}),i.message=e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.labelWarningInfo",defaultMessage:"Field {fieldName} does not exist in current view"},{fieldName:j.meta.key});var l;return i}();if(P.status===x&&!j.meta.disabled)return j.meta.disabled=!0,e.onUpdate(j),null;const B={filter:j,readOnly:v,valueLabel:P.title,filterLabelStatus:P.status,errorMessage:P.message,className:(y=!!j.meta.negate,C=P,s()("globalFilterItem",{"globalFilterItem-isDisabled":S(C),"globalFilterItem-isError":C.status===x,"globalFilterItem-isWarning":C.status===F,"globalFilterItem-isPinned":Object(r.isFilterPinned)(j),"globalFilterItem-isExcluded":y},e.className)),dataViews:_,iconOnClick:function(){e.onRemove(),f(!1)},onClick:function(e){e.shiftKey?L():f(!o)},"data-test-subj":function(e){const t=j.meta.key?`filter-key-${j.meta.key}`:"",i=function(e){return""===e.status}(e)?e.title:e.status,l=i?`filter-value-${i.replace(/\s/g,"")}`:"",a=j.meta.negate?"filter-negated":"",n="filter-"+(S(e)?"disabled":"enabled"),o="filter-"+(Object(r.isFilterPinned)(j)?"pinned":"unpinned"),d=`filter-id-${I}`;return s()("filter",n,t,l,o,a,d)}(P)};var y,C;const E={id:`popoverFor_filter${I}`,className:"globalFilterItem__popover",anchorClassName:"globalFilterItem__popoverAnchor",isOpen:o,closePopover:O,button:Object(c.jsx)(m,B),panelPaddingSize:"none",panelProps:{css:w}};return v?Object(c.jsx)(m,B):Object(c.jsx)(n.EuiPopover,a()({anchorPosition:"downLeft"},E),"menu"===g?Object(c.jsx)(n.EuiContextMenu,{initialPanelId:0,panels:function(){const{negate:t,disabled:i}=j.meta;let l=[{name:Object(r.isFilterPinned)(j)?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.unpinFilterButtonLabel",defaultMessage:"Unpin"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.pinFilterButtonLabel",defaultMessage:"Pin across all apps"}),icon:"pin",onClick:()=>{f(!1),function(){const t=Object(r.toggleFilterPinned)(j);e.onUpdate(t)}()},"data-test-subj":"pinFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.editFilterButtonLabel",defaultMessage:"Edit filter"}),icon:"pencil","data-test-subj":"editFilter",onClick:()=>{p("editFilter")}},{name:t?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.includeFilterButtonLabel",defaultMessage:"Include results"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.excludeFilterButtonLabel",defaultMessage:"Exclude results"}),icon:t?"plusInCircle":"minusInCircle",onClick:()=>{f(!1),function(){const t=Object(r.toggleFilterNegated)(j);e.onUpdate(t)}()},"data-test-subj":"negateFilter"},{name:i?e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.enableFilterButtonLabel",defaultMessage:"Re-enable"}):e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.disableFilterButtonLabel",defaultMessage:"Temporarily disable"}),icon:i?"eye":"eyeClosed",onClick:()=>{f(!1),L()},"data-test-subj":"disableFilter"},{name:e.intl.formatMessage({id:"unifiedSearch.filter.filterBar.deleteFilterButtonLabel",defaultMessage:"Delete"}),icon:"trash",onClick:()=>{f(!1),e.onRemove()},"data-test-subj":"deleteFilter"}];return k&&k.length>0&&(l=l.filter((e=>!k.includes(e["data-test-subj"])))),[{id:0,items:l}]}()}):Object(c.jsx)(n.EuiContextMenuPanel,{items:[Object(c.jsx)("div",{style:{width:h,maxWidth:"100%"},key:"filter-editor"},Object(c.jsx)(u.a,{filter:j,indexPatterns:_,onSubmit:function(t){f(!1),e.onUpdate(t)},onLocalFilterUpdate:l,onLocalFilterCreate:i,onCancel:()=>f(!1),timeRangeForSuggestionsOverride:e.timeRangeForSuggestionsOverride}))]}))}));t.default=I},91:function(e,t,i){switch(window.__kbnThemeTag__){case"v8dark":return i(92);case"v8light":return i(94)}},92:function(e,t,i){var l=i(19),a=i(93);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},93:function(e,t,i){(t=i(20)(!1)).push([e.i,'.globalFilterItem{border:none;color:#dfe5ef;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#16171c;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #ffffff1a;box-shadow:0 0 #0000,inset 0 0 0 1px #424752;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#34374180;color:#98a2b3;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#f87972}.globalFilterItem-isWarning .globalFilterLabel__value{color:#f3d371}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#424752;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #7c3632}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#c6564f}.globalFilterItem__editorForm{padding:12px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t},94:function(e,t,i){var l=i(19),a=i(95);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);l(a,{insert:"head",singleton:!1}),e.exports=a.locals||{}},95:function(e,t,i){(t=i(20)(!1)).push([e.i,'.globalFilterItem{border:none;color:#343741;line-height:16px;padding-bottom:7px;padding-top:7px;white-space:normal}.globalFilterItem:not(.globalFilterItem-isDisabled){background-color:#fbfcfd;background-repeat:no-repeat;background-size:0 100%;box-shadow:0 0 #0000,inset 0 0 0 1px #112b861a;box-shadow:0 0 #0000,inset 0 0 0 1px #bcc3ce;transition:box-shadow .15s ease-in,background-image .15s ease-in,background-size .15s ease-in,background-color .15s ease-in}@supports (-moz-appearance:none){.globalFilterItem:not(.globalFilterItem-isDisabled){transition-property:box-shadow,background-image,background-size}}.globalFilterItem-isDisabled{background-color:#d3dae680;color:#69707d;font-style:italic;font-weight:400;text-decoration:line-through}.globalFilterItem-isError .globalFilterLabel__value,.globalFilterItem-isWarning .globalFilterLabel__value{font-weight:700}.globalFilterItem-isError .globalFilterLabel__value{color:#b4251d}.globalFilterItem-isWarning .globalFilterLabel__value{color:#765b0a}.globalFilterItem-isPinned{position:relative}.globalFilterItem-isPinned:before{background-color:#bcc3ce;border-bottom-left-radius:3px;border-top-left-radius:3px;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled){box-shadow:0 0 #0000,inset 0 0 0 1px #ebbebc}.globalFilterItem-isExcluded:not(.globalFilterItem-isDisabled):before{background-color:#d16862}.globalFilterItem__editorForm{padding:12px}.globalFilterItem__popover,.globalFilterItem__popoverAnchor{display:block}.globalFilterItem__readonlyPanel{min-width:auto;padding:12px}',""]),e.exports=t}}]);