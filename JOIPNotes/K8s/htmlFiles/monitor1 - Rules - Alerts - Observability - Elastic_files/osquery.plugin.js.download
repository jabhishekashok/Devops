/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var r,s,i=t[0],a=t[1],o=0,l=[];o<i.length;o++)s=i[o],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&l.push(n[s][0]),n[s]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);for(u&&u(t);l.length;)l.shift()()}var r={},n={4:0};function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],r=n[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,s){r=n[e]=[t,s]}));t.push(r[2]=i);var a,o=document.createElement("script");o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.src=function(e){return s.p+"osquery.chunk."+e+".js"}(e);var u=new Error;a=function(t){o.onerror=o.onload=null,clearTimeout(l);var r=n[e];if(0!==r){if(r){var s=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",u.name="ChunkLoadError",u.type=s,u.request=i,r[1](u)}n[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:o})}),12e4);o.onerror=o.onload=a,document.head.appendChild(o)}return Promise.all(t)},s.m=e,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s.oe=function(e){throw console.error(e),e};var i=window.osquery_bundle_jsonpfunction=window.osquery_bundle_jsonpfunction||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var o=0;o<i.length;o++)t(i[o]);var u=a;s(s.s=37)}([function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){"use strict";r.d(t,"b",(function(){return p.KibanaContextProvider})),r.d(t,"f",(function(){return b})),r.d(t,"c",(function(){return m})),r.d(t,"d",(function(){return g})),r.d(t,"e",(function(){return y})),r.d(t,"a",(function(){return f}));var n=r(20),s=r(6),i=r.n(s),a=(r(0),r(11)),o=r.n(a),u=r(3),l=r(4);const c={iconType:"questionInCircle",color:"gray"},d={binary:{iconType:"tokenBinary"},boolean:{iconType:"tokenBoolean"},conflict:{iconType:"alert",color:"euiColorVis9",shape:"square"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},dense_vector:{iconType:"tokenDenseVector"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},flattened:{iconType:"tokenFlattened"},match_only_text:{iconType:"tokenString"},murmur3:{iconType:"tokenSearchType"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},rank_feature:{iconType:"tokenRankFeature"},rank_features:{iconType:"tokenRankFeatures"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},point:{iconType:"tokenShape"},shape:{iconType:"tokenShape"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},gauge:{iconType:"tokenMetricGauge"},counter:{iconType:"tokenMetricCounter"},nested:{iconType:"tokenNested"},version:{iconType:"tokenTag"}};function f({type:e,label:t,size:r="s",scripted:n,className:s,...a}){const f=d[e]||c;return Object(l.jsx)(u.EuiToken,i()({},f,{className:o()("kbnFieldIcon",s),"aria-label":t||e,title:t||e,size:r,fill:n?"dark":void 0},a))}r(39);Object.keys({s:"kbnFieldButton--small",m:null});var p=r(5);const y=()=>Object(p.useKibana)(),g=e=>!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey),m=e=>0===e.button,b=(e,t)=>{const r=Object(n.useHistory)();return Object(p.reactRouterNavigate)(r,e,t)}},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){e.exports=r(26)(3)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t,r){"use strict";r.r(t),r.d(t,"PLUGIN_ID",(function(){return s})),r.d(t,"PLUGIN_NAME",(function(){return i}));var n=r(12);r.d(t,"DEFAULT_DARK_MODE",(function(){return n.b})),r.d(t,"OSQUERY_INTEGRATION_NAME",(function(){return n.d})),r.d(t,"BASE_PATH",(function(){return n.a}));const s="osquery",i="Osquery"},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"d",(function(){return s})),r.d(t,"a",(function(){return i})),r.d(t,"c",(function(){return a}));const n="theme:darkMode",s="osquery_manager",i="/app/osquery",a="linux,windows,darwin"},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));const n=new(r(8).QueryClient)({logger:{log:()=>null,warn:()=>null,error:()=>null}})},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxzdmcgd2lkdGg9IjI1NnB4IiBoZWlnaHQ9IjI1NXB4IiB2aWV3Qm94PSIwIDAgMjU2IDI1NSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWlkWU1pZCI+Cgk8Zz4KCQk8cGF0aCBkPSJNMjU1LjIxNDYxNywwLjI1NzU4MDI0NyBMMjU1LjIxNDYxNyw2My45OTM2NzkgTDE5MS42MDk2NzksMTI3LjU5ODYxNyBMMTkxLjYwOTY3OSw2My43Mjk3Nzc4IEwyNTUuMjE0NjE3LDAuMjU3NTgwMjQ3IiBmaWxsPSIjQTU5NkZGIj48L3BhdGg+CgkJPHBhdGggZD0iTTEyOC4wMDYzMjEsMC4yNTc1ODAyNDcgTDEyOC4wMDYzMjEsNjMuOTkzNjc5IEwxOTEuNjExMjU5LDEyNy41OTg2MTcgTDE5MS42MTEyNTksNjMuNzI5Nzc3OCBMMTI4LjAwNjMyMSwwLjI1NzU4MDI0NyIgZmlsbD0iIzAwMDAwMCI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0yNTUuMzQ1Nzc4LDI1NC44MDM3NTMgTDE5MS42MDk2NzksMjU0LjgwMzc1MyBMMTI4LjAwNDc0MSwxOTEuMTk4ODE1IEwxOTEuODcyLDE5MS4xOTg4MTUgTDI1NS4zNDU3NzgsMjU0LjgwMzc1MyIgZmlsbD0iI0E1OTZGRiI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0yNTUuMzQ1Nzc4LDEyNy41OTU0NTcgTDE5MS42MDk2NzksMTI3LjU5NTQ1NyBMMTI4LjAwNDc0MSwxOTEuMjAwMzk1IEwxOTEuODcyLDE5MS4yMDAzOTUgTDI1NS4zNDU3NzgsMTI3LjU5NTQ1NyIgZmlsbD0iIzAwMDAwMCI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0wLjgwMTE4NTE4NSwyNTQuOTM2NDk0IEwwLjgwMTE4NTE4NSwxOTEuMTk4ODE1IEw2NC40MDYxMjM1LDEyNy41OTM4NzcgTDY0LjQwNjEyMzUsMTkxLjQ2MjcxNiBMMC44MDExODUxODUsMjU0LjkzNjQ5NCIgZmlsbD0iI0E1OTZGRiI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0xMjguMDA5NDgxLDI1NC45MzY0OTQgTDEyOC4wMDk0ODEsMTkxLjE5ODgxNSBMNjQuNDA0NTQzMiwxMjcuNTkzODc3IEw2NC40MDQ1NDMyLDE5MS40NjI3MTYgTDEyOC4wMDk0ODEsMjU0LjkzNjQ5NCIgZmlsbD0iIzAwMDAwMCI+PC9wYXRoPgoJCTxwYXRoIGQ9Ik0wLjY3MTYwNDkzOCwwLjM4NTU4MDI0NyBMNjQuNDA3NzAzNywwLjM4NTU4MDI0NyBMMTI4LjAxMjY0Miw2My45OTA1MTg1IEw2NC4xNDUzODI3LDYzLjk5MDUxODUgTDAuNjcxNjA0OTM4LDAuMzg1NTgwMjQ3IiBmaWxsPSIjQTU5NkZGIj48L3BhdGg+CgkJPHBhdGggZD0iTTAuNjcxNjA0OTM4LDEyNy41OTM4NzcgTDY0LjQwNzcwMzcsMTI3LjU5Mzg3NyBMMTI4LjAxMjY0Miw2My45ODg5MzgzIEw2NC4xNDUzODI3LDYzLjk4ODkzODMgTDAuNjcxNjA0OTM4LDEyNy41OTM4NzciIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD4KCTwvZz4KPC9zdmc+Cg=="},function(e,t,r){e.exports=r(26)(2)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,s=(n=r(0))&&"object"==typeof n&&"default"in n?n:{default:n},i=e=>"checkbox"===e.type,a=e=>e instanceof Date,o=e=>null==e;const u=e=>"object"==typeof e;var l=e=>!o(e)&&!Array.isArray(e)&&u(e)&&!a(e),c=e=>l(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,d=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),f=e=>Array.isArray(e)?e.filter(Boolean):[],p=e=>void 0===e,y=(e,t,r)=>{if(!t||!l(e))return r;const n=f(t.split(/[,[\].]+?/)).reduce(((e,t)=>o(e)?e:e[t]),e);return p(n)||n===e?p(e[t])?r:e[t]:n};const g="blur",m="onChange",b="onSubmit",_="all",h="pattern",v="required",k=s.default.createContext(null),x=()=>s.default.useContext(k);var w=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const s=i;return t._proxyFormState[s]!==_&&(t._proxyFormState[s]=!n||_),r&&(r[s]=!0),e[s]}});return s},D=e=>l(e)&&!Object.keys(e).length,O=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return D(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!n||_)))},M=e=>Array.isArray(e)?e:[e],j=(e,t,r)=>r&&t?e===t:!e||!t||e===t||M(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function A(e){const t=s.default.useRef(e);t.current=e,s.default.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}function S(e){const t=x(),{control:r=t.control,disabled:n,name:i,exact:a}=e||{},[o,u]=s.default.useState(r._formState),l=s.default.useRef(!0),c=s.default.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=s.default.useRef(i);return d.current=i,A({disabled:n,next:e=>l.current&&j(d.current,e.name,a)&&O(e,c.current,r._updateFormState)&&u({...r._formState,...e}),subject:r._subjects.state}),s.default.useEffect((()=>{l.current=!0;const e=r._proxyFormState.isDirty&&r._getDirty();return e!==r._formState.isDirty&&r._subjects.state.next({isDirty:e}),c.current.isValid&&r._updateValid(!0),()=>{l.current=!1}}),[r]),w(o,r,c.current,!1)}var T=e=>"string"==typeof e,F=(e,t,r,n,s)=>T(e)?(n&&t.watch.add(e),y(r,e,s)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),y(r,e)))):(n&&(t.watchAll=!0),r),E="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function N(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(E&&(e instanceof Blob||e instanceof FileList)||!r&&!l(e))return e;if(t=r?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return l(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)t[r]=N(e[r]);else t=e}return t}function I(e){const t=x(),{control:r=t.control,name:n,defaultValue:i,disabled:a,exact:o}=e||{},u=s.default.useRef(n);u.current=n,A({disabled:a,subject:r._subjects.watch,next:e=>{j(u.current,e.name,o)&&c(N(F(u.current,r._names,e.values||r._formValues,!1,i)))}});const[l,c]=s.default.useState(r._getWatch(n,i));return s.default.useEffect((()=>r._removeUnmounted())),l}function B(e){const t=x(),{name:r,control:n=t.control,shouldUnregister:i}=e,a=d(n._names.array,r),o=I({control:n,name:r,defaultValue:y(n._formValues,r,y(n._defaultValues,r,e.defaultValue)),exact:!0}),u=S({control:n,name:r}),l=s.default.useRef(n.register(r,{...e.rules,value:o}));return s.default.useEffect((()=>{const e=(e,t)=>{const r=y(n._fields,e);r&&(r._f.mount=t)};return e(r,!0),()=>{const t=n._options.shouldUnregister||i;(a?t&&!n._stateFlags.action:t)?n.unregister(r):e(r,!1)}}),[r,n,a,i]),{field:{name:r,value:o,onChange:s.default.useCallback((e=>l.current.onChange({target:{value:c(e),name:r},type:"change"})),[r]),onBlur:s.default.useCallback((()=>l.current.onBlur({target:{value:y(n._formValues,r),name:r},type:g})),[r,n]),ref:e=>{const t=y(n._fields,r);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!y(u.errors,r)},isDirty:{enumerable:!0,get:()=>!!y(u.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!y(u.touchedFields,r)},error:{enumerable:!0,get:()=>y(u.errors,r)}})}}var C=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},V=e=>/^\w*$/.test(e),P=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function z(e,t,r){let n=-1;const s=V(t)?[t]:P(t),i=s.length,a=i-1;for(;++n<i;){const t=s[n];let i=r;if(n!==a){const r=e[t];i=l(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}e[t]=i,e=e[t]}return e}const L=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=y(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else l(n)&&L(n,t)}}};var U=()=>{const e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const r=(16*Math.random()+e)%16|0;return("x"==t?r:3&r|8).toString(16)}))},R=(e,t,r={})=>r.shouldFocus||p(r.shouldFocus)?r.focusName||`${e}.${p(r.focusIndex)?t:r.focusIndex}.`:"",q=e=>({isOnSubmit:!e||e===b,isOnBlur:"onBlur"===e,isOnChange:e===m,isOnAll:e===_,isOnTouch:"onTouched"===e}),Q=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),Y=(e,t,r)=>{const n=f(y(e,r));return z(n,"root",t[r]),z(e,r,n),e},G=e=>"boolean"==typeof e,Z=e=>"file"===e.type,W=e=>"function"==typeof e,K=e=>{if(!E)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},J=e=>T(e)||s.default.isValidElement(e),H=e=>"radio"===e.type,X=e=>e instanceof RegExp;const $={value:!1,isValid:!1},ee={value:!0,isValid:!0};var te=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!p(e[0].attributes.value)?p(e[0].value)||""===e[0].value?ee:{value:e[0].value,isValid:!0}:ee:$}return $};const re={isValid:!1,value:null};var ne=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),re):re;function se(e,t,r="validate"){if(J(e)||Array.isArray(e)&&e.every(J)||G(e)&&!e)return{type:r,message:J(e)?e:"",ref:t}}var ie=e=>l(e)&&!X(e)?e:{value:e,message:""},ae=async(e,t,r,n,s)=>{const{ref:a,refs:u,required:c,maxLength:d,minLength:f,min:g,max:m,pattern:b,validate:_,name:k,valueAsNumber:x,mount:w,disabled:O}=e._f,M=y(t,k);if(!w||O)return{};const j=u?u[0]:a,A=e=>{n&&j.reportValidity&&(j.setCustomValidity(G(e)?"":e||""),j.reportValidity())},S={},F=H(a),E=i(a),N=F||E,I=(x||Z(a))&&p(a.value)&&p(M)||K(a)&&""===a.value||""===M||Array.isArray(M)&&!M.length,B=C.bind(null,k,r,S),V=(e,t,r,n="maxLength",s="minLength")=>{const i=e?t:r;S[k]={type:e?n:s,message:i,ref:a,...B(e?n:s,i)}};if(s?!Array.isArray(M)||!M.length:c&&(!N&&(I||o(M))||G(M)&&!M||E&&!te(u).isValid||F&&!ne(u).isValid)){const{value:e,message:t}=J(c)?{value:!!c,message:c}:ie(c);if(e&&(S[k]={type:v,message:t,ref:j,...B(v,t)},!r))return A(t),S}if(!(I||o(g)&&o(m))){let e,t;const n=ie(m),s=ie(g);if(o(M)||isNaN(M)){const r=a.valueAsDate||new Date(M),i=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,u="week"==a.type;T(n.value)&&M&&(e=o?i(M)>i(n.value):u?M>n.value:r>new Date(n.value)),T(s.value)&&M&&(t=o?i(M)<i(s.value):u?M<s.value:r<new Date(s.value))}else{const r=a.valueAsNumber||(M?+M:M);o(n.value)||(e=r>n.value),o(s.value)||(t=r<s.value)}if((e||t)&&(V(!!e,n.message,s.message,"max","min"),!r))return A(S[k].message),S}if((d||f)&&!I&&(T(M)||s&&Array.isArray(M))){const e=ie(d),t=ie(f),n=!o(e.value)&&M.length>e.value,s=!o(t.value)&&M.length<t.value;if((n||s)&&(V(n,e.message,t.message),!r))return A(S[k].message),S}if(b&&!I&&T(M)){const{value:e,message:t}=ie(b);if(X(e)&&!M.match(e)&&(S[k]={type:h,message:t,ref:a,...B(h,t)},!r))return A(t),S}if(_)if(W(_)){const e=se(await _(M,t),j);if(e&&(S[k]={...e,...B("validate",e.message)},!r))return A(e.message),S}else if(l(_)){let e={};for(const n in _){if(!D(e)&&!r)break;const s=se(await _[n](M,t),j,n);s&&(e={...s,...B(n,s.message)},A(s.message),r&&(S[k]=e))}if(!D(e)&&(S[k]={ref:j,...e},!r))return S}return A(!0),S};function oe(e,t){return[...e,...M(t)]}var ue=e=>Array.isArray(e)?e.map((()=>{})):void 0;function le(e,t,r){return[...e.slice(0,t),...M(r),...e.slice(t)]}var ce=(e,t,r)=>Array.isArray(e)?(p(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(t,1)[0]),e):[];function de(e,t){return[...M(t),...M(e)]}var fe=(e,t)=>p(t)?[]:function(e,t){let r=0;const n=[...e];for(const e of t)n.splice(e-r,1),r++;return f(n).length?n:[]}(e,M(t).sort(((e,t)=>e-t))),pe=(e,t,r)=>{e[t]=[e[r],e[r]=e[t]][0]};function ye(e,t){const r=Array.isArray(t)?t:V(t)?[t]:P(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=p(e)?n++:e[t[n++]];return e}(e,r),s=r.length-1,i=r[s];return n&&delete n[i],0!==s&&(l(n)&&D(n)||Array.isArray(n)&&function(e){for(const t in e)if(!p(e[t]))return!1;return!0}(n))&&ye(e,r.slice(0,-1)),e}var ge=(e,t,r)=>(e[t]=r,e);function me(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var be=e=>o(e)||!u(e);function _e(e,t){if(be(e)||be(t))return e===t;if(a(e)&&a(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const r=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(a(r)&&a(e)||l(r)&&l(e)||Array.isArray(r)&&Array.isArray(e)?!_e(r,e):r!==e)return!1}}return!0}var he=e=>"select-multiple"===e.type,ve=e=>K(e)&&e.isConnected,ke=e=>{for(const t in e)if(W(e[t]))return!0;return!1};function xe(e,t={}){const r=Array.isArray(e);if(l(e)||r)for(const r in e)Array.isArray(e[r])||l(e[r])&&!ke(e[r])?(t[r]=Array.isArray(e[r])?[]:{},xe(e[r],t[r])):o(e[r])||(t[r]=!0);return t}function we(e,t,r){const n=Array.isArray(e);if(l(e)||n)for(const n in e)Array.isArray(e[n])||l(e[n])&&!ke(e[n])?p(t)||be(r[n])?r[n]=Array.isArray(e[n])?xe(e[n],[]):{...xe(e[n])}:we(e[n],o(t)?{}:t[n],r[n]):_e(e[n],t[n])?delete r[n]:r[n]=!0;return r}var De=(e,t)=>we(e,t,xe(t)),Oe=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>p(e)?e:t?""===e?NaN:e?+e:e:r&&T(e)?new Date(e):n?n(e):e;function Me(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Z(t)?t.files:H(t)?ne(e.refs).value:he(t)?[...t.selectedOptions].map((({value:e})=>e)):i(t)?te(e.refs).value:Oe(p(t.value)?e.ref.value:t.value,e)}var je=e=>p(e)?e:X(e)?e.source:l(e)?X(e.value)?e.value.source:e.value:e;function Ae(e,t,r){const n=y(e,r);if(n||V(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const n=s.join("."),i=y(t,n),a=y(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(a&&a.type)return{name:n,error:a};s.pop()}return{name:r}}const Se={mode:b,reValidateMode:m,shouldFocusError:!0};function Te(e={},t){let r={...Se,...e};const n=e.resetOptions&&e.resetOptions.keepDirtyValues;let s,u={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},m={},b=(l(r.defaultValues)||l(r.values))&&N(r.defaultValues||r.values)||{},h=r.shouldUnregister?{}:N(b),v={action:!1,mount:!1,watch:!1},k={mount:new Set,unMount:new Set,array:new Set,watch:new Set},x=0;const w={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},O={watch:me(),array:me(),state:me()},j=q(r.mode),A=q(r.reValidateMode),S=r.criteriaMode===_,I=async e=>{if(w.isValid||e){const e=r.resolver?D((await U()).errors):await R(m,!0);e!==u.isValid&&O.state.next({isValid:e})}},B=e=>w.isValidating&&O.state.next({isValidating:e}),C=(e,t,r,n)=>{const s=y(m,e);if(s){const i=y(h,e,p(r)?y(b,e):r);p(i)||n&&n.defaultChecked||t?z(h,e,t?i:Me(s._f)):$(e,i),v.mount&&I()}},V=(e,t,r,n,s)=>{let i=!1,a=!1;const o={name:e};if(!r||n){w.isDirty&&(a=u.isDirty,u.isDirty=o.isDirty=J(),i=a!==o.isDirty);const r=_e(y(b,e),t);a=y(u.dirtyFields,e),r?ye(u.dirtyFields,e):z(u.dirtyFields,e,!0),o.dirtyFields=u.dirtyFields,i=i||w.dirtyFields&&a!==!r}if(r){const t=y(u.touchedFields,e);t||(z(u.touchedFields,e,r),o.touchedFields=u.touchedFields,i=i||w.touchedFields&&t!==r)}return i&&s&&O.state.next(o),i?o:{}},P=(t,r,n,i)=>{const a=y(u.errors,t),o=w.isValid&&G(r)&&u.isValid!==r;var l;if(e.delayError&&n?(l=()=>((e,t)=>{z(u.errors,e,t),O.state.next({errors:u.errors})})(t,n),s=e=>{clearTimeout(x),x=window.setTimeout(l,e)},s(e.delayError)):(clearTimeout(x),s=null,n?z(u.errors,t,n):ye(u.errors,t)),(n?!_e(a,n):a)||!D(i)||o){const e={...i,...o&&G(r)?{isValid:r}:{},errors:u.errors,name:t};u={...u,...e},O.state.next(e)}B(!1)},U=async e=>await r.resolver(h,r.context,((e,t,r,n)=>{const s={};for(const r of e){const e=y(t,r);e&&z(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}})(e||k.mount,m,r.criteriaMode,r.shouldUseNativeValidation)),R=async(e,t,n={valid:!0})=>{for(const s in e){const i=e[s];if(i){const{_f:e,...s}=i;if(e){const s=k.array.has(e.name),a=await ae(i,h,S,r.shouldUseNativeValidation,s);if(a[e.name]&&(n.valid=!1,t))break;!t&&(y(a,e.name)?s?Y(u.errors,a,e.name):z(u.errors,e.name,a[e.name]):ye(u.errors,e.name))}s&&await R(s,t,n)}}return n.valid},J=(e,t)=>(e&&t&&z(h,e,t),!_e(se(),b)),X=(e,t,r)=>F(e,k,{...v.mount?h:p(t)?b:T(e)?{[e]:t}:t},r,t),$=(e,t,r={})=>{const n=y(m,e);let s=t;if(n){const r=n._f;r&&(!r.disabled&&z(h,e,Oe(t,r)),s=K(r.ref)&&o(t)?"":t,he(r.ref)?[...r.ref.options].forEach((e=>e.selected=s.includes(e.value))):r.refs?i(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(s)?!!s.find((t=>t===e.value)):s===e.value))):r.refs[0]&&(r.refs[0].checked=!!s):r.refs.forEach((e=>e.checked=e.value===s)):Z(r.ref)?r.ref.value="":(r.ref.value=s,r.ref.type||O.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&V(e,s,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&ne(e)},ee=(e,t,r)=>{for(const n in t){const s=t[n],i=`${e}.${n}`,o=y(m,i);!k.array.has(e)&&be(s)&&(!o||o._f)||a(s)?$(i,s,r):ee(i,s,r)}},te=(e,r,n={})=>{const s=y(m,e),i=k.array.has(e),a=N(r);z(h,e,a),i?(O.array.next({name:e,values:h}),(w.isDirty||w.dirtyFields)&&n.shouldDirty&&O.state.next({name:e,dirtyFields:De(b,h),isDirty:J(e,a)})):!s||s._f||o(a)?$(e,a,n):ee(e,a,n),Q(e,k)&&O.state.next({}),O.watch.next({name:e}),!v.mount&&t()},re=async e=>{const t=e.target;let n=t.name;const i=y(m,n);if(i){let o,l;const d=t.type?Me(i._f):c(e),f=e.type===g||"focusout"===e.type,p=!((a=i._f).mount&&(a.required||a.min||a.max||a.maxLength||a.minLength||a.pattern||a.validate)||r.resolver||y(u.errors,n)||i._f.deps)||((e,t,r,n,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:!(r?n.isOnChange:s.isOnChange)||e))(f,y(u.touchedFields,n),u.isSubmitted,A,j),b=Q(n,k,f);z(h,n,d),f?(i._f.onBlur&&i._f.onBlur(e),s&&s(0)):i._f.onChange&&i._f.onChange(e);const _=V(n,d,f,!1),v=!D(_)||b;if(!f&&O.watch.next({name:n,type:e.type}),p)return w.isValid&&I(),v&&O.state.next({name:n,...b?{}:_});if(!f&&b&&O.state.next({}),B(!0),r.resolver){const{errors:e}=await U([n]),t=Ae(u.errors,m,n),r=Ae(e,m,t.name||n);o=r.error,n=r.name,l=D(e)}else o=(await ae(i,h,S,r.shouldUseNativeValidation))[n],o?l=!1:w.isValid&&(l=await R(m,!0));i._f.deps&&ne(i._f.deps),P(n,l,o,_)}var a},ne=async(e,t={})=>{let n,s;const i=M(e);if(B(!0),r.resolver){const t=await(async e=>{const{errors:t}=await U();if(e)for(const r of e){const e=y(t,r);e?z(u.errors,r,e):ye(u.errors,r)}else u.errors=t;return t})(p(e)?e:i);n=D(t),s=e?!i.some((e=>y(t,e))):n}else e?(s=(await Promise.all(i.map((async e=>{const t=y(m,e);return await R(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||u.isValid)&&I()):s=n=await R(m);return O.state.next({...!T(e)||w.isValid&&n!==u.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:u.errors,isValidating:!1}),t.shouldFocus&&!s&&L(m,(e=>e&&y(u.errors,e)),e?i:k.mount),s},se=e=>{const t={...b,...v.mount?h:{}};return p(e)?t:T(e)?y(t,e):e.map((e=>y(t,e)))},ie=(e,t)=>({invalid:!!y((t||u).errors,e),isDirty:!!y((t||u).dirtyFields,e),isTouched:!!y((t||u).touchedFields,e),error:y((t||u).errors,e)}),oe=(e,t={})=>{for(const n of e?M(e):k.mount)k.mount.delete(n),k.array.delete(n),y(m,n)&&(t.keepValue||(ye(m,n),ye(h,n)),!t.keepError&&ye(u.errors,n),!t.keepDirty&&ye(u.dirtyFields,n),!t.keepTouched&&ye(u.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&ye(b,n));O.watch.next({}),O.state.next({...u,...t.keepDirty?{isDirty:J()}:{}}),!t.keepIsValid&&I()},ue=(e,t={})=>{let n=y(m,e);const s=G(t.disabled);return z(m,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),k.mount.add(e),n?s&&z(h,e,t.disabled?void 0:y(h,e,Me(n._f))):C(e,!0,t.value),{...s?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:je(t.min),max:je(t.max),minLength:je(t.minLength),maxLength:je(t.maxLength),pattern:je(t.pattern)}:{},name:e,onChange:re,onBlur:re,ref:s=>{if(s){ue(e,t),n=y(m,e);const r=p(s.value)&&s.querySelectorAll&&s.querySelectorAll("input,select,textarea")[0]||s,a=(e=>H(e)||i(e))(r),o=n._f.refs||[];if(a?o.find((e=>e===r)):r===n._f.ref)return;z(m,e,{_f:{...n._f,...a?{refs:[...o.filter(ve),r,...Array.isArray(y(b,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),C(e,!1,void 0,r)}else n=y(m,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!d(k.array,e)||!v.action)&&k.unMount.add(e)}}},le=()=>r.shouldFocusError&&L(m,(e=>e&&y(u.errors,e)),k.mount),ce=(r,s={})=>{const i=r||b,a=N(i),o=r&&!D(r)?a:b;if(s.keepDefaultValues||(b=i),!s.keepValues){if(s.keepDirtyValues||n)for(const e of k.mount)y(u.dirtyFields,e)?z(o,e,y(h,e)):te(e,y(o,e));else{if(E&&p(r))for(const e of k.mount){const t=y(m,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(K(e)){const t=e.closest("form");if(t){t.reset();break}}}}m={}}h=e.shouldUnregister?s.keepDefaultValues?N(b):{}:a,O.array.next({values:o}),O.watch.next({values:o})}k={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&t(),v.mount=!w.isValid||!!s.keepIsValid,v.watch=!!e.shouldUnregister,O.state.next({submitCount:s.keepSubmitCount?u.submitCount:0,isDirty:s.keepDirty||s.keepDirtyValues?u.isDirty:!(!s.keepDefaultValues||_e(r,b)),isSubmitted:!!s.keepIsSubmitted&&u.isSubmitted,dirtyFields:s.keepDirty||s.keepDirtyValues?u.dirtyFields:s.keepDefaultValues&&r?De(b,r):{},touchedFields:s.keepTouched?u.touchedFields:{},errors:s.keepErrors?u.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},de=(e,t)=>ce(W(e)?e(h):e,t);return W(r.defaultValues)&&r.defaultValues().then((e=>{de(e,r.resetOptions),O.state.next({isLoading:!1})})),{control:{register:ue,unregister:oe,getFieldState:ie,_executeSchema:U,_focusError:le,_getWatch:X,_getDirty:J,_updateValid:I,_removeUnmounted:()=>{for(const e of k.unMount){const t=y(m,e);t&&(t._f.refs?t._f.refs.every((e=>!ve(e))):!ve(t._f.ref))&&oe(e)}k.unMount=new Set},_updateFieldArray:(e,t=[],r,n,s=!0,i=!0)=>{if(n&&r){if(v.action=!0,i&&Array.isArray(y(m,e))){const t=r(y(m,e),n.argA,n.argB);s&&z(m,e,t)}if(i&&Array.isArray(y(u.errors,e))){const t=r(y(u.errors,e),n.argA,n.argB);s&&z(u.errors,e,t),((e,t)=>{!f(y(e,t)).length&&ye(e,t)})(u.errors,e)}if(w.touchedFields&&i&&Array.isArray(y(u.touchedFields,e))){const t=r(y(u.touchedFields,e),n.argA,n.argB);s&&z(u.touchedFields,e,t)}w.dirtyFields&&(u.dirtyFields=De(b,h)),O.state.next({name:e,isDirty:J(e,t),dirtyFields:u.dirtyFields,errors:u.errors,isValid:u.isValid})}else z(h,e,t)},_getFieldArray:t=>f(y(v.mount?h:b,t,e.shouldUnregister?y(b,t,[]):[])),_reset:ce,_updateFormState:e=>{u={...u,...e}},_subjects:O,_proxyFormState:w,get _fields(){return m},get _formValues(){return h},get _stateFlags(){return v},set _stateFlags(e){v=e},get _defaultValues(){return b},get _names(){return k},set _names(e){k=e},get _formState(){return u},set _formState(e){u=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:ne,register:ue,handleSubmit:(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let s=N(h);if(O.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await U();u.errors=e,s=t}else await R(m);ye(u.errors,"root"),D(u.errors)?(O.state.next({errors:{}}),await e(s,n)):(t&&await t({...u.errors},n),le()),O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:D(u.errors),submitCount:u.submitCount+1,errors:u.errors})},watch:(e,t)=>W(e)?O.watch.subscribe({next:r=>e(X(void 0,t),r)}):X(e,t,!0),setValue:te,getValues:se,reset:de,resetField:(e,t={})=>{y(m,e)&&(p(t.defaultValue)?te(e,y(b,e)):(te(e,t.defaultValue),z(b,e,t.defaultValue)),t.keepTouched||ye(u.touchedFields,e),t.keepDirty||(ye(u.dirtyFields,e),u.isDirty=t.defaultValue?J(e,y(b,e)):J()),t.keepError||(ye(u.errors,e),w.isValid&&I()),O.state.next({...u}))},clearErrors:e=>{e&&M(e).forEach((e=>ye(u.errors,e))),O.state.next({errors:e?u.errors:{}})},unregister:oe,setError:(e,t,r)=>{const n=(y(m,e,{_f:{}})._f||{}).ref;z(u.errors,e,{...t,ref:n}),O.state.next({name:e,errors:u.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},setFocus:(e,t={})=>{const r=y(m,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ie}}t.Controller=e=>e.render(B(e)),t.FormProvider=e=>{const{children:t,...r}=e;return s.default.createElement(k.Provider,{value:r},t)},t.appendErrors=C,t.get=y,t.set=z,t.useController=B,t.useFieldArray=function(e){const t=x(),{control:r=t.control,name:n,keyName:i="id",shouldUnregister:a}=e,[o,u]=s.default.useState(r._getFieldArray(n)),l=s.default.useRef(r._getFieldArray(n).map(U)),c=s.default.useRef(o),d=s.default.useRef(n),f=s.default.useRef(!1);d.current=n,c.current=o,r._names.array.add(n),e.rules&&r.register(n,e.rules),A({next:({values:e,name:t})=>{if(t===d.current||!t){const t=y(e,d.current);Array.isArray(t)&&(u(t),l.current=t.map(U))}},subject:r._subjects.array});const p=s.default.useCallback((e=>{f.current=!0,r._updateFieldArray(n,e)}),[r,n]);return s.default.useEffect((()=>{if(r._stateFlags.action=!1,Q(n,r._names)&&r._subjects.state.next({}),f.current&&(!q(r._options.mode).isOnSubmit||r._formState.isSubmitted))if(r._options.resolver)r._executeSchema([n]).then((e=>{const t=y(e.errors,n),s=y(r._formState.errors,n);(s?!t&&s.type:t&&t.type)&&(t?z(r._formState.errors,n,t):ye(r._formState.errors,n),r._subjects.state.next({errors:r._formState.errors}))}));else{const e=y(r._fields,n);e&&e._f&&ae(e,r._formValues,r._options.criteriaMode===_,r._options.shouldUseNativeValidation,!0).then((e=>!D(e)&&r._subjects.state.next({errors:Y(r._formState.errors,e,n)})))}r._subjects.watch.next({name:n,values:r._formValues}),r._names.focus&&L(r._fields,(e=>!!e&&e.startsWith(r._names.focus||""))),r._names.focus="",r._updateValid()}),[o,n,r]),s.default.useEffect((()=>(!y(r._formValues,n)&&r._updateFieldArray(n),()=>{(r._options.shouldUnregister||a)&&r.unregister(n)})),[n,r,i,a]),{swap:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(n);pe(s,e,t),pe(l.current,e,t),p(s),u(s),r._updateFieldArray(n,s,pe,{argA:e,argB:t},!1)}),[p,n,r]),move:s.default.useCallback(((e,t)=>{const s=r._getFieldArray(n);ce(s,e,t),ce(l.current,e,t),p(s),u(s),r._updateFieldArray(n,s,ce,{argA:e,argB:t},!1)}),[p,n,r]),prepend:s.default.useCallback(((e,t)=>{const s=M(N(e)),i=de(r._getFieldArray(n),s);r._names.focus=R(n,0,t),l.current=de(l.current,s.map(U)),p(i),u(i),r._updateFieldArray(n,i,de,{argA:ue(e)})}),[p,n,r]),append:s.default.useCallback(((e,t)=>{const s=M(N(e)),i=oe(r._getFieldArray(n),s);r._names.focus=R(n,i.length-1,t),l.current=oe(l.current,s.map(U)),p(i),u(i),r._updateFieldArray(n,i,oe,{argA:ue(e)})}),[p,n,r]),remove:s.default.useCallback((e=>{const t=fe(r._getFieldArray(n),e);l.current=fe(l.current,e),p(t),u(t),r._updateFieldArray(n,t,fe,{argA:e})}),[p,n,r]),insert:s.default.useCallback(((e,t,s)=>{const i=M(N(t)),a=le(r._getFieldArray(n),e,i);r._names.focus=R(n,e,s),l.current=le(l.current,e,i.map(U)),p(a),u(a),r._updateFieldArray(n,a,le,{argA:e,argB:ue(t)})}),[p,n,r]),update:s.default.useCallback(((e,t)=>{const s=N(t),i=ge(r._getFieldArray(n),e,s);l.current=[...i].map(((t,r)=>t&&r!==e?l.current[r]:U())),p(i),u([...i]),r._updateFieldArray(n,i,ge,{argA:e,argB:s},!0,!1)}),[p,n,r]),replace:s.default.useCallback((e=>{const t=M(N(e));l.current=t.map(U),p([...t]),u([...t]),r._updateFieldArray(n,[...t],(e=>e),{},!0,!1)}),[p,n,r]),fields:s.default.useMemo((()=>o.map(((e,t)=>({...e,[i]:l.current[t]||U()})))),[o,i])}},t.useForm=function(e={}){const t=s.default.useRef(),[r,n]=s.default.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:W(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...Te(e,(()=>n((e=>({...e}))))),formState:r});const i=t.current.control;return i._options=e,A({subject:i._subjects.state,next:e=>{O(e,i._proxyFormState,i._updateFormState,!0)&&n({...i._formState})}}),s.default.useEffect((()=>{i._stateFlags.mount||(i._updateValid(),i._stateFlags.mount=!0),i._stateFlags.watch&&(i._stateFlags.watch=!1,i._subjects.state.next({})),i._removeUnmounted()})),s.default.useEffect((()=>{e.values&&!_e(e.values,i._defaultValues)&&i._reset(e.values,i._options.resetOptions)}),[e.values,i]),s.default.useEffect((()=>{r.submitCount&&i._focusError()}),[i,r.submitCount]),t.current.formState=w(r,i),t.current},t.useFormContext=x,t.useFormState=S,t.useWatch=I},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),s=r(2);const i=()=>{const[e,t]=Object(n.useState)(),{notifications:{toasts:r}}=Object(s.e)().services;return(n,s)=>{var i,a;e&&r.remove(e),n&&t(r.addError(n,{title:(null==n||null===(i=n.body)||void 0===i?void 0:i.error)||(null==n||null===(a=n.body)||void 0===a?void 0:a.message),...s}))}}},function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,r){"use strict";let n,s;r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return s})),function(e){e.asc="asc",e.desc="desc"}(n||(n={})),function(e){e.actions="actions",e.actionDetails="actionDetails",e.actionResults="actionResults",e.agents="agents",e.results="results"}(s||(s={}))},function(e,t){e.exports=__kbnSharedDeps__.LodashFp},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(6),s=r.n(n),i=r(0),a=r.n(i),o=r(3),u=r(14),l=r.n(u);const c=e=>a.a.createElement(o.EuiIcon,s()({size:"xl",type:l.a},e)),d=a.a.memo(c)},function(e,t,r){"use strict";var n=r(1);r.d(t,"g",(function(){return n.getUseField})),r.d(t,"b",(function(){return n.FIELD_TYPES})),r.d(t,"d",(function(){return n.Form})),r.d(t,"h",(function(){return n.useForm})),r.d(t,"i",(function(){return n.useFormData}));var s=r(10);r.d(t,"c",(function(){return s.Field}));var i=r(33);r.d(t,"f",(function(){return i.fieldValidators}));var a=r(34);r.d(t,"a",(function(){return a.EuiCodeEditor}));var o=r(5);r.d(t,"j",(function(){return o.useUiSetting$})),r.d(t,"e",(function(){return o.KibanaThemeProvider}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0);const s=r.n(n).a.createContext(null)},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return a}));var n=r(22);const s=e=>Object(n.isString)(e)?e:JSON.stringify(e),i=(e,t)=>({activePage:e,cursorStart:e*t,querySize:t}),a=(e,t)=>{var r,n,s;return{dsl:null!==(r=null!==(n=null==e||null===(s=e.inspect)||void 0===s?void 0:s.dsl)&&void 0!==n?n:null==t?void 0:t.dsl)&&void 0!==r?r:[],response:null!=e?[JSON.stringify(e.rawResponse,null,2)]:null==t?void 0:t.response}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(0),s=r(2);const i=()=>{const[e,t]=Object(n.useState)(!0),[r,i]=Object(n.useState)(!1),[a,o]=Object(n.useState)(!1),{http:u}=Object(s.e)().services;return Object(n.useEffect)((()=>{u.get("/internal/osquery/status").then((e=>{t(!1),i("installed"!==(null==e?void 0:e.install_status))})).catch((e=>{t(!1),403===e.body.statusCode&&o(!0)}))}),[u]),{loading:e,disabled:r,permissionDenied:a}}},function(e,t,r){"use strict";r.d(t,"e",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return u}));var n=r(7);const s=n.i18n.translate("xpack.osquery.action.shortEmptyTitle",{defaultMessage:"Osquery is not available"}),i=n.i18n.translate("xpack.osquery.action.empty",{defaultMessage:"An Elastic Agent is not installed on this host. To run queries, install Elastic Agent on the host, and then add the Osquery Manager integration to the agent policy in Fleet."}),a=n.i18n.translate("xpack.osquery.action.permissionDenied",{defaultMessage:"Permission denied"}),o=n.i18n.translate("xpack.osquery.action.unavailable",{defaultMessage:"The Osquery Manager integration is not added to the agent policy. To run queries on the host, add the Osquery Manager integration to the agent policy in Fleet."}),u=n.i18n.translate("xpack.osquery.action.agentStatus",{defaultMessage:"To run queries on this host, the Elastic Agent must be active. Check the status of this agent in Fleet."})},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(8),s=r(7),i=r(27),a=r(2),o=r(19),u=r(21);const l=({activePage:e,direction:t=u.a.desc,limit:r,sortField:l,filterQuery:c,skip:d=!1,alertId:f})=>{const{http:p}=Object(a.e)().services,y=Object(o.a)();return Object(n.useQuery)(["actions",{activePage:e,direction:t,limit:r,sortField:l,...f?{alertId:f}:{}}],(()=>p.get("/api/osquery/live_queries",{query:{filterQuery:Object(i.a)(c),page:e,pageSize:r,sort:l,sortOrder:t}})),{keepPreviousData:!0,enabled:!d,onSuccess:()=>y(),onError:e=>y(e,{title:s.i18n.translate("xpack.osquery.live_queries_all.fetchError",{defaultMessage:"Error while fetching live queries"})})})}},function(e,t,r){"use strict";var n,s=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),i=[];function a(e){for(var t=-1,r=0;r<i.length;r++)if(i[r].identifier===e){t=r;break}return t}function o(e,t){for(var r={},n=[],s=0;s<e.length;s++){var o=e[s],u=t.base?o[0]+t.base:o[0],l=r[u]||0,c="".concat(u," ").concat(l);r[u]=l+1;var d=a(c),f={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(i[d].references++,i[d].updater(f)):i.push({identifier:c,updater:g(f,t),references:1}),n.push(c)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var a=s(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,c=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,r,n){var s=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=c(t,s);else{var i=document.createTextNode(s),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function f(e,t,r){var n=r.css,s=r.media,i=r.sourceMap;if(s?e.setAttribute("media",s):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,y=0;function g(e,t){var r,n,s;if(t.singleton){var i=y++;r=p||(p=u(t)),n=d.bind(null,r,i,!1),s=d.bind(null,r,i,!0)}else r=u(t),n=f.bind(null,r,t),s=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else s()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n));var r=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var s=a(r[n]);i[s].references--}for(var u=o(e,t),l=0;l<r.length;l++){var c=a(r[l]);0===i[c].references&&(i[c].updater(),i.splice(c,1))}r=u}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r,n,s,i=e[1]||"",a=e[3];if(!a)return i;if(t&&"function"==typeof btoa){var o=(r=a,n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),"/*# ".concat(s," */")),u=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[i].concat(u).concat([o]).join("\n")}return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var s={};if(n)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(s[a]=!0)}for(var o=0;o<e.length;o++){var u=[].concat(e[o]);n&&s[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("entry/core/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r(38),__kbnBundles__.define("plugin/osquery/public",r,44),__kbnBundles__.define("plugin/osquery/common",r,9)},function(e,t,r){r.p=window.__kbnPublicPath__.osquery},function(e,t,r){switch(window.__kbnThemeTag__){case"v8dark":return r(40);case"v8light":return r(42)}},function(e,t,r){var n=r(31),s=r(41);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,r){(t=r(32)(!1)).push([e.i,".kbnFieldButton{align-items:center;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#25262e}.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within,.kbnFieldButton--isDraggable:hover{border-radius:6px;box-shadow:0 .9px 4px -1px #0003,0 2.6px 8px -1px #00000026,0 5.7px 12px -1px rgba(0,0,0,.125),0 15px 15px -1px #0000001a;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:focus,.kbnFieldButton--isDraggable .kbnFieldButton__button:hover{cursor:grab}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldAction,.kbnFieldButton--small .kbnFieldButton__fieldIcon{margin-right:4px}",""]),e.exports=t},function(e,t,r){var n=r(31),s=r(43);"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);n(s,{insert:"head",singleton:!1}),e.exports=s.locals||{}},function(e,t,r){(t=r(32)(!1)).push([e.i,".kbnFieldButton{align-items:center;border-radius:6px;display:flex;font-size:14px;font-size:1rem;line-height:1.71429rem;margin-bottom:4px;transition:box-shadow .15s cubic-bezier(.694,.0482,.335,1),background-color .15s cubic-bezier(.694,.0482,.335,1)}.kbnFieldButton-isActive,.kbnFieldButton:focus-within{outline:2px solid currentColor}.kbnFieldButton-isActive:focus-visible,.kbnFieldButton:focus-within:focus-visible{outline-style:auto}.kbnFieldButton-isActive:not(:focus-visible),.kbnFieldButton:focus-within:not(:focus-visible){outline:none}.kbnFieldButton--isDraggable{background:#fff}.kbnFieldButton--isDraggable:focus,.kbnFieldButton--isDraggable:focus-within,.kbnFieldButton--isDraggable:hover{border-radius:6px;box-shadow:0 .9px 4px -1px #00000014,0 2.6px 8px -1px #0000000f,0 5.7px 12px -1px #0000000d,0 15px 15px -1px #0000000a;z-index:2}.kbnFieldButton--isDraggable .kbnFieldButton__button:focus,.kbnFieldButton--isDraggable .kbnFieldButton__button:hover{cursor:grab}.kbnFieldButton__button{align-items:flex-start;display:flex;flex-grow:1;line-height:normal;padding:8px;text-align:left}.kbnFieldButton__fieldIcon{flex-shrink:0;line-height:0;margin-right:8px}.kbnFieldButton__name{flex-grow:1;word-break:break-word}.kbnFieldButton__infoIcon{flex-shrink:0;margin-left:4px}.kbnFieldButton__fieldAction{margin-right:8px}.kbnFieldButton--small{font-size:12px}.kbnFieldButton--small .kbnFieldButton__button{padding:4px}.kbnFieldButton--small .kbnFieldButton__fieldAction,.kbnFieldButton--small .kbnFieldButton__fieldIcon{margin-right:4px}",""]),e.exports=t},function(e,t,r){"use strict";r.r(t),r.d(t,"plugin",(function(){return U}));var n=r(15),s=r.n(n),i=r(35),a=r(36),o=r(30),u=r(0),l=r.n(u),c=r(8),d=r(13);const f=Object(u.lazy)((()=>Promise.all([r.e(0),r.e(1),r.e(7)]).then(r.bind(null,154))));var p=r(28),y=r(6),g=r.n(y);const m=Object(u.lazy)((()=>Promise.all([r.e(0),r.e(9)]).then(r.bind(null,159)))),b=e=>t=>l.a.createElement(u.Suspense,{fallback:null},l.a.createElement(m,g()({services:e},t)));var _=r(9);const h=Object(u.lazy)((async()=>{const{OsqueryManagedPolicyCreateImportExtension:e}=await r.e(3).then(r.bind(null,160));return{default:e}})),v=Object(u.lazy)((async()=>{const{OsqueryManagedPolicyCreateImportExtension:e}=await r.e(3).then(r.bind(null,160));return{default:e}})),k=Object(u.lazy)((async()=>{const{OsqueryManagedCustomButtonExtension:e}=await r.e(8).then(r.bind(null,155));return{default:e}}));var x=r(3),w=r(2),D=r(24);const O=({services:e,children:t})=>l.a.createElement(D.e,{theme$:e.theme.theme$},l.a.createElement(w.b,{services:e},l.a.createElement(x.EuiErrorBoundary,null,l.a.createElement(c.QueryClientProvider,{client:d.a},t)))),M=l.a.memo(O);var j=r(25);const A=Object(u.lazy)((()=>Promise.all([r.e(0),r.e(1),r.e(2),r.e(11)]).then(r.bind(null,158))));var S=r(18);const T=Object(u.lazy)((()=>r.e(1).then(r.bind(null,114)))),F=e=>({formMethods:t,...r})=>l.a.createElement(u.Suspense,{fallback:null},l.a.createElement(M,{services:e},l.a.createElement(S.FormProvider,t,l.a.createElement(T,r))));var E=r(17);const N=({agentId:e})=>{const{http:t}=Object(w.e)().services,[r,n]=Object(u.useState)(!1);return Object(u.useEffect)((()=>{(async()=>{try{const{item:r}=await t.get(`/internal/osquery/fleet_wrapper/agents/${e}`),{item:s}=await t.get(`/internal/osquery/fleet_wrapper/agent_policies/${r.policy_id}`),i=Object(E.find)(null==s?void 0:s.package_policies,["package.name",_.OSQUERY_INTEGRATION_NAME]);n(i.enabled)}catch(e){return}})()}),[e,t]),r};var I=r(16),B=r(23),C=r(29);const V=Object(u.lazy)((()=>Promise.all([r.e(0),r.e(10)]).then(r.bind(null,156)))),P=e=>t=>{const{services:{application:{capabilities:{osquery:r}}}}=Object(w.e)();return r.read?l.a.createElement(u.Suspense,{fallback:null},l.a.createElement(M,{services:e},l.a.createElement(V,t))):l.a.createElement(x.EuiEmptyPrompt,{icon:l.a.createElement(B.a,null),title:l.a.createElement("h2",null,C.d),titleSize:"xs",body:l.a.createElement(I.FormattedMessage,{id:"xpack.osquery.cases.permissionDenied",defaultMessage:" To access these results, ask your administrator for {osquery} Kibana privileges.",values:{osquery:l.a.createElement(x.EuiCode,null,"osquery")}})})};var z=r(14),L=r.n(z);class plugin_OsqueryPlugin{constructor(e){s()(this,"kibanaVersion",void 0),s()(this,"storage",new a.Storage(localStorage)),this.initializerContext=e,this.kibanaVersion=this.initializerContext.env.packageInfo.version}setup(e,t){const n=this.storage,s=this.kibanaVersion;return e.application.register({id:"osquery",title:_.PLUGIN_NAME,order:9030,category:i.DEFAULT_APP_CATEGORIES.management,euiIconType:"logoOsquery",async mount(t){const[i,a]=await e.getStartServices(),{renderApp:o}=await Promise.all([r.e(0),r.e(1),r.e(2),r.e(5)]).then(r.bind(null,157));return o(i,a,t,n,s)}}),e.getStartServices().then((([e,r])=>{var i,a;null===(i=t.cases)||void 0===i||i.attachmentFramework.registerExternalReference((a={...e,...r,storage:n,kibanaVersion:s},{id:"osquery",displayName:"Osquery",getAttachmentViewObject:()=>({type:"regular",event:"attached Osquery results",timelineAvatar:l.a.createElement(x.EuiAvatar,{name:"osquery",color:"subdued",iconType:L.a}),children:P(a)})}))})),{}}start(e,t){if(t.fleet){const{registerExtension:e}=t.fleet;e({package:_.OSQUERY_INTEGRATION_NAME,view:"package-policy-create",Component:h}),e({package:_.OSQUERY_INTEGRATION_NAME,view:"package-policy-edit",Component:v}),e({package:_.OSQUERY_INTEGRATION_NAME,view:"package-detail-custom",Component:k})}return{OsqueryAction:(r={...e,...t},e=>{const{ecsData:t,...n}=e,s=Object(u.useMemo)((()=>t&&null!=t&&t._id?l.a.createElement(j.a.Provider,{value:t},l.a.createElement(A,n)):l.a.createElement(A,n)),[t,n]);return l.a.createElement(u.Suspense,{fallback:null},l.a.createElement(M,{services:r},s))}),LiveQueryField:F({...e,...t}),OsqueryResults:b({...e,...t,storage:this.storage,kibanaVersion:this.kibanaVersion}),OsqueryResponseActionTypeForm:e=>{const{onError:t,defaultValues:r,onChange:n}=e;return l.a.createElement(u.Suspense,{fallback:null},l.a.createElement(c.QueryClientProvider,{client:d.a},l.a.createElement(f,{onChange:n,defaultValues:r,onError:t})))},fetchAllLiveQueries:o.a,fetchInstallationStatus:p.a,isOsqueryAvailable:N};var r}stop(){}}function U(e){return new plugin_OsqueryPlugin(e)}},function(e,t){e.exports=__kbnSharedDeps__.StyledComponents},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/fleet/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/fleet/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/lens/common/constants");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.ReactQueryDevtools},function(e,t){e.exports=__kbnSharedDeps__.KbnRison},function(e,t,r){r.r(t);var n=__kbnBundles__.get("plugin/cases/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(n))},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet}]);