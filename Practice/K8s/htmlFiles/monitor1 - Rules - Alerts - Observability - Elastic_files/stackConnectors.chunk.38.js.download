/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.stackConnectors_bundle_jsonpfunction=window.stackConnectors_bundle_jsonpfunction||[]).push([[38],{27:function(e,t,s){"use strict";s.r(t),s.d(t,"EmailParamsFields",(function(){return r})),s.d(t,"default",(function(){return r}));var a=s(1),l=s.n(a),n=s(22),o=s(18),c=s(0),i=s(2),u=s(17);const d=()=>{},r=({actionParams:e,editAction:t,index:s,errors:r,messageVariables:b,defaultMessage:m,isLoading:g,isDisabled:j,onBlur:p=d,showEmailSubjectAndMessage:x=!0,useDefaultMessage:O})=>{var f,v;const{to:C,cc:h,bcc:k,subject:E,message:B}=e,F=C?C.map((e=>({label:e}))):[],M=h?h.map((e=>({label:e}))):[],A=k?k.map((e=>({label:e}))):[],[I,T]=Object(a.useState)(!1),[w,L]=Object(a.useState)(!1),[[W,S],V]=Object(a.useState)([!1,m]);Object(a.useEffect)((()=>{(O||null==e||!e.message||W&&(null==e?void 0:e.message)===S&&S!==m)&&(V([!0,m]),t("message",m,s))}),[m]);const y=void 0!==C&&void 0!==r.to&&r.to.length>0,D=void 0!==E&&void 0!==r.subject&&r.subject.length>0,P=void 0!==r.cc&&r.cc.length>0&&void 0!==h,R=void 0!==r.bcc&&r.bcc.length>0&&void 0!==k;return Object(u.jsx)(l.a.Fragment,null,Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.to,isInvalid:y,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientTextFieldLabel",{defaultMessage:"To"}),labelAppend:Object(u.jsx)(l.a.Fragment,null,Object(u.jsx)("span",null,I||h&&0!==(null==h?void 0:h.length)?null:Object(u.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>T(!0)},Object(u.jsx)(n.FormattedMessage,{defaultMessage:"Cc",id:"xpack.stackConnectors.components.email.addCcButton"})),w||k&&0!==(null==k?void 0:k.length)?null:Object(u.jsx)(o.EuiButtonEmpty,{size:"xs",onClick:()=>L(!0)},Object(u.jsx)(n.FormattedMessage,{defaultMessage:"Bcc",id:"xpack.stackConnectors.components.email.addBccButton"}))))},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:y,isLoading:g,isDisabled:j,fullWidth:!0,"data-test-subj":"toEmailAddressInput",selectedOptions:F,onCreateOption:e=>{const a=[...F,{label:e}];t("to",a.map((e=>e.label)),s)},onChange:e=>{t("to",e.map((e=>e.label)),s)},onBlur:()=>{C||t("to",[],s),p("to")}})),I||h&&(null==h?void 0:h.length)>0?Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.cc,isInvalid:P,isDisabled:j,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientCopyTextFieldLabel",{defaultMessage:"Cc"})},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:P,isLoading:g,fullWidth:!0,"data-test-subj":"ccEmailAddressInput",selectedOptions:M,onCreateOption:e=>{const a=[...M,{label:e}];t("cc",a.map((e=>e.label)),s)},onChange:e=>{t("cc",e.map((e=>e.label)),s)},onBlur:()=>{h||t("cc",[],s),p("cc")}})):null,w||k&&(null==k?void 0:k.length)>0?Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.bcc,isInvalid:R,label:c.i18n.translate("xpack.stackConnectors.components.email.recipientBccTextFieldLabel",{defaultMessage:"Bcc"})},Object(u.jsx)(o.EuiComboBox,{noSuggestions:!0,isInvalid:R,isDisabled:j,isLoading:g,fullWidth:!0,"data-test-subj":"bccEmailAddressInput",selectedOptions:A,onCreateOption:e=>{const a=[...A,{label:e}];t("bcc",a.map((e=>e.label)),s)},onChange:e=>{t("bcc",e.map((e=>e.label)),s)},onBlur:()=>{k||t("bcc",[],s),p("bcc")}})):null,x&&Object(u.jsx)(o.EuiFormRow,{fullWidth:!0,error:r.subject,isInvalid:D,label:c.i18n.translate("xpack.stackConnectors.components.email.subjectTextFieldLabel",{defaultMessage:"Subject"})},Object(u.jsx)(i.TextFieldWithMessageVariables,{index:s,editAction:t,messageVariables:b,paramsProperty:"subject",inputTargetValue:E,errors:null!==(f=r.subject)&&void 0!==f?f:[]})),x&&Object(u.jsx)(i.TextAreaWithMessageVariables,{index:s,editAction:t,messageVariables:b,paramsProperty:"message",inputTargetValue:B,label:c.i18n.translate("xpack.stackConnectors.components.email.messageTextAreaFieldLabel",{defaultMessage:"Message"}),errors:null!==(v=r.message)&&void 0!==v?v:[]}))}}}]);