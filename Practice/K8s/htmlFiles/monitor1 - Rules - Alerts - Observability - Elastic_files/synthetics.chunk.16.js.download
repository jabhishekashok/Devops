/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.synthetics_bundle_jsonpfunction=window.synthetics_bundle_jsonpfunction||[]).push([[16],{218:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(9),r=n(57),s=n(73);const o=({query:e,filters:t})=>{const n=void 0===t||"string"==typeof t?"":JSON.stringify(Array.from(Object.entries(t))),[o,i]=Object(r.d)(e,n,void 0,!0),{data:c,loading:l}=Object(a.useFetcher)((()=>Object(s.q)({dateRangeStart:"now-24h",dateRangeEnd:"now",filters:i?void 0:o})),[o,e]);return{count:c||{total:0,up:0,down:0},loading:l}}},463:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var a=n(60),r=n.n(a),s=n(1),o=n.n(s),i=n(51),c=n(21),l=n(168),u=n(76),d=n(77),f=n(54),b=n(174),m=n(58),v=n(53),O=n(218),h=n(52);const{TYPE:g,TAGS:j,LOCATION:p,PORT:w}=h.k,E=({enabled:e,numTimes:t,setRuleParams:n,timerange:a,ruleParams:r})=>{const c=Object(i.useDispatch)();Object(s.useEffect)((()=>{r.search&&c(Object(m.S)(r.search))}),[r,c]);const{count:l,loading:u}=Object(O.a)({query:r.search,filters:r.filters}),h=o.a.useMemo((()=>Object.entries(r).length>0&&!Object(d.isRight)(v.b.decode(r))&&!Object(d.isRight)(v.l.decode(r))),[r]),E=Object(i.useSelector)(f.F);return Object(s.useEffect)((()=>{var e,t,a,s;r.filters||null===E||n("filters",{[w]:null!==(e=null==E?void 0:E.ports)&&void 0!==e?e:[],[p]:null!==(t=null==E?void 0:E.locations)&&void 0!==t?t:[],[g]:null!==(a=null==E?void 0:E.schemes)&&void 0!==a?a:[],[j]:null!==(s=null==E?void 0:E.tags)&&void 0!==s?s:[]})}),[r,n,E]),o.a.createElement(b.b,{ruleParams:r,enabled:e,isOldAlert:h,numTimes:t,setRuleParams:n,snapshotCount:l.total,snapshotLoading:u,timerange:a})};var P=n(94);function y({core:e,plugins:t,params:n}){return u.a.core=e,o.a.createElement(i.Provider,{store:l.b},o.a.createElement(c.KibanaContextProvider,{services:{...e,...t}},o.a.createElement(P.a,{dataViews:t.dataViews},o.a.createElement(E,r()({},n,{autocomplete:t.unifiedSearch.autocomplete})))))}}}]);