!function(e){function t(t){for(var n,i,r=t[0],s=t[1],a=0,c=[];a<r.length;a++)i=r[a],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&c.push(o[i][0]),o[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(l&&l(t);c.length;)c.shift()()}var n={},o={1:0};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,i){n=o[e]=[t,i]}));t.push(n[2]=r);var s,a=document.createElement("script");a.charset="utf-8",a.timeout=120,i.nc&&a.setAttribute("nonce",i.nc),a.src=function(e){return i.p+"controls.chunk."+e+".js"}(e);var l=new Error;s=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",l.name="ChunkLoadError",l.type=i,l.request=r,n[1](l)}o[e]=void 0}};var c=setTimeout((function(){s({type:"timeout",target:a})}),12e4);a.onerror=a.onload=s,document.head.appendChild(a)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var r=window.controls_bundle_jsonpfunction=window.controls_bundle_jsonpfunction||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var l=s;i(i.s=33)}([function(e,t,n){e.exports=n(26)(2)},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/presentationUtil/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,i,r;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(i=o;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(r=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=o;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,r[i]))return!1;for(i=o;0!=i--;){var s=r[i];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return o.a})),n.d(t,"controlGroupInputToRawControlGroupAttributes",(function(){return b})),n.d(t,"rawControlGroupAttributesToControlGroupInput",(function(){return m})),n.d(t,"rawControlGroupAttributesToSerializable",(function(){return h})),n.d(t,"serializableToRawControlGroupAttributes",(function(){return S})),n.d(t,"persistableControlGroupInputIsEqual",(function(){return g})),n.d(t,"getDefaultControlGroupInput",(function(){return p})),n.d(t,"DEFAULT_CONTROL_WIDTH",(function(){return a.c})),n.d(t,"DEFAULT_CONTROL_STYLE",(function(){return a.b})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return c.a})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return y.a})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return v.a}));var o=n(21),i=n(5),r=n.n(i),s=n(3),a=n(9),l=n(10),c=n(8);const u={[c.a]:{getPanelIsEqual:(e,t)=>{if(!r()(Object(s.omit)(e,"explicitInput"),Object(s.omit)(t,"explicitInput")))return!1;const{sort:n,exclude:o,hideSort:i,hideExists:a,hideExclude:c,selectedOptions:u,singleSelect:d,existsSelected:p,runPastTimeout:g,...f}=e.explicitInput,{sort:b,exclude:m,hideSort:h,hideExists:S,hideExclude:y,selectedOptions:v,singleSelect:O,existsSelected:_,runPastTimeout:T,...w}=t.explicitInput;return Boolean(o)===Boolean(m)&&Boolean(i)===Boolean(h)&&Boolean(a)===Boolean(S)&&Boolean(c)===Boolean(y)&&Boolean(d)===Boolean(O)&&Boolean(p)===Boolean(_)&&Boolean(g)===Boolean(T)&&r()(null!=n?n:l.a,null!=b?b:l.a)&&Object(s.isEqual)(null!=u?u:[],null!=v?v:[])&&r()(f,w)}}},d=e=>{if(e||"string"==typeof e)try{return JSON.parse(e)}catch{return}},p=()=>({panels:{},defaultControlWidth:a.c,defaultControlGrow:a.a,controlStyle:a.b,chainingSystem:"HIERARCHICAL",ignoreParentSettings:{ignoreFilters:!1,ignoreQuery:!1,ignoreTimerange:!1,ignoreValidations:!1}}),g=(e,t)=>{const n=p(),o={...n,...Object(s.pick)(e,["panels","chainingSystem","controlStyle","ignoreParentSettings"])},i={...n,...Object(s.pick)(t,["panels","chainingSystem","controlStyle","ignoreParentSettings"])};return!(!f(o.panels,i.panels)||!r()(Object(s.omit)(o,"panels"),Object(s.omit)(i,"panels")))},f=(e,t)=>{const n=Object.keys(e),o=Object.keys(t);if(Object(s.xor)(n,o).length>0)return!1;for(const n of o){const o=t[n].type;if(!(u[o]?u[o].getPanelIsEqual(e[n],t[n]):(i=e[n],a=t[n],r()(i,a))))return!1}var i,a;return!0},b=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,panelsJSON:JSON.stringify(e.panels),ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings)}),m=e=>{const t=p(),{chainingSystem:n,controlStyle:o,ignoreParentSettingsJSON:i,panelsJSON:r}=e,s=d(r),a=d(i);return{...t,...n?{chainingSystem:n}:{},...o?{controlStyle:o}:{},...a?{ignoreParentSettings:a}:{},...s?{panels:s}:{}}},h=e=>{var t,n,o;const i=p();return{chainingSystem:null==e?void 0:e.chainingSystem,controlStyle:null!==(t=null==e?void 0:e.controlStyle)&&void 0!==t?t:i.controlStyle,ignoreParentSettings:null!==(n=d(null==e?void 0:e.ignoreParentSettingsJSON))&&void 0!==n?n:{},panels:null!==(o=d(null==e?void 0:e.panelsJSON))&&void 0!==o?o:{}}},S=e=>({controlStyle:e.controlStyle,chainingSystem:e.chainingSystem,ignoreParentSettingsJSON:JSON.stringify(e.ignoreParentSettings),panelsJSON:JSON.stringify(e.panels)});var y=n(14),v=n(20)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="optionsListControl"},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const o="medium",i=!0,r="oneLine"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o={by:"_count",direction:"desc"},i=e=>"ip"===e?["_count"]:["_count","_key"]},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t){e.exports=__kbnSharedDeps__.Uuid},function(e,t,n){"use strict";var o=n(31);n.d(t,"a",(function(){return o.pluginServices}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="rangeSliderControl"},function(e,t,n){"use strict";var o=n(21);n.d(t,"a",(function(){return o.a}))},function(e,t,n){"use strict";n.r(t),n.d(t,"CONTROL_GROUP_TYPE",(function(){return L.CONTROL_GROUP_TYPE})),n.d(t,"OPTIONS_LIST_CONTROL",(function(){return L.OPTIONS_LIST_CONTROL})),n.d(t,"RANGE_SLIDER_CONTROL",(function(){return L.RANGE_SLIDER_CONTROL})),n.d(t,"TIME_SLIDER_CONTROL",(function(){return L.TIME_SLIDER_CONTROL})),n.d(t,"ControlGroupContainerFactory",(function(){return control_group_container_factory_ControlGroupContainerFactory})),n.d(t,"controlGroupInputBuilder",(function(){return P.a})),n.d(t,"OptionsListEmbeddableFactory",(function(){return options_list_embeddable_factory_OptionsListEmbeddableFactory})),n.d(t,"RangeSliderEmbeddableFactory",(function(){return range_slider_embeddable_factory_RangeSliderEmbeddableFactory})),n.d(t,"LazyControlGroupRenderer",(function(){return x})),n.d(t,"useControlGroupContainerContext",(function(){return I.useControlGroupContainerContext})),n.d(t,"plugin",(function(){return j}));var o=n(8),i=n(0),r=n.n(i),s=n(5),a=n.n(s),l=n(1),c=n(2),u=n(23);const d="optionsListDataView";var p=n(27),g=n.n(p),f=n(6),b=n.n(f),m=n(11),h=n(4),S=n(10),y=n(18),v={name:"1u81noh",styles:"margin-top:0px!important"};const O=({initialInput:e,onChange:t,fieldType:n})=>{var o,i,r,s;const[a,l]=Object(f.useState)({sortDirection:null!==(o=null==e||null===(i=e.sort)||void 0===i?void 0:i.direction)&&void 0!==o?o:S.a.direction,sortBy:null!==(r=null==e||null===(s=e.sort)||void 0===s?void 0:s.by)&&void 0!==r?r:S.a.by,runPastTimeout:null==e?void 0:e.runPastTimeout,singleSelect:null==e?void 0:e.singleSelect,hideExclude:null==e?void 0:e.hideExclude,hideExists:null==e?void 0:e.hideExists,hideSort:null==e?void 0:e.hideSort});return Object(f.useEffect)((()=>{Object(S.b)(n).includes(a.sortBy)||(t({sort:S.a}),l((e=>({...e,sortBy:S.a.by,sortDirection:S.a.direction}))))}),[n,t,a.sortBy]),Object(h.jsx)(b.a.Fragment,null,Object(h.jsx)(m.EuiFormRow,null,Object(h.jsx)(m.EuiSwitch,{label:y.a.editor.getAllowMultiselectTitle(),checked:!a.singleSelect,onChange:()=>{t({singleSelect:!a.singleSelect}),l((e=>({...e,singleSelect:!e.singleSelect})))},"data-test-subj":"optionsListControl__allowMultipleAdditionalSetting"})),Object(h.jsx)(m.EuiFormRow,null,Object(h.jsx)((({switchProps:e,label:t,tooltip:n})=>Object(h.jsx)(m.EuiFlexGroup,{alignItems:"center",gutterSize:"xs"},Object(h.jsx)(m.EuiFlexItem,{grow:!1},Object(h.jsx)(m.EuiSwitch,g()({label:t},e))),Object(h.jsx)(m.EuiFlexItem,{grow:!1,css:v},Object(h.jsx)(m.EuiIconTip,{content:n,position:"right"})))),{label:y.a.editor.getRunPastTimeoutTitle(),tooltip:y.a.editor.getRunPastTimeoutTooltip(),switchProps:{checked:Boolean(a.runPastTimeout),onChange:()=>{t({runPastTimeout:!a.runPastTimeout}),l((e=>({...e,runPastTimeout:!e.runPastTimeout})))}},"data-test-subj":"optionsListControl__runPastTimeoutAdditionalSetting"})))};class options_list_embeddable_factory_OptionsListEmbeddableFactory{constructor(){r()(this,"type",o.a),r()(this,"canCreateNew",(()=>!1)),r()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!a()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!a()(e.dataViewId,t.getInput().dataViewId))&&(e.selectedOptions=[]),e))),r()(this,"isFieldCompatible",(e=>!e.spec.scripted&&(e.aggregatable&&"string"===e.type||"boolean"===e.type||"ip"===e.type))),r()(this,"controlEditorOptionsComponent",O),r()(this,"isEditable",(()=>Promise.resolve(!1))),r()(this,"getDisplayName",(()=>l.i18n.translate("controls.optionsList.displayName",{defaultMessage:"Options list"}))),r()(this,"getIconType",(()=>"editorChecklist")),r()(this,"getDescription",(()=>l.i18n.translate("controls.optionsList.description",{defaultMessage:"Add a menu for selecting field values."}))),r()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===d&&(n.dataViewId=e.id)})),n})),r()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:d,type:u.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const o=await Object(c.lazyLoadReduxEmbeddablePackage)(),{OptionsListEmbeddable:i}=await Promise.all([n.e(0),n.e(5)]).then(n.bind(null,112));return Promise.resolve(new i(o,e,{},t))}}var _=n(14);const T="rangeSliderDataView";class range_slider_embeddable_factory_RangeSliderEmbeddableFactory{constructor(){r()(this,"type",_.a),r()(this,"getDisplayName",(()=>l.i18n.translate("controls.rangeSlider.displayName",{defaultMessage:"Range slider"}))),r()(this,"getDescription",(()=>l.i18n.translate("controls.rangeSlider.description",{defaultMessage:"Add a control for selecting a range of field values."}))),r()(this,"getIconType",(()=>"controlsHorizontal")),r()(this,"canCreateNew",(()=>!1)),r()(this,"isEditable",(()=>Promise.resolve(!1))),r()(this,"presaveTransformFunction",((e,t)=>(t&&(e.fieldName&&!a()(e.fieldName,t.getInput().fieldName)||e.dataViewId&&!a()(e.dataViewId,t.getInput().dataViewId))&&(e.value=["",""]),e))),r()(this,"isFieldCompatible",(e=>e.aggregatable&&"number"===e.type)),r()(this,"inject",((e,t)=>{const n={...e};return t.forEach((e=>{e.name===T&&(n.dataViewId=e.id)})),n})),r()(this,"extract",(e=>{const t={...e},n=[];return"dataViewId"in t&&(n.push({name:T,type:u.DATA_VIEW_SAVED_OBJECT_TYPE,id:t.dataViewId}),delete t.dataViewId),{state:t,references:n}}))}async create(e,t){const o=await Object(c.lazyLoadReduxEmbeddablePackage)(),{RangeSliderEmbeddable:i}=await Promise.all([n.e(0),n.e(3)]).then(n.bind(null,115));return Promise.resolve(new i(o,e,{},t))}}class time_slider_embeddable_factory_TimeSliderEmbeddableFactory{constructor(){r()(this,"type",L.TIME_SLIDER_CONTROL),r()(this,"isFieldCompatible",(()=>!1)),r()(this,"isEditable",(()=>Promise.resolve(!1))),r()(this,"getDisplayName",(()=>l.i18n.translate("controls.timeSlider.displayName",{defaultMessage:"Time slider"}))),r()(this,"getIconType",(()=>"clock")),r()(this,"getDescription",(()=>l.i18n.translate("controls.timeSlider.description",{defaultMessage:"Add a slider for selecting a time range"}))),r()(this,"inject",((e,t)=>({...e}))),r()(this,"extract",(e=>({state:{...e},references:[]})))}async create(e,t){const o=await Object(c.lazyLoadReduxEmbeddablePackage)(),{TimeSliderControlEmbeddable:i}=await n.e(4).then(n.bind(null,114));return Promise.resolve(new i(o,e,{},t))}}n(20);var w=n(17);class plugin_ControlsPlugin{async startControlsKibanaServices(e,t){const{registry:o,pluginServices:i}=await Promise.resolve().then(n.bind(null,31));i.setRegistry(o.start({coreStart:e,startPlugins:t}))}transferEditorFunctions(e,t){var n;t.controlEditorOptionsComponent=null!==(n=e.controlEditorOptionsComponent)&&void 0!==n?n:void 0,t.presaveTransformFunction=e.presaveTransformFunction,t.isFieldCompatible=e.isFieldCompatible}setup(e,t){const{registerControlType:n}=w.a,{embeddable:o}=t;return e.getStartServices().then((([,e])=>{o.registerEmbeddableFactory(L.CONTROL_GROUP_TYPE,new control_group_container_factory_ControlGroupContainerFactory(e.embeddable));const t=new options_list_embeddable_factory_OptionsListEmbeddableFactory,i=o.registerEmbeddableFactory(L.OPTIONS_LIST_CONTROL,t)();this.transferEditorFunctions(t,i),n(i);const r=new range_slider_embeddable_factory_RangeSliderEmbeddableFactory,s=o.registerEmbeddableFactory(L.RANGE_SLIDER_CONTROL,r)();this.transferEditorFunctions(r,s),n(s);const a=new time_slider_embeddable_factory_TimeSliderEmbeddableFactory,l=o.registerEmbeddableFactory(L.TIME_SLIDER_CONTROL,a)();this.transferEditorFunctions(a,l),n(l)})),{registerControlType:n}}start(e,t){this.startControlsKibanaServices(e,t);const{getControlFactory:n,getControlTypes:o}=w.a;return{getControlFactory:n,getControlTypes:o}}stop(){}}var L=n(7),C=n(15);const E=e=>`${e.explicitInput.id}:`;class control_group_container_factory_ControlGroupContainerFactory{constructor(e){r()(this,"isContainerType",!0),r()(this,"type",C.a),r()(this,"inject",void 0),r()(this,"extract",void 0),r()(this,"isEditable",(async()=>!1)),r()(this,"getDisplayName",(()=>l.i18n.translate("controls.controlGroup.title",{defaultMessage:"Control group"}))),r()(this,"create",(async(e,t)=>{const o=await Object(c.lazyLoadReduxEmbeddablePackage)(),{ControlGroupContainer:i}=await n.e(2).then(n.bind(null,113));return new i(o,e,t)})),this.persistableStateService=e,this.inject=(e=>(t,n)=>{const o={...t};if("panels"in o){o.panels={...o.panels};for(const[t,i]of Object.entries(o.panels)){o.panels[t]={...i};const r=E(i),s=n.filter((e=>0===e.name.indexOf(r))).map((e=>({...e,name:e.name.replace(r,"")}))),a=0===s.length?n:s,{type:l,...c}=e.inject({...o.panels[t].explicitInput,type:o.panels[t].type},a);o.panels[t].explicitInput=c}}return o})(this.persistableStateService),this.extract=(e=>t=>{const n={...t},o=[];if("panels"in n){n.panels={...n.panels};for(const[t,i]of Object.entries(n.panels)){const r=E(i),{state:s,references:a}=e.extract({...i.explicitInput,type:i.type}),l=a.map((e=>({...e,name:`${r}${e.name}`})));o.push(...l);const{type:c,...u}=s;n.panels[t].explicitInput=u}}return{state:n,references:o}})(this.persistableStateService)}getDefaultInput(){return Object(L.getDefaultControlGroupInput)()}}var P=n(22),I=n(30);const x=b.a.lazy((()=>Promise.resolve().then(n.bind(null,30))));function j(){return new plugin_ControlsPlugin}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));const o=()=>r,i={},r={registerControlType:e=>{i[e.type]=e},getControlFactory:e=>i[e],getControlTypes:()=>Object.keys(i)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(1);const i={control:{getSeparator:()=>o.i18n.translate("controls.optionsList.control.separator",{defaultMessage:", "}),getPlaceholder:()=>o.i18n.translate("controls.optionsList.control.placeholder",{defaultMessage:"Any"}),getNegate:()=>o.i18n.translate("controls.optionsList.control.negate",{defaultMessage:"NOT"}),getExcludeExists:()=>o.i18n.translate("controls.optionsList.control.excludeExists",{defaultMessage:"DOES NOT"})},editor:{getAllowMultiselectTitle:()=>o.i18n.translate("controls.optionsList.editor.allowMultiselectTitle",{defaultMessage:"Allow multiple selections in dropdown"}),getRunPastTimeoutTitle:()=>o.i18n.translate("controls.optionsList.editor.runPastTimeout",{defaultMessage:"Ignore timeout for results"}),getRunPastTimeoutTooltip:()=>o.i18n.translate("controls.optionsList.editor.runPastTimeout.tooltip",{defaultMessage:"Wait to display results until the list is complete. This setting is useful for large data sets, but the results might take longer to populate."})},popover:{getAriaLabel:e=>o.i18n.translate("controls.optionsList.popover.ariaLabel",{defaultMessage:"Popover for {fieldName} control",values:{fieldName:e}}),getSuggestionsAriaLabel:(e,t)=>o.i18n.translate("controls.optionsList.popover.suggestionsAriaLabel",{defaultMessage:"Available {optionCount, plural, one {option} other {options}} for {fieldName}",values:{fieldName:e,optionCount:t}}),getAllowExpensiveQueriesWarning:()=>o.i18n.translate("controls.optionsList.popover.allowExpensiveQueriesWarning",{defaultMessage:"The cluster setting to allow expensive queries is off, so some features are disabled."}),getLoadingMoreMessage:()=>o.i18n.translate("controls.optionsList.popover.loadingMore",{defaultMessage:"Loading more options..."}),getAtEndOfOptionsMessage:()=>o.i18n.translate("controls.optionsList.popover.endOfOptions",{defaultMessage:"The top 1,000 available options are displayed. View more options by searching for the name."}),getEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.empty",{defaultMessage:"No options found"}),getSelectionsEmptyMessage:()=>o.i18n.translate("controls.optionsList.popover.selectionsEmpty",{defaultMessage:"You have no selections"}),getAllOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.allOptionsTitle",{defaultMessage:"Show all options"}),getSelectedOptionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.selectedOptionsTitle",{defaultMessage:"Show only selected options"}),getClearAllSelectionsButtonTitle:()=>o.i18n.translate("controls.optionsList.popover.clearAllSelectionsTitle",{defaultMessage:"Clear selections"}),getSearchPlaceholder:()=>o.i18n.translate("controls.optionsList.popover.searchPlaceholder",{defaultMessage:"Search"}),getCardinalityLabel:e=>o.i18n.translate("controls.optionsList.popover.cardinalityLabel",{defaultMessage:"{totalOptions, number} {totalOptions, plural, one {option} other {options}}",values:{totalOptions:e}}),getInvalidSelectionsSectionAriaLabel:(e,t)=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsAriaLabel",{defaultMessage:"Ignored {invalidSelectionCount, plural, one {selection} other {selections}} for {fieldName}",values:{fieldName:e,invalidSelectionCount:t}}),getInvalidSelectionsSectionTitle:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsSectionTitle",{defaultMessage:"Ignored {invalidSelectionCount, plural, one {selection} other {selections}}",values:{invalidSelectionCount:e}}),getInvalidSelectionsLabel:e=>o.i18n.translate("controls.optionsList.popover.invalidSelectionsLabel",{defaultMessage:"{selectedOptions} {selectedOptions, plural, one {selection} other {selections}} ignored",values:{selectedOptions:e}}),getInvalidSelectionScreenReaderText:()=>o.i18n.translate("controls.optionsList.popover.invalidSelectionScreenReaderText",{defaultMessage:"Invalid selection."}),getIncludeLabel:()=>o.i18n.translate("controls.optionsList.popover.includeLabel",{defaultMessage:"Include"}),getExcludeLabel:()=>o.i18n.translate("controls.optionsList.popover.excludeLabel",{defaultMessage:"Exclude"}),getIncludeExcludeLegend:()=>o.i18n.translate("controls.optionsList.popover.excludeOptionsLegend",{defaultMessage:"Include or exclude selections"}),getSortPopoverTitle:()=>o.i18n.translate("controls.optionsList.popover.sortTitle",{defaultMessage:"Sort"}),getSortPopoverDescription:()=>o.i18n.translate("controls.optionsList.popover.sortDescription",{defaultMessage:"Define the sort order"}),getSortDisabledTooltip:()=>o.i18n.translate("controls.optionsList.popover.sortDisabledTooltip",{defaultMessage:"Sorting is ignored when “Show only selected” is true"}),getDocumentCountTooltip:e=>o.i18n.translate("controls.optionsList.popover.documentCountTooltip",{defaultMessage:"This value appears in {documentCount, number} {documentCount, plural, one {document} other {documents}}",values:{documentCount:e}}),getDocumentCountScreenReaderText:e=>o.i18n.translate("controls.optionsList.popover.documentCountScreenReaderText",{defaultMessage:"Appears in {documentCount, number} {documentCount, plural, one {document} other {documents}}",values:{documentCount:e}})},controlAndPopover:{getExists:(e=0)=>o.i18n.translate("controls.optionsList.controlAndPopover.exists",{defaultMessage:"{negate, plural, one {Exist} other {Exists}}",values:{negate:e}})},editorAndPopover:{getSortDirectionLegend:()=>o.i18n.translate("controls.optionsList.popover.sortDirections",{defaultMessage:"Sort directions"}),sortBy:{_count:{getSortByLabel:()=>o.i18n.translate("controls.optionsList.popover.sortBy.docCount",{defaultMessage:"By document count"})},_key:{getSortByLabel:()=>o.i18n.translate("controls.optionsList.popover.sortBy.alphabetical",{defaultMessage:"Alphabetically"})}},sortOrder:{asc:{getSortOrderLabel:()=>o.i18n.translate("controls.optionsList.popover.sortOrder.asc",{defaultMessage:"Ascending"})},desc:{getSortOrderLabel:()=>o.i18n.translate("controls.optionsList.popover.sortOrder.desc",{defaultMessage:"Descending"})}}}}},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="timeSlider"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="control_group"},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p}));var o=n(1),i=n(12),r=n(9),s=n(16),a=n(24);const l={addDataControlFromField:async(e,t)=>{const n=await c(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addOptionsListControl:(e,t)=>{const n=u(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addRangeSliderControl:(e,t)=>{const n=d(e,t);e.panels={...e.panels,[n.explicitInput.id]:n}},addTimeSliderControl:e=>{const t=p(e);e.panels={...e.panels,[t.explicitInput.id]:t}}};async function c(e,t){const{controlId:n,dataViewId:o,fieldName:r,title:s}=t;return{type:await Object(a.a)({dataViewId:o,fieldName:r}),...g(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:r,title:null!=s?s:r}}}function u(e,t){const{controlId:n,dataViewId:o,fieldName:r,title:a,...l}=t;return{type:s.OPTIONS_LIST_CONTROL,...g(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:r,title:null!=a?a:r,...l}}}function d(e,t){const{controlId:n,dataViewId:o,fieldName:r,title:a,...l}=t;return{type:s.RANGE_SLIDER_CONTROL,...g(e,t),explicitInput:{id:n||Object(i.v4)(),dataViewId:o,fieldName:r,title:null!=a?a:r,...l}}}function p(e){return{type:s.TIME_SLIDER_CONTROL,order:Object(a.b)(e.panels),grow:!0,width:"large",explicitInput:{id:Object(i.v4)(),title:o.i18n.translate("controls.controlGroup.timeSlider.title",{defaultMessage:"Time slider"})}}}function g(e,t){var n,o,i,s;return{order:Object(a.b)(e.panels),grow:null!==(n=null!==(o=t.grow)&&void 0!==o?o:e.defaultControlGrow)&&void 0!==n?n:r.a,width:null!==(i=null!==(s=t.width)&&void 0!==s?s:e.defaultControlWidth)&&void 0!==i?i:r.c}}},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/dataViews/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var o=n(13),i=n(29);const r=e=>{let t=0;return Object.keys(null!=e?e:{}).length>0&&(t=Object.values(null!=e?e:{}).reduce(((e,t)=>(t.order>e&&(e=t.order),e)),0)+1),t},s=async({dataViewId:e,fieldName:t})=>{const n=await o.a.getServices().dataViews.get(e);return(await Object(i.a)(n))[t].compatibleControlTypes[0]}},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){e.exports=n(26)(3)},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(3),i=n(13);const r=Object(o.memoize)((async e=>await s(e)),(e=>[e.id,JSON.stringify(e.fields.getAll())].join("|"))),s=async e=>{const{controls:{getControlTypes:t,getControlFactory:n}}=i.a.getServices(),o=t().map((e=>n(e))),r={};return new Promise((t=>{for(const t of e.fields.getAll()){const e=[];for(const n of o)n.isFieldCompatible&&n.isFieldCompatible(t)&&e.push(n.type);e.length>0&&(r[t.name]={field:t,compatibleControlTypes:e})}t(r)}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"ControlGroupRenderer",(function(){return b})),n.d(t,"useControlGroupContainerContext",(function(){return m}));var o=n(12),i=n(3),r=n(32),s=n.n(r),a=n(6),l=n(2),c=n(19),u=n(13),d=n(7),p=n(15),g=n(22),f=n(4);const b=({onLoadComplete:e,getInitialInput:t,filters:n,timeRange:r,query:l})=>{const b=Object(a.useRef)(null),[m,h]=Object(a.useState)(),S=Object(a.useMemo)((()=>Object(o.v4)()),[]);return s()((()=>{const{embeddable:n}=u.a.getServices();(async()=>{const o=n.getEmbeddableFactory(p.a),i=await(null==o?void 0:o.create({id:S,...Object(d.getDefaultControlGroupInput)(),...await t(Object(d.getDefaultControlGroupInput)(),g.a)}));b.current&&i.render(b.current),h(i),e&&e(i)})()}),(()=>{null==m||m.destroy()})),Object(a.useEffect)((()=>{var e;m&&((!r||Object(i.isEqual)(m.getInput().timeRange,r))&&Object(c.compareFilters)(null!==(e=m.getInput().filters)&&void 0!==e?e:[],null!=n?n:[])&&Object(i.isEqual)(m.getInput().query,l)||m.updateInput({timeRange:r,query:l,filters:n}))}),[l,n,m,r]),Object(f.jsx)("div",{ref:b})},m=()=>Object(l.useReduxEmbeddableContext)();t.default=b},function(e,t,n){"use strict";n.r(t),n.d(t,"providers",(function(){return p})),n.d(t,"pluginServices",(function(){return g})),n.d(t,"registry",(function(){return f}));var o=n(2),i=n(17),r=n(3),s=n(28),a=n(0),l=n.n(a),c=n(25),u=n.n(c),d=n(19);class options_list_service_OptionsListService{constructor(e){l()(this,"data",void 0),l()(this,"http",void 0),l()(this,"getRoundedTimeRange",(e=>({from:u.a.parse(e.from).startOf("minute").toISOString(),to:u.a.parse(e.to).endOf("minute").toISOString()}))),l()(this,"optionsListCacheResolver",(e=>{const{size:t,sort:n,query:o,filters:i,timeRange:r,searchString:s,runPastTimeout:a,selectedOptions:l,field:{name:c},dataView:{title:u}}=e;return[...r?JSON.stringify(this.getRoundedTimeRange(r)):[],Math.floor(Date.now()/1e3/60),null==l?void 0:l.join(","),JSON.stringify(i),JSON.stringify(o),JSON.stringify(n),a,u,s,c,t].join("|")})),l()(this,"cachedOptionsListRequest",Object(r.memoize)((async(e,t)=>{const n=e.dataView.title,o=this.getRequestBody(e);return await this.http.fetch(`/api/kibana/controls/optionsList/${n}`,{body:JSON.stringify(o),signal:t,method:"POST"})}),this.optionsListCacheResolver)),l()(this,"getRequestBody",(e=>{const t=this.data.query.timefilter.timefilter,{query:n,filters:o,dataView:i,timeRange:r,field:s,...a}=e,l=r?t.createFilter(i,r):void 0,c=[...null!=o?o:[],...l?[l]:[]];return{...a,filters:[Object(d.buildEsQuery)(i,null!=n?n:[],null!=c?c:[])],fieldName:s.name,fieldSpec:s,runtimeFieldMap:i.toSpec().runtimeFieldMap}})),l()(this,"cachedAllowExpensiveQueries",Object(r.memoize)((async()=>{const{allowExpensiveQueries:e}=await this.http.get("/api/kibana/controls/optionsList/getExpensiveQueriesSetting");return e}))),l()(this,"getAllowExpensiveQueries",(async()=>{try{return await this.cachedAllowExpensiveQueries()}catch(e){return!1}})),l()(this,"optionsListResponseWasFailure",(e=>void 0!==e.error)),l()(this,"runOptionsListRequest",(async(e,t)=>{try{return await this.cachedOptionsListRequest(e,t)}catch(t){return this.cachedOptionsListRequest.cache.delete(this.optionsListCacheResolver(e)),"AbortError"===t.name?{error:"aborted"}:{error:t}}})),l()(this,"clearOptionsListCache",(()=>{this.cachedOptionsListRequest.cache=new r.memoize.Cache})),({data:this.data,http:this.http}=e)}}const p={controls:new o.PluginServiceProvider(i.b),data:new o.PluginServiceProvider((({startPlugins:e})=>{const{data:{query:t,search:n}}=e,{data:o}=e;return{fetchFieldRange:async(e,t,n)=>{const{ignoreParentSettings:i,query:a,timeRange:l}=n;let{filters:c=[]}=n;const u=e.getFieldByName(t);if(!u)throw new Error("Field Missing Error");if(l){const t=o.query.timefilter.timefilter.createFilter(e,l);t&&(c=c.concat(t))}const d=await o.search.searchSource.create();d.setField("size",0),d.setField("index",e);const p=(e=>{const t={};return e&&(e.scripted?t.script={source:e.script,lang:e.lang}:t.field=e.name),{maxAgg:{max:t},minAgg:{min:t}}})(u);d.setField("aggs",p),d.setField("filter",null!=i&&i.ignoreFilters?[]:c),d.setField("query",null!=i&&i.ignoreQuery?void 0:a);const g=await Object(s.lastValueFrom)(d.fetch$()),f=Object(r.get)(g,"rawResponse.aggregations.minAgg.value",void 0),b=Object(r.get)(g,"rawResponse.aggregations.maxAgg.value",void 0);return{min:null===f?void 0:f,max:null===b?void 0:b}},query:t,searchSource:n.searchSource,timefilter:t.timefilter.timefilter}})),dataViews:new o.PluginServiceProvider((({startPlugins:e})=>{const{dataViews:{get:t,getIdsWithTitle:n,getDefaultId:o}}=e;return{get:t,getDefaultId:o,getIdsWithTitle:n}})),http:new o.PluginServiceProvider((({coreStart:e})=>{const{http:{get:t,fetch:n}}=e;return{get:t,fetch:n}})),optionsList:new o.PluginServiceProvider(((e,t)=>new options_list_service_OptionsListService(t)),["data","http"]),overlays:new o.PluginServiceProvider((({coreStart:e})=>{const{overlays:{openFlyout:t,openConfirm:n}}=e;return{openFlyout:t,openConfirm:n}})),settings:new o.PluginServiceProvider((({coreStart:e})=>({getDateFormat:()=>e.uiSettings.get("dateFormat","MMM D, YYYY @ HH:mm:ss.SSS"),getTimezone:()=>e.uiSettings.get("dateFormat:tz","Browser"),getDefaultTimeRange:()=>e.uiSettings.get("timepicker:timeDefaults")||{from:"now-15m",to:"now"}}))),theme:new o.PluginServiceProvider((({coreStart:e})=>{const{theme:{theme$:t}}=e;return{theme$:t}})),embeddable:new o.PluginServiceProvider((({startPlugins:e})=>({getEmbeddableFactory:e.embeddable.getEmbeddableFactory}))),unifiedSearch:new o.PluginServiceProvider((({startPlugins:e})=>{const{unifiedSearch:{autocomplete:t}}=e;return{autocomplete:t}}))},g=new o.PluginServices,f=new o.PluginServiceRegistry(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(6);t.default=function(e,t){o.useEffect((function(){return e&&e(),function(){t&&t()}}),[])}},function(e,t,n){n(34),__kbnBundles__.define("plugin/controls/public",n,16),__kbnBundles__.define("plugin/controls/common",n,7)},function(e,t,n){n.p=window.__kbnPublicPath__.controls},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/embeddable/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.RxjsOperators},function(e,t){e.exports=__kbnSharedDeps__.Classnames},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t){e.exports=__kbnSharedDeps__.MomentTimezone},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t,n){n.r(t);var o=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(o))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact}]);