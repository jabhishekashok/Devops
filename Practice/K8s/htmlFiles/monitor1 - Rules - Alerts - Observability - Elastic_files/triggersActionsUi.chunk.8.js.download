/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[]).push([[8,43,55,56,57,58],{101:function(e,t,s){"use strict";s.r(t),s.d(t,"RuleStatusDropdown",(function(){return j})),s.d(t,"futureTimeToInterval",(function(){return p})),s.d(t,"default",(function(){return j}));var a=s(1),l=s.n(a),n=s(61),i=s.n(n),o=s(2),u=s(3),r=s(129),c=s(13),d=s(0);const b="LL @ LT",j=({rule:e,onRuleChanged:t,disableRule:s,enableRule:l,snoozeRule:n,unsnoozeRule:o,isEditable:r,hideSnoozeOption:j=!1,direction:p="column"})=>{const[f,E]=Object(a.useState)(e.enabled),[T,y]=Object(a.useState)(!j&&Object(c.c)(e));Object(a.useEffect)((()=>{E(e.enabled)}),[e.enabled]),Object(a.useEffect)((()=>{j||y(Object(c.c)(e))}),[e,j]);const[I,k]=Object(a.useState)(!1),[C,R]=Object(a.useState)(!1),L=Object(a.useCallback)((()=>R((e=>!e))),[R]),F=Object(a.useCallback)((()=>R(!1)),[R]),v=Object(a.useCallback)((async a=>{if(e.enabled!==a){k(!0);try{a?await l():await s(),E(!f),t()}finally{k(!1)}}}),[e.enabled,f,t,l,s]),A=Object(a.useCallback)((async e=>{try{await n(e),t()}finally{F()}}),[n,t,F]),M=Object(a.useCallback)((async e=>{try{await o(e),t()}finally{F()}}),[o,t,F]),w=f?T?"warning":"primary":"default",z=f?T?O:m:x,U=f&&T?Object(d.jsx)(u.EuiToolTip,{content:e.muteAll?S:i()(new Date(e.isSnoozedUntil)).format(b)},Object(d.jsx)(u.EuiText,{color:"subdued",size:"xs"},e.muteAll?S:i()(new Date(e.isSnoozedUntil)).fromNow(!0))):null,_=Object(d.jsx)(u.EuiBadge,{color:w,"data-test-subj":"statusDropdownReadonly"},z),D=Object(d.jsx)(u.EuiBadge,{color:w,iconSide:"right",iconType:!I&&r?"arrowDown":void 0,onClick:L,iconOnClick:L,onClickAriaLabel:h,iconOnClickAriaLabel:h,isDisabled:I},z,I&&Object(d.jsx)(u.EuiLoadingSpinner,{style:{marginLeft:"4px",marginRight:"4px"},size:"s"}));return Object(d.jsx)(u.EuiFlexGroup,{direction:p,alignItems:"row"===p?"center":"flexStart",justifyContent:"flexStart",gutterSize:"row"===p?"s":"xs",responsive:!1},Object(d.jsx)(u.EuiFlexItem,{grow:!1},r?Object(d.jsx)(u.EuiPopover,{button:D,isOpen:C&&r,closePopover:F,panelPaddingSize:"s","data-test-subj":"statusDropdown",title:z},Object(d.jsx)(g,{onClosePopover:F,onChangeEnabledStatus:v,isEnabled:f,isSnoozed:T,snoozeEndTime:e.isSnoozedUntil,hideSnoozeOption:j,snoozeRule:A,unsnoozeRule:M,scheduledSnoozes:e.snoozeSchedule,activeSnoozes:e.activeSnoozes})):_),Object(d.jsx)(u.EuiFlexItem,{"data-test-subj":"remainingSnoozeTime",grow:!1},U))},g=({onChangeEnabledStatus:e,onClosePopover:t,isEnabled:s,isSnoozed:n,snoozeEndTime:o,hideSnoozeOption:c=!1,snoozeRule:j,unsnoozeRule:g,scheduledSnoozes:O=[],activeSnoozes:h=[]})=>{const S=Object(a.useCallback)((()=>{n?g():e(!0),t()}),[e,t,g,n]),E=Object(a.useCallback)((()=>{e(!1),t()}),[e,t]);let T=Object(d.jsx)(u.EuiText,{size:"s"},f);n&&o&&(T=Object(d.jsx)(l.a.Fragment,null,Object(d.jsx)(u.EuiText,{size:"s"},f)," ",Object(d.jsx)(u.EuiText,{size:"xs",color:"subdued"},i()(o).format(b))));const y=[{id:0,width:360,items:[{name:m,icon:s&&!n?"check":"empty",onClick:S,"data-test-subj":"statusDropdownEnabledItem"},{name:x,icon:s?"empty":"check",onClick:E,"data-test-subj":"statusDropdownDisabledItem"},...c?[]:[{name:T,icon:s&&n?"check":"empty",panel:1,disabled:!s,"data-test-subj":"statusDropdownSnoozeItem"}]]},...c?[]:[{id:1,width:400,title:f,content:Object(d.jsx)(u.EuiPanel,{paddingSize:"none",hasShadow:!1},Object(d.jsx)(r.a,{interval:p(o),showCancel:n,snoozeRule:j,unsnoozeRule:g,scheduledSnoozes:O,activeSnoozes:h,hasTitle:!1}))}]];return Object(d.jsx)(u.EuiContextMenu,{"data-test-subj":"ruleStatusMenu",initialPanelId:0,panels:y})},p=e=>{if(!e)return;const t=i()(e).locale("en").fromNow(!0),[s,a]=t.split(" ");let l,n="a"===s||"an"===s?1:parseInt(s,10);switch(a){case"year":case"years":l="M",n*=12;break;case"month":case"months":l="M";break;case"day":case"days":l="d";break;case"hour":case"hours":l="h";break;case"minute":case"minutes":l="m"}return l?`${n}${l}`:void 0},m=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.enabledRuleStatus",{defaultMessage:"Enabled"}),x=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.disabledRuleStatus",{defaultMessage:"Disabled"}),O=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.snoozedRuleStatus",{defaultMessage:"Snoozed"}),f=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.snoozeMenuTitle",{defaultMessage:"Snooze"}),h=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleStatusDropdownMenuLabel",{defaultMessage:"Change rule status or snooze"}),S=o.i18n.translate("xpack.triggersActionsUI.sections.rulesList.remainingSnoozeIndefinite",{defaultMessage:"Indefinitely"})},102:function(e,t,s){"use strict";s.r(t),s.d(t,"RuleTagFilter",(function(){return r})),s.d(t,"default",(function(){return r}));var a=s(1),l=s.n(a),n=s(23),i=s(3),o=s(0);const u=e=>`ruleTagFilterOption-${e}`,r=e=>{const{tags:t=[],selectedTags:s=[],isGrouped:r=!1,isLoading:c=!1,loadingMessage:d,noMatchesMessage:b,emptyMessage:j,errorMessage:g,dataTestSubj:p="ruleTagFilter",selectableDataTestSubj:m="ruleTagFilterSelectable",optionDataTestSubj:x=u,buttonDataTestSubj:O="ruleTagFilterButton",onChange:f=(()=>{})}=e,[h,S]=Object(a.useState)(!1),E=Object(a.useMemo)((()=>[...new Set([...t,...s])].sort()),[t,s]),T=Object(a.useMemo)((()=>E.map((e=>({label:e,checked:s.includes(e)?"on":void 0,"data-test-subj":x(e)})))),[E,s,x]),y=Object(a.useCallback)((e=>{const t=e.reduce(((e,t)=>("on"===t.checked&&(e=[...e,t.label]),e)),[]);f(t)}),[f]),I=()=>{S(!h)},k=Object(a.useMemo)((()=>r?l.a.Fragment:i.EuiFilterGroup),[r]);return Object(o.jsx)(k,null,Object(o.jsx)(i.EuiPopover,{"data-test-subj":p,isOpen:h,closePopover:I,button:Object(o.jsx)(i.EuiFilterButton,{"data-test-subj":O,iconType:"arrowDown",hasActiveFilters:s.length>0,numActiveFilters:s.length,numFilters:s.length,onClick:I},Object(o.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.ruleTagFilterButton",defaultMessage:"Tags"}))},Object(o.jsx)(i.EuiSelectable,{searchable:!0,"data-test-subj":m,isLoading:c,options:T,loadingMessage:d,noMatchesMessage:b,emptyMessage:j,errorMessage:g,onChange:y},((e,t)=>Object(o.jsx)(l.a.Fragment,null,t,Object(o.jsx)(i.EuiSpacer,{size:"xs"}),e)))))}},103:function(e,t,s){"use strict";s.r(t),s.d(t,"RuleStatusFilter",(function(){return r})),s.d(t,"default",(function(){return r}));var a=s(1),l=s(23),n=s(3),i=s(0);const o=["enabled","disabled","snoozed"],u=e=>`ruleStatusFilterOption-${e}`,r=e=>{const{selectedStatuses:t=[],dataTestSubj:s="ruleStatusFilter",selectDataTestSubj:r="ruleStatusFilterSelect",buttonDataTestSubj:c="ruleStatusFilterButton",optionDataTestSubj:d=u,onChange:b=(()=>{})}=e,[j,g]=Object(a.useState)(!1),p=Object(a.useCallback)((e=>()=>{t.includes(e)?b(t.filter((t=>t!==e))):b([...t,e])}),[t,b]),m=Object(a.useCallback)((()=>{g((e=>!e))}),[g]);return Object(i.jsx)(n.EuiFilterGroup,{"data-test-subj":s},Object(i.jsx)(n.EuiPopover,{isOpen:j,closePopover:()=>g(!1),button:Object(i.jsx)(n.EuiFilterButton,{"data-test-subj":c,iconType:"arrowDown",hasActiveFilters:t.length>0,numActiveFilters:t.length,numFilters:t.length,onClick:m},Object(i.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleStateFilterButton",defaultMessage:"Rule state"}))},Object(i.jsx)("div",{"data-test-subj":r},o.map((e=>Object(i.jsx)(n.EuiSelectableListItem,{key:e,"data-test-subj":d(e),onClick:p(e),checked:t.includes(e)?"on":void 0},(e=>"enabled"===e?Object(i.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleStateFilter.enabledOptionText",defaultMessage:"Rule is enabled"}):"disabled"===e?Object(i.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleStateFilter.disabledOptionText",defaultMessage:"Rule is disabled"}):"snoozed"===e?Object(i.jsx)(l.FormattedMessage,{id:"xpack.triggersActionsUI.sections.ruleDetails.ruleStateFilter.snoozedOptionText",defaultMessage:"Rule has snoozed"}):void 0)(e)))))))}},104:function(e,t,s){"use strict";s.r(t),s.d(t,"RuleTagBadge",(function(){return c})),s.d(t,"default",(function(){return c}));var a=s(1),l=s(2),n=s(3),i=s(0);const o=l.i18n.translate("xpack.triggersActionsUI.sections.rules_list.rules_tag_badge.tagTitle",{defaultMessage:"Tag"}),u={width:"300px"},r=e=>`ruleTagBadgeItem-${e}`,c=e=>{const{tagsOutPopover:t=!1,tags:s=[],badgeDataTestSubj:l="ruleTagBadge",titleDataTestSubj:c="ruleTagPopoverTitle",tagItemDataTestSubj:d=r}=e,{isOpen:b,onClose:j,onClick:g}=e,p=Object(a.useMemo)((()=>Object(i.jsx)(n.EuiBadge,{"data-test-subj":l,color:"hollow",iconType:"tag",iconSide:"left",tabIndex:-1,onClick:g,onClickAriaLabel:"Tags",iconOnClick:g,iconOnClickAriaLabel:"Tags"},s.length)),[l,g,s.length]),m=Object(a.useMemo)((()=>s.map(((e,t)=>Object(i.jsx)(n.EuiBadge,{"data-test-subj":d(e),key:t,color:"hollow",iconType:"tag",iconSide:"left"},e)))),[s,d]);return t?Object(i.jsx)(n.EuiFlexGroup,{"data-test-subj":"tagsOutPopover",style:{marginLeft:0},wrap:!0},m):Object(i.jsx)(n.EuiPopover,{button:p,anchorPosition:"upCenter",isOpen:b,closePopover:j},Object(i.jsx)(n.EuiPopoverTitle,{"data-test-subj":c},o),Object(i.jsx)("div",{style:u},m))}},111:function(e,t,s){"use strict";s.r(t),s.d(t,"percentileFields",(function(){return $e})),s.d(t,"RulesList",(function(){return Ze})),s.d(t,"default",(function(){return Ze}));var a=s(2),l=s(19),n=s(23),i=s(1),o=s.n(i),u=s(3),r=s(95),c=s(14),d=s(32),b=s(18),j=s(38),g=s.n(j),p=s(20),m=s(124),x=s(4),O=s(0);const f=e=>{const{children:t,numberOfSelectedRules:s=0,canModifySelectedRules:a}=e,[l]=Object(p.useUiSetting$)(x.d),[n,r]=Object(i.useState)(!1),c=Object(i.useMemo)((()=>g()(s).format(l)),[s,l]);return Object(O.jsx)(u.EuiPopover,{isOpen:n,closePopover:()=>r(!1),"data-test-subj":"bulkAction",panelPaddingSize:"s",button:Object(O.jsx)(u.EuiButtonEmpty,{size:"xs",iconSide:"right",iconType:a?"arrowDown":void 0,disabled:!a,"aria-label":m.u,"data-test-subj":"showBulkActionButton",onClick:()=>r(!n)},Object(m.r)(c,s))},t&&o.a.Children.map(t,(e=>o.a.isValidElement(e)?Object(O.jsx)(o.a.Fragment,null,o.a.cloneElement(e,{})):e)))};var h=s(123),S=(s(231),s(25));const E=Object(h.a)((({selectedItems:e,isAllSelected:t=!1,getFilter:s,onPerformingAction:l=T,onActionPerformed:o=T,bulkEditAction:r,isEnablingRules:c=!1,isDisablingRules:d=!1,isBulkEditing:b=!1,updateRulesToBulkEdit:j,onEnable:g,onDisable:p})=>{const{notifications:{toasts:m}}=Object(S.b)().services,x=c||d||b,f=Object(i.useMemo)((()=>!t&&!!e.find((e=>!e.enabledInLicense))),[e,t]);return Object(O.jsx)(u.EuiFlexGroup,{alignItems:"baseline",direction:"column",gutterSize:"none","data-test-subj":"ruleQuickEditButton"},Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"snooze",filter:s()}:{action:"snooze",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToSnoozeRules",{defaultMessage:"Failed to snooze or unsnooze rules"})})}finally{o()}},isLoading:b&&"snooze"===r,isDisabled:x||f,"data-test-subj":"bulkSnooze"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.snoozeAllTitle",defaultMessage:"Snooze now"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"unsnooze",filter:s()}:{action:"unsnooze",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToSnoozeRules",{defaultMessage:"Failed to snooze or unsnooze rules"})})}finally{o()}},isLoading:b&&"unsnooze"===r,isDisabled:x||f,"data-test-subj":"bulkUnsnooze"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.unsnoozeAllTitle",defaultMessage:"Unsnooze now"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"schedule",filter:s()}:{action:"schedule",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToSnoozeRules",{defaultMessage:"Failed to snooze or unsnooze rules"})})}finally{o()}},isLoading:b&&"schedule"===r,isDisabled:x||f,"data-test-subj":"bulkSnoozeSchedule"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.snoozeScheduleAllTitle",defaultMessage:"Schedule snooze"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"unschedule",filter:s()}:{action:"unschedule",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToSnoozeRules",{defaultMessage:"Failed to snooze or unsnooze rules"})})}finally{o()}},isLoading:b&&"unschedule"===r,isDisabled:x||f,"data-test-subj":"bulkRemoveSnoozeSchedule"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.removeSnoozeScheduleAllTitle",defaultMessage:"Unschedule snooze"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:g,isLoading:c,isDisabled:x||f,"data-test-subj":"bulkEnable"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.enableAllTitle",defaultMessage:"Enable"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:p,isLoading:d,isDisabled:x||f,"data-test-subj":"bulkDisable"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.disableAllTitle",defaultMessage:"Disable"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"updateApiKey",filter:s()}:{action:"updateApiKey",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToUpdateRuleAPIKeysMessage",{defaultMessage:"Failed to update API keys for rules"})})}finally{o()}},isLoading:b&&"updateApiKey"===r,isDisabled:x,"data-test-subj":"updateAPIKeys"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.updateRuleAPIKeysTitle",defaultMessage:"Update API keys"}))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:async function(){l();try{j(t?{action:"delete",filter:s()}:{action:"delete",rules:e})}catch(e){m.addDanger({title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.failedToDeleteRulesMessage",{defaultMessage:"Failed to delete rules"})})}finally{o()}},isLoading:b&&"delete"===r,iconType:"trash",color:"danger",isDisabled:x||f,"data-test-subj":"bulkDelete",className:"actBulkActionPopover__deleteAll"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkActionPopover.deleteAllTitle",defaultMessage:"Delete"}))))}));function T(){}var y=s(108),I=s(61),k=s.n(I),C=s(13),R=(s(236),s(129)),L=s(94);const F=Object(h.a)((({item:e,onLoading:t,onRuleChanged:s,bulkDisableRules:l,bulkEnableRules:n,onDeleteRule:o,onEditRule:r,onUpdateAPIKey:c,snoozeRule:b,unsnoozeRule:j,onRunRule:g,onCloneRule:p})=>{var m,x;const{ruleTypeRegistry:f,notifications:{toasts:h}}=Object(S.b)().services,[E,T]=Object(i.useState)(!1),[I,F]=Object(i.useState)(!e.enabled);Object(i.useEffect)((()=>{F(!e.enabled)}),[e.enabled]);const v=Object(i.useCallback)((()=>{T(!1)}),[T]),A=Object(i.useCallback)((async a=>{try{t(!0),await b(e,a),s(),h.addSuccess(L.SNOOZE_SUCCESS_MESSAGE)}catch(e){h.addDanger(L.SNOOZE_FAILED_MESSAGE)}finally{t(!1),v()}await b(e,a)}),[t,b,e,s,h,v]),M=Object(i.useCallback)((async a=>{try{t(!0),await j(e,a),s(),h.addSuccess(L.UNSNOOZE_SUCCESS_MESSAGE)}catch(e){h.addDanger(L.SNOOZE_FAILED_MESSAGE)}finally{t(!1),v()}}),[t,j,e,s,h,v]),w=!!f.has(e.ruleTypeId)&&!f.get(e.ruleTypeId).requiresAppContext,z=Object(O.jsx)(u.EuiButtonIcon,{disabled:!e.isEditable,"data-test-subj":"selectActionButton","data-testid":"selectActionButton",iconType:"boxesHorizontal",onClick:()=>T(!E),"aria-label":a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.popoverButtonTitle",{defaultMessage:"Actions"})}),U=Object(i.useMemo)((()=>Object(C.c)(e)),[e]),_=Object(i.useMemo)((()=>e.muteAll?a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActions.snoozedIndefinitely",{defaultMessage:"Snoozed indefinitely"}):U?a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActions.snoozedUntil",{defaultMessage:"Snoozed until {snoozeTime}",values:{snoozeTime:k()(e.isSnoozedUntil).format("MMM D")}}):a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActions.snooze",{defaultMessage:"Snooze"})),[U,e]),D=[{id:0,hasFocus:!1,items:[...Object(i.useMemo)((()=>I||e.consumer===d.Z.SIEM?[]:[{disabled:!e.isEditable||!e.enabledInLicense,"data-test-subj":"snoozeButton",icon:"bellSlash",name:_,panel:1}]),[I,e,_]),{isSeparator:!0},{disabled:!e.isEditable||!e.enabledInLicense,"data-test-subj":"disableButton",onClick:async()=>{const t=!I;y.asyncScheduler.schedule((async()=>{t?await l({ids:[e.id]}):await n({ids:[e.id]}),s()}),10),F(!I),T(!E)},name:I?a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.enableTitle",{defaultMessage:"Enable"}):a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.disableTitle",{defaultMessage:"Disable"})},{disabled:!e.isEditable||e.consumer===d.Z.SIEM,"data-test-subj":"cloneRule",onClick:async()=>{T(!E),p(e.id)},name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.cloneRuleTitle",{defaultMessage:"Clone rule"})},{disabled:!e.isEditable||!w,"data-test-subj":"editRule",onClick:()=>{T(!E),r(e)},name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.editTitle",{defaultMessage:"Edit rule"})},{disabled:!e.isEditable,"data-test-subj":"updateApiKey",onClick:()=>{T(!E),c(e)},name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActions.updateApiKey",{defaultMessage:"Update API key"})},{disabled:!e.isEditable,"data-test-subj":"runRule",onClick:()=>{T(!E),g(e)},name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActions.runRule",{defaultMessage:"Run rule"})},{disabled:!e.isEditable,className:"collapsedItemActions__deleteButton","data-test-subj":"deleteRule",onClick:()=>{T(!E),o(e)},name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.deleteRuleTitle",{defaultMessage:"Delete rule"})}]},{id:1,title:Object(O.jsx)(u.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiIcon,{type:"bellSlash"})),Object(O.jsx)(u.EuiFlexItem,{grow:!1},a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.collapsedItemActons.snoozeActions",{defaultMessage:"Snooze notifications"}))),width:500,content:Object(O.jsx)(u.EuiPanel,null,Object(O.jsx)(R.a,{interval:Object(R.b)(e.isSnoozedUntil),hasTitle:!1,scheduledSnoozes:null!==(m=e.snoozeSchedule)&&void 0!==m?m:[],activeSnoozes:null!==(x=e.activeSnoozes)&&void 0!==x?x:[],showCancel:Object(C.c)(e),snoozeRule:A,unsnoozeRule:M}))}];return Object(O.jsx)(u.EuiPopover,{button:z,isOpen:E,closePopover:()=>T(!1),ownFocus:!0,panelPaddingSize:"none","data-test-subj":"collapsedItemActions"},Object(O.jsx)(u.EuiContextMenu,{initialPanelId:0,panels:D,className:"actCollapsedItemActions","data-test-subj":"collapsedActionPanel","data-testid":"collapsedActionPanel"}))}));var v=s(52);const A=e=>{const{rulesStatuses:t,rulesLastRunOutcomes:s}=e;return Object(v.a)("ruleUseExecutionStatus")?Object(O.jsx)(u.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"success","data-test-subj":"totalActiveRulesCount"},Object(m.l)(t.active))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"danger","data-test-subj":"totalErrorRulesCount"},Object(m.m)(t.error))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"warning","data-test-subj":"totalWarningRulesCount"},Object(m.q)(t.warning))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"primary","data-test-subj":"totalOkRulesCount"},Object(m.n)(t.ok))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"accent","data-test-subj":"totalPendingRulesCount"},Object(m.o)(t.pending))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"subdued","data-test-subj":"totalUnknownRulesCount"},Object(m.p)(t.unknown)))):Object(O.jsx)(u.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"success","data-test-subj":"totalSucceededRulesCount"},Object(m.i)(s.succeeded))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"danger","data-test-subj":"totalFailedRulesCount"},Object(m.g)(s.failed))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiHealth,{color:"warning","data-test-subj":"totalWarningRulesCount"},Object(m.k)(s.warning))))},M={marginLeft:"auto"},w=e=>k()(e).isValid()?a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListAutoRefresh.lastUpdateText",{defaultMessage:"Updated {lastUpdateText}",values:{lastUpdateText:k()(e).fromNow()}}):"",z=3e5,U=e=>{const{lastUpdate:t,initialUpdateInterval:s=z,onRefresh:a}=e,[l,n]=Object(i.useState)(!1),[o,r]=Object(i.useState)(Math.max(s,1e3)),[c,d]=Object(i.useState)(""),b=Object(i.useRef)((()=>{})),j=Object(i.useRef)(),g=Object(i.useRef)();Object(i.useEffect)((()=>{b.current=a}),[a]),Object(i.useEffect)((()=>{d(w(t));const e=()=>{j.current=window.setTimeout((()=>{d(w(t)),e()}),6e4)};return e(),()=>{j.current&&clearTimeout(j.current)}}),[t,d]),Object(i.useEffect)((()=>{if(l)return;const e=()=>{g.current=window.setTimeout((()=>{b.current(),e()}),o)};return e(),()=>{g.current&&clearTimeout(g.current)}}),[l,o]);const p=Object(i.useCallback)((({isPaused:e,refreshInterval:t})=>{n(e),r(t)}),[n,r]);return Object(O.jsx)(u.EuiFlexGroup,{"data-test-subj":"rulesListAutoRefresh",alignItems:"center"},Object(O.jsx)(u.EuiFlexItem,{grow:!1,style:M},Object(O.jsx)(u.EuiText,{"data-test-subj":"rulesListAutoRefresh-lastUpdateText",size:"s",color:"subdued"},c)),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiAutoRefreshButton,{isPaused:l,shortHand:!0,refreshInterval:o,onRefreshChange:p})))};var _=s(54);const D=[...c.RuleExecutionStatusValues].sort(),P=({selectedStatuses:e,onChange:t})=>{const[s,a]=Object(i.useState)(e),[l,o]=Object(i.useState)(!1),r=Object(i.useCallback)((()=>{o((e=>!e))}),[o]),c=Object(i.useCallback)((()=>{o(!1)}),[o]);return Object(i.useEffect)((()=>{t&&t(s)}),[s]),Object(i.useEffect)((()=>{a(e)}),[e]),Object(O.jsx)(u.EuiPopover,{isOpen:l,closePopover:c,button:Object(O.jsx)(u.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:s.length>0,numActiveFilters:s.length,numFilters:s.length,onClick:r,"data-test-subj":"ruleExecutionStatusFilterButton"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.ruleExecutionStatusFilterLabel",defaultMessage:"Last response"}))},Object(O.jsx)("div",{className:"euiFilterSelect__items"},D.map((e=>{const t=Object(_.a)(e);return Object(O.jsx)(u.EuiFilterSelectItem,{key:e,style:{textTransform:"capitalize"},onClick:()=>{const t=s.includes(e);a(t?s.filter((t=>t!==e)):s.concat(e))},checked:s.includes(e)?"on":void 0,"data-test-subj":`ruleExecutionStatus${e}FilterOption`},Object(O.jsx)(u.EuiHealth,{color:t},m.K[e]))}))))},B=[...c.RuleLastRunOutcomeValues].sort(),N=({selectedOutcomes:e,onChange:t})=>{const[s,a]=Object(i.useState)(!1),l=Object(i.useCallback)((()=>{a((e=>!e))}),[a]),o=Object(i.useCallback)((()=>{a(!1)}),[a]),r=Object(i.useCallback)((s=>()=>{e.includes(s)?null==t||t(e.filter((e=>e!==s))):null==t||t(e.concat(s))}),[t,e]);return Object(O.jsx)(u.EuiPopover,{isOpen:s,closePopover:o,button:Object(O.jsx)(u.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:e.length>0,numActiveFilters:e.length,numFilters:e.length,onClick:l,"data-test-subj":"ruleLastRunOutcomeFilterButton"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.ruleLastRunOutcomeFilterLabel",defaultMessage:"Last response"}))},Object(O.jsx)("div",{className:"euiFilterSelect__items"},B.map((t=>{const s=Object(_.b)(t);return Object(O.jsx)(u.EuiFilterSelectItem,{key:t,style:{textTransform:"capitalize"},onClick:r(t),checked:e.includes(t)?"on":void 0,"data-test-subj":`ruleLastRunOutcome${t}FilterOption`},Object(O.jsx)(u.EuiHealth,{color:s},m.J[t]))}))))},G=e=>{const{rulesLastRunOutcomes:t,setRuleExecutionStatusesFilter:s,setRuleLastRunOutcomesFilter:a}=e;return 0===t.failed?null:Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(u.EuiCallOut,{color:"danger",size:"s","data-test-subj":"rulesErrorBanner"},Object(O.jsx)("p",null,Object(O.jsx)(u.EuiIcon,{color:"danger",type:"alert"})," ",Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.attentionBannerTitle",defaultMessage:"Error found in {totalStatusesError, plural, one {# rule} other {# rules}}.",values:{totalStatusesError:t.failed}})," ",Object(O.jsx)(u.EuiLink,{color:"primary",onClick:()=>{Object(v.a)("ruleUseExecutionStatus")?s(["error"]):a(["failed"])}},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.viewBannerButtonLabel",defaultMessage:"Show {totalStatusesError, plural, one {rule} other {rules}} with error",values:{totalStatusesError:t.failed}})))),Object(O.jsx)(u.EuiSpacer,{size:"s"}))},H=({options:e,onChange:t,filters:s})=>{const[a,l]=Object(i.useState)(!1);return Object(O.jsx)(u.EuiPopover,{isOpen:a,closePopover:()=>l(!1),button:Object(O.jsx)(u.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:s.length>0,numActiveFilters:s.length,numFilters:s.length,onClick:()=>l(!a),"data-test-subj":"ruleTypeFilterButton"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.typeFilterLabel",defaultMessage:"Type"}))},Object(O.jsx)("div",{className:"euiFilterSelect__items"},e.map(((e,a)=>Object(O.jsx)(i.Fragment,{key:`group${a}`},Object(O.jsx)(u.EuiTitle,{"data-test-subj":`ruleType${a}Group`,size:"xxs"},Object(O.jsx)("h3",null,e.groupName)),e.subOptions.map(((e,a)=>Object(O.jsx)(u.EuiFilterSelectItem,{key:a,onClick:()=>{const a=s.includes(e.value);t(a?s.filter((t=>t!==e.value)):s.concat(e.value))},checked:s.includes(e.value)?"on":void 0,"data-test-subj":`ruleType${e.value}FilterOption`},e.name))))))))},K=({actionTypes:e,onChange:t,filters:s})=>{const[a,l]=Object(i.useState)(!1),o=Object(i.useCallback)((e=>()=>{const a=s.includes(e.id);t(a?s.filter((t=>t!==e.id)):s.concat(e.id))}),[s,t]);return Object(O.jsx)(u.EuiPopover,{isOpen:a,closePopover:()=>l(!1),button:Object(O.jsx)(u.EuiFilterButton,{iconType:"arrowDown",hasActiveFilters:s.length>0,numActiveFilters:s.length,numFilters:s.length,onClick:()=>l(!a),"data-test-subj":"actionTypeFilterButton"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.actionTypeFilterLabel",defaultMessage:"Action type"}))},Object(O.jsx)("div",{className:"euiFilterSelect__items"},e.map((e=>Object(O.jsx)(u.EuiFilterSelectItem,{key:e.id,onClick:o(e),checked:s.includes(e.id)?"on":void 0,"data-test-subj":`actionType${e.id}FilterOption`},e.name)))))};var q=s(102),W=s(103);const $=o.a.memo((e=>{const{filters:t,inputText:s,showActionFilter:l=!0,rulesStatusesTotal:i,rulesLastRunOutcomesTotal:r,tags:c,actionTypes:d,filterOptions:b,lastUpdate:j,showErrors:g,updateFilters:p,setInputText:m,onClearSelection:x,onRefreshRules:f,onToggleRuleErrors:h}=e,S=Object(v.a)("ruleTagFilter"),E=Object(v.a)("ruleStatusFilter"),T=Object(v.a)("ruleUseExecutionStatus"),y=[Object(O.jsx)(H,{key:"type-filter",options:b,filters:t.types,onChange:e=>p({filter:"types",value:e})}),l&&Object(O.jsx)(K,{key:"action-type-filter",actionTypes:d,filters:t.actionTypes,onChange:e=>p({filter:"actionTypes",value:e})}),...T?[Object(O.jsx)(P,{key:"rule-status-filter",selectedStatuses:t.ruleExecutionStatuses,onChange:e=>p({filter:"ruleExecutionStatuses",value:e})})]:[Object(O.jsx)(N,{key:"rule-last-run-outcome-filter",selectedOutcomes:t.ruleLastRunOutcomes,onChange:e=>p({filter:"ruleLastRunOutcomes",value:e})})],...S?[Object(O.jsx)(q.RuleTagFilter,{isGrouped:!0,tags:c,selectedTags:t.tags,onChange:e=>p({filter:"tags",value:e})})]:[]];return Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(G,{rulesLastRunOutcomes:r,setRuleExecutionStatusesFilter:e=>p({filter:"ruleExecutionStatuses",value:e}),setRuleLastRunOutcomesFilter:e=>p({filter:"ruleLastRunOutcomes",value:e})}),Object(O.jsx)(u.EuiFlexGroup,{gutterSize:"s"},Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiFieldSearch,{fullWidth:!0,isClearable:!0,"data-test-subj":"ruleSearchField",value:s,onChange:e=>{m(e.target.value),""===e.target.value&&p({filter:"searchText",value:e.target.value})},onKeyUp:e=>{13===e.keyCode&&p({filter:"searchText",value:s})},placeholder:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.searchPlaceholderTitle",{defaultMessage:"Search"})})),Object(O.jsx)(u.EuiFlexItem,{grow:!1},E?Object(O.jsx)(W.RuleStatusFilter,{selectedStatuses:t.ruleStatuses,onChange:e=>p({filter:"ruleStatuses",value:e})}):null),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiFilterGroup,null,y.map(((e,t)=>Object(O.jsx)(o.a.Fragment,{key:t},e))))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiButton,{"data-test-subj":"refreshRulesButton",iconType:"refresh",onClick:()=>{x(),f()},name:"refresh",color:"primary"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.refreshRulesButtonLabel",defaultMessage:"Refresh"})))),Object(O.jsx)(u.EuiSpacer,{size:"m"}),Object(O.jsx)(u.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween"},Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiFlexGroup,{alignItems:"center",gutterSize:"none"},Object(O.jsx)(A,{rulesStatuses:i,rulesLastRunOutcomes:r}),Object(O.jsx)(U,{lastUpdate:j,onRefresh:f}))),i.error>0&&Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiLink,{"data-test-subj":"expandRulesError",color:"primary",onClick:h},!g&&Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.showAllErrors",defaultMessage:"Show {totalStatusesError, plural, one {error} other {errors}}",values:{totalStatusesError:i.error}}),g&&Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.hideAllErrors",defaultMessage:"Hide {totalStatusesError, plural, one {error} other {errors}}",values:{totalStatusesError:i.error}})))))}));var Q=s(62),V=s(122),Z=s(183);const J=({onCreateRulesClick:e,showCreateRule:t=!0})=>Object(O.jsx)(u.EuiPageTemplate.EmptyPrompt,{iconType:"watchesApp","data-test-subj":"createFirstRuleEmptyPrompt",title:Object(O.jsx)("h2",null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyTitle",defaultMessage:"Create your first rule"})),body:Object(O.jsx)("p",null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyDesc",defaultMessage:"Receive an alert through email, Slack, or another connector when a condition is met."})),actions:t?[Object(O.jsx)(u.EuiButton,{iconType:"plusInCircle","data-test-subj":"createFirstRuleButton",key:"create-action",fill:!0,onClick:e},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.components.emptyPrompt.emptyButton",defaultMessage:"Create rule"}))]:null});var Y=s(63);const X=()=>Object(O.jsx)(u.EuiPageTemplate.EmptyPrompt,{"data-test-subj":"noPermissionPrompt",iconType:"securityApp",title:Object(O.jsx)("h1",null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.noPermissionToCreateTitle",defaultMessage:"No permissions to create rules"})),body:Object(O.jsx)("p",{"data-test-subj":"permissionDeniedMessage"},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.noPermissionToCreateDescription",defaultMessage:"Contact your system administrator."}))}),ee=e=>{const{showNoAuthPrompt:t,showSpinner:s,showCreateRuleButtonInPrompt:a,showCreateFirstRulePrompt:l,onCreateRulesClick:n}=e;return t?Object(O.jsx)(X,null):l?Object(O.jsx)(J,{showCreateRule:a,onCreateRulesClick:n}):s?Object(O.jsx)(u.EuiPageTemplate.Section,{grow:!1,paddingSize:"none"},Object(O.jsx)(Y.a,null)):null};s(241);const te=e=>{const{openFlyout:t}=e;return Object(O.jsx)(u.EuiButton,{iconType:"plusInCircle",key:"create-rule","data-test-subj":"createRuleButton",fill:!0,onClick:t},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.addRuleButtonLabel",defaultMessage:"Create rule"}))},se=({licenseType:e,ruleTypeId:t,onConfirm:s,onCancel:i})=>{const o=Object(l.capitalize)(e);return Object(O.jsx)(u.EuiConfirmModal,{title:a.i18n.translate("xpack.triggersActionsUI.sections.manageLicense.manageLicenseTitle",{defaultMessage:"{licenseRequired} license required",values:{licenseRequired:o}}),onCancel:i,onConfirm:s,confirmButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.manageLicense.manageLicenseConfirmButtonText",{defaultMessage:"Manage license"}),cancelButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.manageLicense.manageLicenseCancelButtonText",{defaultMessage:"Cancel"}),defaultFocusedButton:"confirm","data-test-subj":"manageLicenseModal"},Object(O.jsx)("p",null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.manageLicense.manageLicenseMessage",defaultMessage:"Rule type {ruleTypeId} is disabled because it requires a {licenseRequired} license. Continue to License Management to view upgrade options.",values:{ruleTypeId:t,licenseRequired:o}})))};var ae=s(133);const le=a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.ruleExecutionPercentileSelectButton",{defaultMessage:"select percentile"}),ne={width:200},ie=Object(i.memo)((e=>{const{options:t,onOptionsChange:s}=e,[a,l]=Object(i.useState)(!1),n=Object(i.useCallback)((e=>{e.stopPropagation(),l((e=>!e))}),[]),o=Object(i.useCallback)((()=>{l(!1)}),[]),r=Object(i.useCallback)((e=>{o(),s(e)}),[s,o]),c=Object(i.useCallback)((e=>{e.stopPropagation()}),[]);return Object(O.jsx)(u.EuiPopover,{button:Object(O.jsx)(u.EuiButtonIcon,{iconType:"gear",size:"s","data-test-subj":"percentileSelectablePopover-iconButton",title:le,"aria-label":le,onClick:n}),panelPaddingSize:"s",isOpen:a,closePopover:o,anchorPosition:"downRight"},Object(O.jsx)("div",{style:ne,onClick:c},Object(O.jsx)(u.EuiSelectable,{"data-test-subj":"percentileSelectablePopover-selectable",singleSelection:"always",options:t,onChange:r},(e=>e))))}));var oe=s(170),ue=s(152),re=s(157),ce=s(104),de=s(101),be=s(29);const je=e=>{const{rule:t,onManageLicenseClick:s}=e,{lastRun:a}=t,l=Object(be.b)(t),i=Object(be.d)(t),o=Object(be.e)({rule:t,licenseErrorText:m.a,lastOutcomeTranslations:m.J,executionStatusTranslations:m.K}),r="failed"===(null==a?void 0:a.outcome)?`Error: ${null==a?void 0:a.outcomeMsg}`:null;if(!o)return Object(O.jsx)(u.EuiStat,{titleSize:"xs",title:"--",description:"",isLoading:!(null!=a&&a.outcome||t.nextRun)});const c=Object(O.jsx)(u.EuiHealth,{"data-test-subj":`ruleStatus-${(null==a?void 0:a.outcome)||"pending"}`,color:i||"default"},o),d=r?Object(O.jsx)(u.EuiToolTip,{"data-test-subj":"ruleStatus-error-tooltip",position:"top",content:r},c):c;return Object(O.jsx)(u.EuiFlexGroup,{gutterSize:"none"},Object(O.jsx)(u.EuiFlexItem,null,d),l&&Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiButtonEmpty,{size:"xs","data-test-subj":"ruleStatus-error-license-fix",onClick:()=>s(t)},Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.fixLicenseLink",defaultMessage:"Fix"}))))},ge=["ruleName","ruleTags","ruleExecutionStatusLastDate","ruleSnoozeNotify","ruleScheduleInterval","ruleExecutionStatusLastDuration","ruleExecutionPercentile","ruleExecutionSuccessRatio","ruleExecutionStatus","ruleExecutionState"],pe={[b.j.P50]:"50th",[b.j.P95]:"95th",[b.j.P99]:"99th"},me={[b.j.P50]:"monitoring.run.calculated_metrics.p50",[b.j.P95]:"monitoring.run.calculated_metrics.p95",[b.j.P99]:"monitoring.run.calculated_metrics.p99"},xe={},Oe=()=>{},fe=()=>null;function he(e){const{rules:t,ruleTypeIndex:s,canExecuteActions:a,config:l}=e,n=l.minimumScheduleInterval?Object(c.parseDuration)(l.minimumScheduleInterval.value):0;return t.map(((e,t)=>{var l,i,o;return{...e,index:t,actionsCount:e.actions.length,ruleType:null!==(l=null===(i=s.get(e.ruleTypeId))||void 0===i?void 0:i.name)&&void 0!==l?l:e.ruleTypeId,isEditable:Object(V.a)(e.consumer,s.get(e.ruleTypeId))&&(a||!a&&!e.actions.length),enabledInLicense:!(null===(o=s.get(e.ruleTypeId))||void 0===o||!o.enabledInLicense),showIntervalWarning:Object(c.parseDuration)(e.schedule.interval)<n}}))}const Se=e=>{const{rulesListKey:t,rulesState:s,items:l=[],ruleTypesState:n,ruleTypeRegistry:r,isLoading:j=!1,sort:f,isPageSelected:h=!1,isAllSelected:E=!1,numberOfSelectedRules:T=0,page:y,percentileOptions:I,itemIdToExpandedRowMap:C=xe,config:R=xe,onSort:F=Oe,onPage:A=Oe,onRuleClick:M=Oe,onRuleEditClick:w=Oe,onRuleDeleteClick:z=Oe,onManageLicenseClick:U=Oe,onPercentileOptionsChange:_=Oe,onRuleChanged:D,onEnableRule:P=Oe,onDisableRule:B=Oe,onSnoozeRule:N=Oe,onUnsnoozeRule:G=Oe,onSelectAll:H=Oe,onSelectPage:K=Oe,onSelectRow:q=Oe,isRowSelected:W=(()=>!1),renderCollapsedItemActions:$=fe,renderSelectAllDropdown:Q,renderRuleError:V=fe,visibleColumns:Z}=e,[J,Y]=Object(i.useState)(-1),[X,ee]=Object(i.useState)(),[te,se]=Object(i.useState)({}),le=Object(v.a)("ruleUseExecutionStatus"),[ne]=Object(p.useUiSetting$)(x.d),{euiTheme:be}=Object(u.useEuiTheme)(),he=Object(i.useMemo)((()=>{const e=I.find((e=>"on"===e.checked));if(e)return b.j[e.key]}),[I]),Se=(e,t)=>{se((s=>({...s,[e]:t})))},Ee=Object(i.useCallback)((()=>Object(O.jsx)("span",{"data-test-subj":`rulesTable-${he}ColumnName`},Object(O.jsx)(u.EuiToolTip,{content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.ruleExecutionPercentileTooltip",{defaultMessage:"{percentileOrdinal} percentile of this rule's past {sampleLimit} run durations (mm:ss).",values:{percentileOrdinal:pe[he],sampleLimit:c.MONITORING_HISTORY_LIMIT}})},Object(O.jsx)("span",null,he," ",Object(O.jsx)(u.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),Object(O.jsx)(ie,{options:I,onOptionsChange:_}))),[_,I,he]),Te=Object(i.useCallback)((e=>Object(O.jsx)("span",{"data-test-subj":`${he}Percentile`},Object(O.jsx)(oe.a,{allowZero:!1,duration:e}))),[he]),ye=Object(i.useCallback)((e=>!!r.has(e)&&!r.get(e).requiresAppContext),[r]),Ie=Object(i.useCallback)((e=>Object(O.jsx)(de.RuleStatusDropdown,{hideSnoozeOption:!0,disableRule:async()=>await B(e),enableRule:async()=>await P(e),snoozeRule:async()=>{},unsnoozeRule:async()=>{},rule:e,onRuleChanged:D,isEditable:e.isEditable&&ye(e.ruleTypeId)})),[ye,B,P,D]),ke=Object(i.useMemo)((()=>({id:"ruleSelection",field:"selection",sortable:!1,width:"32px",mobileOptions:{header:!1},name:Object(O.jsx)(u.EuiCheckbox,{id:"rulesListTable_selectAll",checked:h,onChange:K,"data-test-subj":"checkboxSelectAll"}),render:(e,t)=>Object(O.jsx)(u.EuiCheckbox,{id:`ruleListTable_select_${t.id}}`,onChange:()=>q(t),disabled:!t.isEditable,checked:W(t),"data-test-subj":`checkboxSelectRow-${t.id}`})})),[h,K,q,W]),Ce=Object(i.useMemo)((()=>le?"executionStatus.status":"lastRun.outcome"),[le]),Re=Object(i.useCallback)((()=>[{id:"ruleName",field:"name",name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.nameTitle",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,width:"22%","data-test-subj":"rulesTableCell-name",render:(e,t)=>{const s=n.data.get(t.ruleTypeId),a=Object(ue.a)(s),l=Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(u.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiFlexGroup,{gutterSize:"xs"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiLink,{title:e,onClick:()=>M(t)},e)),Object(O.jsx)(u.EuiFlexItem,{grow:!1},!a.isEnabled&&Object(O.jsx)(u.EuiIconTip,{anchorClassName:"ruleDisabledQuestionIcon","data-test-subj":"ruleDisabledByLicenseTooltip",type:"questionInCircle",content:a.message,position:"right"})))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiText,{color:"subdued",size:"xs"},t.ruleType))));return Object(O.jsx)(o.a.Fragment,null,l)}},{id:"ruleTags",field:"tags",selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.tagsTitle",{defaultMessage:"Tags"}),name:"",sortable:!1,width:"50px","data-test-subj":"rulesTableCell-tagsPopover",render:(e,t)=>e.length>0?Object(O.jsx)(ce.RuleTagBadge,{isOpen:J===t.index,tags:e,onClick:()=>Y(t.index),onClose:()=>Y(-1)}):null},{id:"ruleExecutionStatusLastDate",field:"executionStatus.lastExecutionDate",selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.lastRunTitle",{defaultMessage:"Last run"}),name:Object(O.jsx)(u.EuiToolTip,{"data-test-subj":"rulesTableCell-lastExecutionDateTooltip",content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.lastExecutionDateTitle",{defaultMessage:"Start time of the last run."})},Object(O.jsx)("span",null,"Last run"," ",Object(O.jsx)(u.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),sortable:!0,width:"20%","data-test-subj":"rulesTableCell-lastExecutionDate",render:e=>{if(e)return Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(u.EuiFlexGroup,{direction:"column",gutterSize:"none"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},k()(e).format("MMM D, YYYY HH:mm:ssa")),Object(O.jsx)(u.EuiFlexItem,{grow:!1},Object(O.jsx)(u.EuiText,{color:"subdued",size:"xs"},k()(e).fromNow()))))}},{id:"ruleSnoozeNotify",selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.notifyTitle",{defaultMessage:"Notify"}),name:Object(O.jsx)(u.EuiToolTip,{"data-test-subj":"rulesTableCell-notifyTooltip",content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.notifyTooltip",{defaultMessage:"Snooze notifications for a rule."})},Object(O.jsx)("span",null,a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.notifyTitle",{defaultMessage:"Notify"})," ",Object(O.jsx)(u.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),width:"14%","data-test-subj":"rulesTableCell-rulesListNotify",render:e=>e.consumer!==d.Z.SIEM&&e.enabled?Object(O.jsx)(L.RulesListNotifyBadge,{showOnHover:!0,rule:e,isLoading:!!te[e.id],onLoading:t=>Se(e.id,t),isOpen:X===e.id,onClick:()=>ee(e.id),onClose:()=>ee(""),onRuleChanged:D,snoozeRule:async t=>{await N(e,t)},unsnoozeRule:async t=>await G(e,t)}):null},{id:"ruleScheduleInterval",field:"schedule.interval",width:"6%",name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.scheduleTitle",{defaultMessage:"Interval"}),sortable:!1,truncateText:!1,"data-test-subj":"rulesTableCell-interval",render:(e,t)=>{const s=Object(c.formatDuration)(e);return Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(u.EuiFlexGroup,{direction:"row",gutterSize:"xs"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},s),Object(O.jsx)(u.EuiFlexItem,{grow:!1},t.showIntervalWarning&&Object(O.jsx)(u.EuiToolTip,{"data-test-subj":`ruleInterval-config-tooltip-${t.index}`,title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.intervalTooltipTitle",{defaultMessage:"Below configured minimum interval"}),content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.intervalTooltipText",{defaultMessage:"Rule interval of {interval} is below the minimum configured interval of {minimumInterval}. This may impact alerting performance.",values:{minimumInterval:Object(c.formatDuration)(R.minimumScheduleInterval.value,!0),interval:Object(c.formatDuration)(e,!0)}}),position:"top"},Object(O.jsx)(u.EuiButtonIcon,{color:"text","data-test-subj":`ruleInterval-config-icon-${t.index}`,onClick:()=>w(t),iconType:"flag","aria-label":a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.intervalIconAriaLabel",{defaultMessage:"Below configured minimum interval"})})))))}},{id:"ruleExecutionStatusLastDuration",field:"executionStatus.lastDuration",width:"12%",selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.durationTitle",{defaultMessage:"Duration"}),name:Object(O.jsx)(u.EuiToolTip,{"data-test-subj":"rulesTableCell-durationTooltip",content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.durationTitle",{defaultMessage:"The length of time it took for the rule to run (mm:ss)."})},Object(O.jsx)("span",null,"Duration"," ",Object(O.jsx)(u.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),sortable:!0,truncateText:!1,"data-test-subj":"rulesTableCell-duration",render:(e,t)=>{const s=Object(ae.b)(n.data.get(t.ruleTypeId),e);return Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(oe.a,{duration:e}),s&&Object(O.jsx)(u.EuiIconTip,{"data-test-subj":"ruleDurationWarning",anchorClassName:"ruleDurationWarningIcon",type:"rule",color:"warning",content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.ruleTypeExcessDurationMessage",{defaultMessage:"Duration exceeds the rule's expected run time."}),position:"right"}))}},{id:"ruleExecutionPercentile",mobileOptions:{header:!1},selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.percentileTitle",{defaultMessage:"Percentile"}),field:me[he],width:"16%",name:Ee(),"data-test-subj":"rulesTableCell-ruleExecutionPercentile",sortable:!0,truncateText:!1,render:Te},{id:"ruleExecutionSuccessRatio",field:"monitoring.run.calculated_metrics.success_ratio",width:"12%",selectorName:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.selector.successRatioTitle",{defaultMessage:"Success ratio"}),name:Object(O.jsx)(u.EuiToolTip,{"data-test-subj":"rulesTableCell-successRatioTooltip",content:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.successRatioTitle",{defaultMessage:"How often this rule runs successfully."})},Object(O.jsx)("span",null,"Success ratio"," ",Object(O.jsx)(u.EuiIcon,{size:"s",color:"subdued",type:"questionInCircle",className:"eui-alignTop"}))),sortable:!0,truncateText:!1,"data-test-subj":"rulesTableCell-successRatio",render:e=>Object(O.jsx)("span",{"data-test-subj":"successRatio"},void 0!==e?Object(re.c)(e):"N/A")},{id:"ruleExecutionStatus",field:Ce,name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.lastResponseTitle",{defaultMessage:"Last response"}),sortable:!0,truncateText:!1,width:"120px","data-test-subj":"rulesTableCell-lastResponse",render:(e,t)=>Object(O.jsx)(je,{rule:t,onManageLicenseClick:U})},{id:"ruleExecutionState",field:"enabled",name:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.stateTitle",{defaultMessage:"State"}),sortable:!0,truncateText:!1,width:"10%","data-test-subj":"rulesTableCell-status",render:(e,t)=>Ie(t)},{name:"",width:"90px",render:e=>Object(O.jsx)(u.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"none"},Object(O.jsx)(u.EuiFlexItem,{grow:!1,className:"ruleSidebarItem"},Object(O.jsx)(u.EuiFlexGroup,{justifyContent:"flexEnd",gutterSize:"xs"},e.isEditable&&ye(e.ruleTypeId)?Object(O.jsx)(u.EuiFlexItem,{grow:!1,"data-test-subj":"ruleSidebarEditAction"},Object(O.jsx)(u.EuiButtonIcon,{color:"primary",title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.editButtonTooltip",{defaultMessage:"Edit"}),className:"ruleSidebarItem__action","data-test-subj":"editActionHoverButton",onClick:()=>w(e),iconType:"pencil","aria-label":a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.editAriaLabel",{defaultMessage:"Edit"})})):null,e.isEditable?Object(O.jsx)(u.EuiFlexItem,{grow:!1,"data-test-subj":"ruleSidebarDeleteAction"},Object(O.jsx)(u.EuiButtonIcon,{color:"danger",title:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.deleteButtonTooltip",{defaultMessage:"Delete"}),className:"ruleSidebarItem__action","data-test-subj":"deleteActionHoverButton",onClick:()=>z(e),iconType:"trash","aria-label":a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.rulesListTable.columns.deleteAriaLabel",{defaultMessage:"Delete"})})):null)),Object(O.jsx)(u.EuiFlexItem,{grow:!1},$(e,(t=>Se(e.id,t)))))},{align:u.RIGHT_ALIGNMENT,width:"40px",isExpander:!0,name:Object(O.jsx)(u.EuiScreenReaderOnly,null,Object(O.jsx)("span",null,"Expand rows")),render:V}]),[R.minimumScheduleInterval,X,te,ye,D,M,z,w,N,G,U,$,Te,Ee,V,Ie,n.data,he,J,Ce]),Le=Object(i.useMemo)((()=>Re()),[Re]),[Fe,ve]=(({allRuleColumns:e,rulesListKey:t="triggersActionsUi_rulesListColumns",visibleColumns:s=ge})=>{const{storage:a}=Object(S.b)().services,l=null==a?void 0:a.get(t),[n,o]=Object(i.useState)(null!=l?l:s),r=Object(i.useMemo)((()=>e.filter((e=>null!=e.id))),[e]),c=Object(i.useMemo)((()=>e.filter((e=>void 0===e.id))),[e]),d=Object(i.useMemo)((()=>{const e=n.map((e=>{var t;const{id:s="",selectorName:a="",...l}=null!==(t=r.find((t=>t.id===e)))&&void 0!==t?t:{};return l}));return e.push(...c),e}),[r,n,c]),b=Object(i.useMemo)((()=>r.map((e=>({id:e.id})))),[r]),j=Object(i.useCallback)((e=>{t&&(null==a||a.set(t,e))}),[t,a]),g=Object(i.useMemo)((()=>({visibleColumns:n,setVisibleColumns:e=>{j(e),o(e)}})),[n,j]),p=Object(i.useMemo)((()=>e.filter((e=>null!=e.id)).reduce(((e,{id:t,name:s,selectorName:a})=>t?{...e,[t]:null!=a?a:s}:e),{})),[e]),[m]=Object(u.useDataGridColumnSelector)(b,g,!0,p);return Object(i.useMemo)((()=>[d,m]),[m,d])})({allRuleColumns:Le,rulesListKey:t,visibleColumns:Z}),Ae=Object(i.useMemo)((()=>g()(s.totalItemCount).format(ne)),[s.totalItemCount,ne]),Me=Object(i.useMemo)((()=>E?m.d:Object(m.t)(Ae,s.totalItemCount)),[E,Ae,s.totalItemCount]),we=Object(i.useCallback)((e=>{var t;const s=W(e)?"euiTableRow-isSelected":"";return{"data-test-subj":"rule-row",className:null!==(t=n.data.get(e.ruleTypeId))&&void 0!==t&&t.enabledInLicense?s:`actRulesList__tableRowDisabled ${s}`}}),[n,W]),ze=Object(i.useMemo)((()=>{let e=!0;return n.data.forEach((t=>{e&&(Object.values(t.authorizedConsumers).every((e=>e.all))||(e=!1))})),e}),[n]);return Object(O.jsx)(u.EuiFlexGroup,{gutterSize:"none",direction:"column"},Object(O.jsx)(u.EuiFlexGroup,{gutterSize:"none",alignItems:"center"},Object(O.jsx)(u.EuiFlexItem,{grow:!1},ve),Object(O.jsx)(u.EuiFlexItem,{grow:!1},T>0?null==Q?void 0:Q():Object(O.jsx)(u.EuiText,{size:"xs",style:{fontWeight:be.font.weight.semiBold},"data-test-subj":"totalRulesCount"},Object(m.w)(Ae,s.totalItemCount))),Object(O.jsx)(u.EuiFlexItem,{grow:!1},T>0&&ze&&Object(O.jsx)(u.EuiButtonEmpty,{size:"xs","aria-label":m.s,"data-test-subj":"selectAllRulesButton",iconType:E?"cross":"pagesSelect",onClick:H},Me))),Object(O.jsx)(u.EuiFlexItem,null,Object(O.jsx)(u.EuiBasicTable,{loading:j,items:l,itemId:"id",columns:[ke,...Fe],sorting:{sort:f},rowProps:we,cellProps:e=>{var t;return{"data-test-subj":"cell",className:null!==(t=n.data.get(e.ruleTypeId))&&void 0!==t&&t.enabledInLicense?"":"actRulesList__tableCellDisabled"}},"data-test-subj":"rulesList",pagination:{pageIndex:y.index,pageSize:y.size,totalItemCount:n.initialLoad?0:s.totalItemCount},onChange:({page:e,sort:t})=>{e&&A(e),t&&F(t)},itemIdToExpandedRowMap:C,isExpandable:!0})))};var Ee=s(172),Te=s(184),ye=s(173);const Ie=a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkSnoozeFailMessage",{defaultMessage:"Failed to bulk snooze rules"}),ke=Object(h.a)((e=>{const{bulkEditAction:t,rules:s,filter:l,numberOfSelectedRules:o=0,onClose:r,onSave:c,setIsBulkEditing:d,onSearchPopulate:b,bulkSnoozeRules:j,bulkUnsnoozeRules:g}=e,{notifications:{toasts:p}}=Object(S.b)().services,{showToast:m}=Object(ye.a)({onSearchPopulate:b}),x=Object(i.useMemo)((()=>{if(l)return;const e=s.find((e=>e.isSnoozedUntil));return e?Object(R.b)(e.isSnoozedUntil):void 0}),[s,l]),f=async()=>{r(),d(!0);try{const e=await g({ids:s.map((e=>e.id)),filter:l});m(e,"snooze")}catch(e){p.addError(e,{title:Ie})}d(!1),c()},h=Object(i.useMemo)((()=>{return!l&&1===o&&s[0]?(e=s[0].name,a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkUnsnoozeConfirmationSingle",{defaultMessage:"Unsnooze {ruleName}?",values:{ruleName:e}})):(t=o,a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkUnsnoozeConfirmationPlural",{defaultMessage:"Unsnooze {total, plural, one {# rule} other {# rules}}? ",values:{total:t}}));var e,t}),[s,l,o]);return"unsnooze"===t&&(s.length||l)?Object(O.jsx)(u.EuiConfirmModal,{title:h,onCancel:r,onConfirm:f,confirmButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkUnsnoozeConfirmButton",{defaultMessage:"Unsnooze"}),cancelButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkUnsnoozeCancelButton",{defaultMessage:"Cancel"}),buttonColor:"danger",defaultFocusedButton:"confirm","data-test-subj":"bulkUnsnoozeConfirmationModal"}):"snooze"===t&&(s.length||l)?Object(O.jsx)(u.EuiModal,{onClose:r},Object(O.jsx)(u.EuiModalHeader,null,Object(O.jsx)(u.EuiModalHeaderTitle,null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkSnoozeModal.modalTitle",defaultMessage:"Add snooze now"})),Object(O.jsx)(u.EuiSpacer,{size:"s"})),Object(O.jsx)(u.EuiModalBody,null,Object(O.jsx)(R.a,{hasTitle:!1,showCancel:!1,showAddSchedule:!1,interval:x,snoozeRule:async e=>{r(),d(!0);try{const t=await j({ids:s.map((e=>e.id)),filter:l,snoozeSchedule:e});m(t,"snooze")}catch(e){p.addError(e,{title:Ie})}d(!1),c()},unsnoozeRule:f,scheduledSnoozes:[],activeSnoozes:[]})),Object(O.jsx)(u.EuiModalFooter,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:r},"Close"))):null}));var Ce=s(188);const Re=a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkSnoozeScheduleFailMessage",{defaultMessage:"Failed to bulk snooze rules"}),Le=Object(h.a)((e=>{const{rules:t,filter:s,bulkEditAction:l,numberOfSelectedRules:o=0,onClose:r,onSave:c,bulkSnoozeRules:d,bulkUnsnoozeRules:b,setIsBulkEditing:j,onSearchPopulate:g}=e,{notifications:{toasts:p}}=Object(S.b)().services,{showToast:m}=Object(ye.a)({onSearchPopulate:g}),x=async()=>{r(),j(!0);try{const e=await b({ids:t.map((e=>e.id)),filter:s,scheduleIds:[]});m(e,"snoozeSchedule")}catch(e){p.addError(e,{title:Re})}j(!1),c()},f=Object(i.useMemo)((()=>{return!s&&1===o&&t[0]?(e=t[0].name,a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkDeleteConfirmationSingle",{defaultMessage:"Delete all snooze schedules for {ruleName}?",values:{ruleName:e}})):(l=o,a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkDeleteConfirmationPlural",{defaultMessage:"Delete all snooze schedules for {total, plural, one {# rule} other {# rules}}? ",values:{total:l}}));var e,l}),[t,s,o]);return"unschedule"===l&&(t.length||s)?Object(O.jsx)(u.EuiConfirmModal,{title:f,onCancel:r,onConfirm:x,confirmButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkDeleteConfirmButton",{defaultMessage:"Delete"}),cancelButtonText:a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.bulkDeleteCancelButton",{defaultMessage:"Cancel"}),buttonColor:"danger",defaultFocusedButton:"confirm","data-test-subj":"bulkRemoveScheduleConfirmationModal"}):"schedule"===l&&(t.length||s)?Object(O.jsx)(u.EuiModal,{onClose:r},Object(O.jsx)(u.EuiModalHeader,null,Object(O.jsx)(u.EuiModalHeaderTitle,null,Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.bulkSnoozeScheduleModal.modalTitle",defaultMessage:"Add snooze schedule"})),Object(O.jsx)(u.EuiSpacer,{size:"s"})),Object(O.jsx)(u.EuiModalBody,null,Object(O.jsx)(Ce.a,{bulkSnoozeSchedule:!0,hasTitle:!1,isLoading:!1,initialSchedule:null,onSaveSchedule:async e=>{r(),j(!0);try{const a=await d({ids:t.map((e=>e.id)),filter:s,snoozeSchedule:e});m(a,"snoozeSchedule")}catch(e){p.addError(e,{title:Re})}j(!1),c()},onCancelSchedules:x,onClose:()=>{}})),Object(O.jsx)(u.EuiModalFooter,null,Object(O.jsx)(u.EuiButtonEmpty,{onClick:r},"Close"))):null}));var Fe=s(110);const ve=({typesFilter:e,actionTypesFilter:t,ruleExecutionStatusesFilter:s,ruleLastRunOutcomesFilter:a,ruleStatusesFilter:l,tagsFilter:n,searchText:i})=>{const o=[];if(e&&e.length&&o.push(Fe.nodeBuilder.or(e.map((e=>Fe.nodeBuilder.is("alert.attributes.alertTypeId",e))))),t&&t.length&&o.push(Fe.nodeBuilder.or(t.map((e=>Object(Fe.fromKueryExpression)(`alert.attributes.actions:{ actionTypeId: ${e} }`))))),s&&s.length&&o.push(Fe.nodeBuilder.or(s.map((e=>Fe.nodeBuilder.is("alert.attributes.executionStatus.status",e))))),a&&a.length&&o.push(Fe.nodeBuilder.or(a.map((e=>Fe.nodeBuilder.is("alert.attributes.lastRun.outcome",e))))),l&&l.length){const e=Fe.nodeBuilder.or([Object(Fe.fromKueryExpression)("alert.attributes.muteAll: true"),Object(Fe.fromKueryExpression)("alert.attributes.snoozeSchedule:{ duration > 0 }")]),t=Object(Fe.fromKueryExpression)("alert.attributes.enabled: true"),s=Object(Fe.fromKueryExpression)("alert.attributes.enabled: false"),a=[];l.includes("enabled")&&a.push(t),l.includes("disabled")&&a.push(s),l.includes("snoozed")&&a.push(e),o.push(Fe.nodeBuilder.or(a))}if(n&&n.length&&o.push(Fe.nodeBuilder.or(n.map((e=>Fe.nodeBuilder.is("alert.attributes.tags",e))))),i&&""!==i){const e=i.match(/(['"`])(.*?)\1/g)?Fe.nodeTypes.literal.buildNode(i,!0):Fe.nodeTypes.wildcard.buildNode(i);o.push(Fe.nodeBuilder.or([Fe.nodeBuilder.is("alert.attributes.name",e),Fe.nodeBuilder.is("alert.attributes.tags",e)]))}return o.length?Fe.nodeBuilder.and(o):null};var Ae;!function(e){e.TOGGLE_SELECT_ALL="TOGGLE_SELECT_ALL",e.TOGGLE_ROW="TOGGLE_ROW",e.SET_SELECTION="SET_SELECTION",e.CLEAR_SELECTION="CLEAR_SELECTION"}(Ae||(Ae={}));const Me={selectedIds:new Set,isAllSelected:!1},we=(e,t)=>{const{type:s,payload:a}=t;switch(s){case Ae.TOGGLE_SELECT_ALL:return{...e,isAllSelected:!e.isAllSelected,selectedIds:new Set};case Ae.TOGGLE_ROW:{const t=a;return e.selectedIds.has(t)?e.selectedIds.delete(t):e.selectedIds.add(t),{...e,selectedIds:new Set(e.selectedIds)}}case Ae.SET_SELECTION:{const t=a;return{...e,selectedIds:new Set(t)}}case Ae.CLEAR_SELECTION:return{...Me,selectedIds:new Set};default:return e}};var ze=s(185),Ue=s(27),_e=s(21),De=s(26),Pe=s(58);const Be=e=>e.reduce(((e,t)=>({...e,[t]:0})),{});var Ne=s(76);var Ge=s(130),He=s(186),Ke=s(159);const qe=Object(i.lazy)((()=>Promise.all([s.e(0),s.e(2),s.e(50)]).then(s.bind(null,85)))),We=Object(i.lazy)((()=>Promise.all([s.e(0),s.e(2),s.e(53)]).then(s.bind(null,83)))),$e={[b.j.P50]:"monitoring.run.calculated_metrics.p50",[b.j.P95]:"monitoring.run.calculated_metrics.p95",[b.j.P99]:"monitoring.run.calculated_metrics.p99"},Qe=Object.values(b.j).map((e=>({checked:e===b.j.P50?"on":void 0,label:e,key:e}))),Ve=[],Ze=({filteredRuleTypes:e=Ve,showActionFilter:t=!0,ruleDetailsRoute:s,showCreateRuleButtonInPrompt:b=!1,statusFilter:j,onStatusFilterChange:g,lastResponseFilter:p,onLastResponseFilterChange:h,lastRunOutcomeFilter:T,onLastRunOutcomeFilterChange:y,setHeaderActions:I,refresh:C,rulesListKey:R,visibleColumns:L})=>{const A=Object(r.useHistory)(),{http:M,notifications:{toasts:w},application:{capabilities:z},ruleTypeRegistry:U,actionTypeRegistry:_,kibanaFeatures:D}=Object(S.b)().services,P=Object(V.c)(z),[B,N]=Object(i.useState)(!1),[G,H]=Object(i.useState)({index:0,size:x.f}),[K,q]=Object(i.useState)(""),[W,J]=Object(i.useState)((()=>({searchText:"",types:[],actionTypes:[],ruleExecutionStatuses:p||[],ruleLastRunOutcomes:T||[],ruleStatuses:j||[],tags:[]}))),[Y,X]=Object(i.useState)(!1),[ae,le]=Object(i.useState)(!1),[ne,ie]=Object(i.useState)(null),[oe,ue]=Object(i.useState)({}),[re,ce]=Object(i.useState)(!1),de=Object(i.useRef)(null),be=Object(v.a)("ruleStatusFilter"),[je,ge]=Object(i.useState)(Qe),[pe,me]=Object(i.useState)({field:"name",direction:"asc"}),[xe,Oe]=Object(i.useState)(null),[fe,ye]=Object(i.useState)(!1),[Ie,Ce]=Object(i.useState)(!1),[Re,$e]=Object(i.useState)([]),[Ze,Ye]=Object(i.useState)(),[Xe,et]=Object(i.useState)(),[tt,st]=Object(i.useState)(!1),[at,lt]=Object(i.useState)(!1),[nt,it]=Object(i.useState)(!1),{config:ot}=(()=>{const{http:e}=Object(S.b)().services,{data:t}=Object(Ue.useQuery)({queryKey:["loadConfig"],queryFn:()=>Object(Ge.a)({http:e}),initialData:{isUsingSecurity:!1},refetchOnWindowFocus:!1});return{config:t}})(),{ruleTypesState:ut,hasAnyAuthorizedRuleType:rt,authorizedRuleTypes:ct,authorizedToCreateAnyRules:dt,isSuccess:bt}=(e=>{const{filteredRuleTypes:t}=e,{http:s,notifications:{toasts:l}}=Object(S.b)().services,{data:n,isSuccess:i,isFetching:o,isInitialLoading:u,isLoading:r}=Object(Ue.useQuery)({queryKey:["loadRuleTypes"],queryFn:()=>Object(Q.u)({http:s}),onError:()=>{l.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadRuleTypesMessage",{defaultMessage:"Unable to load rule types"}))},refetchOnWindowFocus:!1}),d=n?((e,t)=>{const s=new Map;for(const t of e)s.set(t.id,t);let a=s;return null!=t&&t.length&&(a=new Map([...s].filter((([e,s])=>t.includes(s.id))))),a})(n,t):new Map,b=d.size>0,j=[...d.values()],g=j.some((e=>{var t;return null===(t=e.authorizedConsumers[c.ALERTS_FEATURE_ID])||void 0===t?void 0:t.all}));return{ruleTypesState:{initialLoad:r||u,isLoading:r||o,data:d},hasAnyAuthorizedRuleType:b,authorizedRuleTypes:j,authorizedToCreateAnyRules:g,isSuccess:i}})({filteredRuleTypes:e}),{actionTypes:jt}=(()=>{const{http:e,actionTypeRegistry:t,notifications:{toasts:s}}=Object(S.b)().services,{data:l=[]}=Object(Ue.useQuery)({queryKey:["loadActionTypes"],queryFn:()=>Object(De.d)({http:e,featureId:_e.AlertingConnectorFeatureId}),onError:()=>{s.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadConnectorTypesMessage",{defaultMessage:"Unable to load connector types"}))},refetchOnWindowFocus:!1});return{actionTypes:l.filter((({id:e})=>t.has(e))).sort(((e,t)=>e.name.localeCompare(t.name)))}})(),gt=Object(l.isEmpty)(W.types)?ct.map((e=>e.id)):W.types,pt=Object(l.isEmpty)(W.types),mt=Object(i.useMemo)((()=>({...W,types:gt})),[W,gt]),xt=bt&&rt,{rulesState:Ot,loadRules:ft,hasData:ht,lastUpdate:St}=(e=>{var t,s;const{filters:l,page:n,sort:i,onPage:o,enabled:u,refresh:r}=e,{http:c,notifications:{toasts:d}}=Object(S.b)().services,{refetch:b,isLoading:j,data:g,dataUpdatedAt:p,isInitialLoading:m,isFetching:O}=Object(Ue.useQuery)({queryKey:["loadRules",l.tags,l.searchText,l.types,l.actionTypes,l.ruleStatuses,l.ruleLastRunOutcomes,n,i,{refresh:null==r?void 0:r.toISOString()}],queryFn:()=>async function({http:e,page:t,searchText:s,typesFilter:a,actionTypesFilter:l,ruleExecutionStatusesFilter:n,ruleLastRunOutcomesFilter:i,ruleStatusesFilter:o,tagsFilter:u,sort:r={field:"name",direction:"asc"}}){const c=ve({typesFilter:a,actionTypesFilter:l,tagsFilter:u,ruleExecutionStatusesFilter:n,ruleLastRunOutcomesFilter:i,ruleStatusesFilter:o,searchText:s}),d=await e.post(`${x.j}/rules/_find`,{body:JSON.stringify({page:t.index+1,per_page:t.size,...c?{filter:JSON.stringify(c)}:{},sort_field:r.field,sort_order:r.direction})});return{page:d.page,perPage:d.per_page,total:d.total,data:Object(Ne.a)(d.data)}}({http:c,page:n,searchText:l.searchText,typesFilter:l.types,actionTypesFilter:l.actionTypes,ruleExecutionStatusesFilter:l.ruleExecutionStatuses,ruleLastRunOutcomesFilter:l.ruleLastRunOutcomes,ruleStatusesFilter:l.ruleStatuses,tagsFilter:l.tags,sort:i}),onSuccess:e=>{var t;(null==e||null===(t=e.data)||void 0===t||!t.length)&&n.index>0&&o({...n,index:0})},onError:()=>{d.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadRulesMessage",{defaultMessage:"Unable to load rules"}))},enabled:u,keepPreviousData:!0,cacheTime:0,refetchOnWindowFocus:!1}),f=Boolean(g&&g.data.length>0);return{rulesState:{isLoading:u&&(j||O),data:null!==(t=null==g?void 0:g.data)&&void 0!==t?t:[],totalItemCount:null!==(s=null==g?void 0:g.total)&&void 0!==s?s:0,initialLoad:j||m},lastUpdate:k()(p).format(),hasData:f,loadRules:b}})({filters:mt,hasDefaultRuleTypesFiltersOn:pt,page:G,sort:pe,onPage:H,enabled:xt,refresh:C}),{loadRuleAggregations:Et,rulesStatusesTotal:Tt,rulesLastRunOutcomesTotal:yt}=(e=>{var t,s;const{filters:l,enabled:n,refresh:i}=e,{http:o,notifications:{toasts:u}}=Object(S.b)().services,{data:r,refetch:d,isLoading:b,isFetching:j}=Object(Ue.useQuery)({queryKey:["loadRuleAggregationsWithKueryFilter",l.searchText,l.types,l.actionTypes,l.ruleExecutionStatuses,l.ruleLastRunOutcomes,l.ruleStatuses,l.tags,{refresh:null==i?void 0:i.toISOString()}],queryFn:()=>async function({http:e,searchText:t,typesFilter:s,actionTypesFilter:a,ruleExecutionStatusesFilter:l,ruleStatusesFilter:n,tagsFilter:i}){const o=ve({typesFilter:s,actionTypesFilter:a,tagsFilter:i,ruleExecutionStatusesFilter:l,ruleStatusesFilter:n,searchText:t}),u=await e.post(`${x.j}/rules/_aggregate`,{body:JSON.stringify({...o?{filter:JSON.stringify(o)}:{},default_search_operator:"AND"})});return Object(Pe.a)(u)}({http:o,searchText:l.searchText,typesFilter:l.types,actionTypesFilter:l.actionTypes,ruleExecutionStatusesFilter:l.ruleExecutionStatuses,ruleLastRunOutcomesFilter:l.ruleLastRunOutcomes,ruleStatusesFilter:l.ruleStatuses,tagsFilter:l.tags}),onError:()=>{u.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadRuleStatusInfoMessage",{defaultMessage:"Unable to load rule status info"}))},enabled:n,keepPreviousData:!0,cacheTime:0,refetchOnWindowFocus:!1}),g=r||{ruleExecutionStatus:Be(c.RuleExecutionStatusValues),ruleLastRunOutcome:Be(c.RuleLastRunOutcomeValues)};return{loadRuleAggregations:d,rulesStatusesTotal:null!==(t=g.ruleExecutionStatus)&&void 0!==t?t:{},rulesLastRunOutcomesTotal:null!==(s=g.ruleLastRunOutcome)&&void 0!==s?s:{},isLoading:b&&j}})({filters:mt,enabled:xt,refresh:C}),{tags:It,loadTags:kt}=function(e){var t;const{enabled:s,refresh:l}=e,{http:n,notifications:{toasts:i}}=Object(S.b)().services,{refetch:o,data:u}=Object(Ue.useQuery)({queryKey:["loadRuleTags",{refresh:null==l?void 0:l.toDateString()}],queryFn:()=>Object(Q.t)({http:n}),onError:()=>{i.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.unableToLoadRuleTags",{defaultMessage:"Unable to load rule tags"}))},enabled:s,refetchOnWindowFocus:!1});return{tags:null!==(t=null==u?void 0:u.ruleTags)&&void 0!==t?t:[],loadTags:o}}({enabled:be&&xt,refresh:C}),{showSpinner:Ct,showRulesList:Rt,showNoAuthPrompt:Lt,showCreateFirstRulePrompt:Ft}=(({authorizedToCreateAnyRules:e,filters:t,hasDefaultRuleTypesFiltersOn:s,isLoadingRuleTypes:a,isLoadingRules:n,isInitialLoadingRuleTypes:i,isInitialLoadingRules:o,hasData:u})=>{const r=(({hasEmptyTypesFilter:e,filters:t})=>!(e&&Object(l.isEmpty)(t.searchText)&&Object(l.isEmpty)(t.actionTypes)&&Object(l.isEmpty)(t.ruleExecutionStatuses)&&Object(l.isEmpty)(t.ruleLastRunOutcomes)&&Object(l.isEmpty)(t.ruleStatuses)&&Object(l.isEmpty)(t.tags)))({hasEmptyTypesFilter:!!s||Object(l.isEmpty)(t.types),filters:t}),c=!i&&!e,d=!(a||n||u||r),b=(i||o)&&(a||!c&&n);return{showSpinner:b,showRulesList:!b&&!d&&!c,showNoAuthPrompt:c,showCreateFirstRulePrompt:d}})({authorizedToCreateAnyRules:dt,filters:W,hasDefaultRuleTypesFiltersOn:pt,isLoadingRuleTypes:ut.isLoading,isLoadingRules:Ot.isLoading,hasData:ht,isInitialLoadingRuleTypes:ut.initialLoad,isInitialLoadingRules:Ot.initialLoad}),vt=e=>{le(!0),ie(e)},At=Object(i.useCallback)((async()=>{ut&&rt&&(await ft(),await Et(),be&&await kt())}),[ft,kt,Et,be,rt,ut]),Mt=Object(i.useMemo)((()=>ut.initialLoad?[]:he({rules:Ot.data,ruleTypeIndex:ut.data,canExecuteActions:P,config:ot})),[ut,Ot.data,P,ot]),{isAllSelected:wt,selectedIds:zt,isPageSelected:Ut,numberOfSelectedItems:_t,isRowSelected:Dt,getFilter:Pt,onSelectRow:Bt,onSelectAll:Nt,onSelectPage:Gt,onClearSelection:Ht}=function(e){const{totalItemCount:t=0,items:s=[],typesFilter:a,actionTypesFilter:l,tagsFilter:n,ruleExecutionStatusesFilter:o,ruleLastRunOutcomesFilter:u,ruleStatusesFilter:r,searchText:c}=e,[d,b]=Object(i.useReducer)(we,Me),j=Object(i.useMemo)((()=>s.map((e=>e.id))),[s]),g=Object(i.useMemo)((()=>{const{selectedIds:e,isAllSelected:s}=d;return t?s?t-e.size:j.filter((t=>e.has(t))).length:0}),[d,j,t]),p=Object(i.useMemo)((()=>{const{selectedIds:e,isAllSelected:t}=d;return!!s.length&&s.every((s=>!s.isEditable||(t?!e.has(s.id):e.has(s.id))))}),[d,s]),m=Object(i.useCallback)((e=>{const{selectedIds:t,isAllSelected:s}=d;return!!e.isEditable&&(s?!t.has(e.id):t.has(e.id))}),[d]),x=Object(i.useCallback)((e=>{b({type:Ae.TOGGLE_ROW,payload:e.id})}),[]),O=Object(i.useCallback)((()=>{b({type:Ae.TOGGLE_SELECT_ALL,payload:!d.isAllSelected})}),[d]),f=Object(i.useCallback)((()=>{const{selectedIds:e,isAllSelected:t}=d;if(!p&&!t){const t=s.filter((e=>e.isEditable)).map((e=>e.id));b({type:Ae.SET_SELECTION,payload:[...e,...t]})}p&&!t&&(s.forEach((t=>e.delete(t.id))),b({type:Ae.SET_SELECTION,payload:[...e]})),!p&&t&&(s.forEach((t=>{t.isEditable&&e.delete(t.id)})),b({type:Ae.SET_SELECTION,payload:[...e]})),p&&t&&b({type:Ae.SET_SELECTION,payload:[...e,...j]})}),[d,p,s,j]),h=Object(i.useCallback)((()=>{b({type:Ae.CLEAR_SELECTION})}),[]),S=Object(i.useCallback)((e=>{const t=ve({typesFilter:a,actionTypesFilter:l,tagsFilter:n,ruleExecutionStatusesFilter:o,ruleLastRunOutcomesFilter:u,ruleStatusesFilter:r,searchText:c});if(e&&e.length){const s=Object(Fe.fromKueryExpression)(`NOT (${e.map((e=>`alert.id: "alert:${e}"`)).join(" or ")})`);return t?Fe.nodeBuilder.and([t,s]):s}return t}),[a,l,n,o,u,r,c]),E=Object(i.useCallback)((()=>{const{selectedIds:e,isAllSelected:t}=d,s=[...e];return t?0===s.length?S():S(s):S()}),[d,S]);return Object(i.useMemo)((()=>({selectedIds:[...d.selectedIds],isAllSelected:d.isAllSelected,isPageSelected:p,numberOfSelectedItems:g,isRowSelected:m,getFilter:E,onSelectRow:x,onSelectAll:O,onSelectPage:f,onClearSelection:h})),[d,p,g,m,E,x,O,f,h])}({totalItemCount:Ot.totalItemCount,items:Mt,...W,typesFilter:gt}),Kt=Object(i.useCallback)((e=>{const{filter:t,value:s}=e;switch(Ht(),t){case"ruleStatuses":null==g||g(s);break;case"ruleExecutionStatuses":null==h||h(s);break;case"ruleLastRunOutcomes":null==y||y(s)}}),[g,h,y,Ht]),qt=Object(i.useCallback)((e=>{const{filter:t,value:s}=e;J((e=>({...e,[t]:s}))),Kt(e)}),[J,Kt]);Object(i.useEffect)((()=>{j&&qt({filter:"ruleStatuses",value:j})}),[j]),Object(i.useEffect)((()=>{p&&qt({filter:"ruleExecutionStatuses",value:p})}),[p]),Object(i.useEffect)((()=>{T&&qt({filter:"ruleLastRunOutcomes",value:T})}),[p]),Object(i.useEffect)((()=>{if(de.current){const e=Mt.find((e=>e.id===de.current));de.current=null,lt(!1),e&&vt(e)}}),[Mt]);const Wt=e=>{var t,s;const a="error"===e.status,l=null==e||null===(t=e.error)||void 0===t?void 0:t.message,i=(null===(s=e.error)||void 0===s?void 0:s.reason)===c.RuleExecutionStatusErrorReasons.License?m.a:null;return[{title:Object(O.jsx)(n.FormattedMessage,{id:"xpack.triggersActionsUI.sections.rulesList.expandRow.title",defaultMessage:"Error from last run"}),description:Object(O.jsx)(o.a.Fragment,null,l,a&&i&&Object(O.jsx)(u.EuiSpacer,{size:"xs"}),i)}]},$t=Object(i.useCallback)((()=>{ce((e=>{if(e)ue({});else{const e=Ot.data.reduce(((e,t)=>{var s;return(null===(s=t.lastRun)||void 0===s?void 0:s.outcome)===c.RuleLastRunOutcomeValues[2]||"error"===t.executionStatus.status?{...e,[t.id]:Object(O.jsx)(u.EuiDescriptionList,{listItems:Wt(t.executionStatus)})}:e}),{});ue(e)}return!e}))}),[re,Ot]),Qt=Object(i.useCallback)((async e=>{await Object(Q.c)({http:M,ids:[e.id]})}),[Q.c]),Vt=Object(i.useCallback)((async e=>{await Object(Q.d)({http:M,ids:[e.id]})}),[Q.d]),Zt=e=>{q(e),qt({filter:"searchText",value:e})},Jt=Object(l.sortBy)(Object.entries(ct.reduce(((e,t)=>{const s=t.producer;return(e[s]=e[s]||[]).push({value:t.id,name:t.name}),e}),{}))).map((([e,t])=>{var s,a,n;return{groupName:null!==(a=e,s=null==D||null===(n=D.find((e=>e.id===a)))||void 0===n?void 0:n.name)&&void 0!==s?s:Object(l.capitalize)(e),subOptions:t.sort(((e,t)=>e.name.localeCompare(t.name)))}})),Yt=Object(i.useMemo)((()=>!!wt||!!zt.length&&Je(Ot.data,zt).every((e=>Object(V.a)(e.consumer,ut.data.get(e.ruleTypeId))))),[zt,Ot.data,ut.data,wt]),Xt=Object(i.useCallback)((({action:e,rules:t,filter:s})=>{et(e),t&&$e(t),s&&Ye(s),"delete"===e&&ns(t&&t.length>0||Boolean(s))}),[]),es=Object(i.useCallback)((()=>{"delete"===Xe&&ns(!1),$e([]),Ye(void 0),et(void 0)}),[]),ts=nt||Ot.isLoading||ut.isLoading||tt||B||fe||Ie||at,ss=async e=>{lt(!0);try{const t=await Object(Q.h)({http:M,ruleId:e});de.current=t.id,await ft()}catch{de.current=null,lt(!1),w.addDanger(a.i18n.translate("xpack.triggersActionsUI.sections.rulesList.cloneFailed",{defaultMessage:"Unable to clone rule"}))}},as=Object(i.useCallback)((()=>{X(!0)}),[]);Object(i.useEffect)((()=>{null==I||I([...dt?[Object(O.jsx)(te,{openFlyout:as})]:[],Object(O.jsx)(Ke.RulesSettingsLink,null),Object(O.jsx)(Ee.a,null)])}),[dt]),Object(i.useEffect)((()=>()=>null==I?void 0:I()),[]);const[ls,ns]=Object(i.useState)(!1),{showToast:is}=Object(He.a)({onSearchPopulate:Zt}),os=async()=>{ye(!0);const{errors:e,total:t}=wt?await Object(Q.d)({http:M,filter:Pt()}):await Object(Q.d)({http:M,ids:zt});ye(!1),is({action:"ENABLE",errors:e,total:t}),await At(),Ht()},us=async()=>{Ce(!0);const{errors:e,total:t}=wt?await Object(Q.c)({http:M,filter:Pt()}):await Object(Q.c)({http:M,ids:zt});Ce(!1),is({action:"DISABLE",errors:e,total:t}),await At(),Ht()},rs=Re.length||_t;return Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)(ee,{showNoAuthPrompt:Lt,showCreateFirstRulePrompt:Ft,showCreateRuleButtonInPrompt:b,showSpinner:Ct,onCreateRulesClick:as}),Object(O.jsx)(u.EuiPageTemplate.Section,{"data-test-subj":"rulesList",grow:!1,paddingSize:"none"},ls&&Object(O.jsx)(Z.a,{onConfirm:async()=>{if("delete"!==Xe)return;ns(!1),st(!0);const e=wt&&Ze?{filter:Ze,http:M}:{ids:Re.map((e=>e.id)),http:M},{errors:t,total:s}=await Object(Q.b)(e);st(!1),is({action:"DELETE",errors:t,total:s}),es(),Ht(),At()},onCancel:()=>{ns(!1),es()},confirmButtonText:Object(m.x)(rs,m.v,m.e),confirmModalText:Object(m.y)(rs,m.v,m.e)}),Object(O.jsx)(ke,{rules:Re,filter:Ze,bulkEditAction:Xe,numberOfSelectedRules:_t,setIsBulkEditing:st,onClose:()=>{$e([]),Ye(void 0)},onSave:async()=>{es(),Ht(),await At()},onSearchPopulate:Zt}),Object(O.jsx)(Le,{rules:Re,filter:Ze,bulkEditAction:Xe,numberOfSelectedRules:_t,setIsBulkEditing:st,onClose:()=>{$e([]),Ye(void 0)},onSave:async()=>{es(),Ht(),await At()},onSearchPopulate:Zt}),"updateApiKey"===Xe&&Object(O.jsx)(Te.a,{onCancel:()=>{es()},rulesToUpdate:Re,idsToUpdateFilter:Ze,numberOfSelectedRules:_t,apiUpdateApiKeyCall:Q.g,setIsLoadingState:e=>{st(e),it(e)},onUpdated:async()=>{es(),Ht(),await At()},onSearchPopulate:Zt}),Object(O.jsx)(u.EuiSpacer,{size:"xs"}),Rt&&Object(O.jsx)(o.a.Fragment,null,Object(O.jsx)($,{inputText:K,filters:W,showActionFilter:t,rulesStatusesTotal:Tt,rulesLastRunOutcomesTotal:yt,tags:It,filterOptions:Jt,actionTypes:jt,lastUpdate:St,showErrors:re,updateFilters:qt,setInputText:q,onClearSelection:Ht,onRefreshRules:At,onToggleRuleErrors:$t}),Object(O.jsx)(u.EuiSpacer,{size:"s"}),Object(O.jsx)(Se,{items:Mt,isLoading:ts,rulesState:Ot,ruleTypesState:ut,ruleTypeRegistry:U,isPageSelected:Ut,isAllSelected:wt,numberOfSelectedRules:_t,sort:pe,page:G,percentileOptions:je,itemIdToExpandedRowMap:oe,onSort:me,onPage:H,onRuleChanged:()=>At(),onRuleClick:e=>{const t=s||d.ib;A.push(t.replace(":ruleId",e.id))},onRuleEditClick:e=>{var t;e.isEditable&&(t=e.ruleTypeId,U.has(t)&&!U.get(t).requiresAppContext)&&vt(e)},onRuleDeleteClick:e=>Xt({action:"delete",rules:[e]}),onManageLicenseClick:e=>{var t;return Oe({licenseType:null===(t=ut.data.get(e.ruleTypeId))||void 0===t?void 0:t.minimumLicenseRequired,ruleTypeId:e.ruleTypeId})},onPercentileOptionsChange:ge,onDisableRule:Qt,onEnableRule:Vt,onSnoozeRule:(e,t)=>Object(Q.A)({http:M,id:e.id,snoozeSchedule:t}),onUnsnoozeRule:(e,t)=>Object(Q.E)({http:M,id:e.id,scheduleIds:t}),onSelectAll:Nt,onSelectPage:Gt,onSelectRow:Bt,isRowSelected:Dt,renderCollapsedItemActions:(e,t)=>Object(O.jsx)(F,{key:e.id,item:e,onLoading:t,onRuleChanged:()=>At(),onDeleteRule:()=>Xt({action:"delete",rules:[e]}),onEditRule:()=>vt(e),onUpdateAPIKey:()=>Xt({action:"updateApiKey",rules:[e]}),onRunRule:()=>(async e=>{await Object(ze.a)(M,w,e)})(e.id),onCloneRule:ss}),renderRuleError:e=>{var t;const s=e.executionStatus,a="error"===s.status;return(null===(t=s.error)||void 0===t?void 0:t.reason)===c.RuleExecutionStatusErrorReasons.License||a?Object(O.jsx)(u.EuiButtonIcon,{onClick:()=>((e,t)=>{ue((s=>{const a={...s};return a[t.id]?delete a[t.id]:a[t.id]=Object(O.jsx)(u.EuiDescriptionList,{listItems:Wt(e)}),a}))})(s,e),"aria-label":oe[e.id]?"Collapse":"Expand",iconType:oe[e.id]?"arrowUp":"arrowDown"}):null},renderSelectAllDropdown:()=>Object(O.jsx)(f,{numberOfSelectedRules:_t,canModifySelectedRules:Yt},Object(O.jsx)(E,{selectedItems:he({rules:Je(Ot.data,zt),ruleTypeIndex:ut.data,canExecuteActions:P,config:ot}),isBulkEditing:tt,bulkEditAction:Xe,updateRulesToBulkEdit:Xt,isAllSelected:wt,getFilter:Pt,onPerformingAction:()=>N(!0),onActionPerformed:()=>{At(),N(!1)},isEnablingRules:fe,isDisablingRules:Ie,onEnable:os,onDisable:us})),rulesListKey:R,config:ot,visibleColumns:L}),xe&&Object(O.jsx)(se,{licenseType:xe.licenseType,ruleTypeId:xe.ruleTypeId,onConfirm:()=>{window.open(`${M.basePath.get()}/app/management/stack/license_management`,"_blank"),Oe(null)},onCancel:()=>Oe(null)})),Y&&Object(O.jsx)(i.Suspense,{fallback:Object(O.jsx)("div",null)},Object(O.jsx)(qe,{consumer:c.ALERTS_FEATURE_ID,onClose:()=>{X(!1)},actionTypeRegistry:_,ruleTypeRegistry:U,ruleTypeIndex:ut.data,onSave:At})),ae&&ne&&Object(O.jsx)(i.Suspense,{fallback:Object(O.jsx)("div",null)},Object(O.jsx)(We,{initialRule:ne,onClose:()=>{le(!1)},actionTypeRegistry:_,ruleTypeRegistry:U,ruleType:ut.data.get(ne.ruleTypeId),onSave:At}))))};function Je(e,t){return e.filter((e=>t.includes(e.id)))}},133:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"b",(function(){return u}));var a=s(61),l=s.n(a),n=s(19),i=s(14);function o(e){if(!e)return"00:00:00.000";const t=l.a.duration(e);return`${[t.hours(),t.minutes(),t.seconds()].map((e=>Object(n.padStart)(`${e}`,2,"0"))).join(":")}.${Object(n.padStart)(`${t.milliseconds()}`,3,"0")}`}function u(e,t){if(!e||!e.ruleTaskTimeout)return!1;const s=e.ruleTaskTimeout;return t>Object(i.parseDuration)(s)}},152:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(19),l=s(2);function n(e){return!1===(null==e?void 0:e.enabledInLicense)?(e=>({isEnabled:!1,message:l.i18n.translate("xpack.triggersActionsUI.checkRuleTypeEnabled.ruleTypeDisabledByLicenseMessage",{defaultMessage:"This rule type requires a {minimumLicenseRequired} license.",values:{minimumLicenseRequired:Object(a.upperFirst)(e.minimumLicenseRequired)}})}))(e):{isEnabled:!0}}},157:function(e,t,s){"use strict";s.d(t,"c",(function(){return o})),s.d(t,"a",(function(){return u})),s.d(t,"b",(function(){return r}));var a=s(61),l=s.n(a),n=s(38),i=s.n(n);function o(e){return`${i()(100*e).format("0,0")}%`}function u(e){if(!e)return"00:00";const t=l.a.duration(e);let s=Math.floor(t.asMinutes()),a=t.seconds();return t.milliseconds()>=500&&(a+=1,60===a&&(a=0,s+=1)),`${s.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`}function r(e){return`${i()(e).format("0,0")} ms`}},159:function(e,t,s){"use strict";s.r(t),s.d(t,"RulesSettingsLink",(function(){return A})),s.d(t,"default",(function(){return A}));var a=s(1),l=s.n(a),n=s(3),i=s(23),o=s(2),u=s(25),r=s(9),c=s.n(r),d=s(14),b=s(0);const j=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.lookBackWindowLabel",{defaultMessage:"Rule run look back window"}),g=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.lookBackWindowHelp",{defaultMessage:"The minimum number of runs in which the threshold must be met."}),p=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.statusChangeThresholdLabel",{defaultMessage:"Alert status change threshold"}),m=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.statusChangeThresholdHelp",{defaultMessage:"The minimum number of times an alert must switch states in the look back window."}),x=e=>o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.statusChangeThresholdTimes",{defaultMessage:"{amount, number} {amount, plural, one {time} other {times}}",values:{amount:e}}),O=()=>Object(b.jsx)(n.EuiTitle,{size:"xs"},Object(b.jsx)("h5",null,Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.flapping.alertFlappingDetection",defaultMessage:"Alert flapping detection"}))),f=()=>Object(b.jsx)(n.EuiText,{color:"subdued",size:"s"},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.flapping.alertFlappingDetectionDescription",defaultMessage:"Modify the frequency that an alert can go between active and recovered over a period of rule runs."})),h=Object(a.memo)((e=>{const{label:t,labelPopoverText:s,min:a,max:l,value:i,disabled:o,onChange:u,...r}=e;return Object(b.jsx)(n.EuiFormRow,{label:Object(b.jsx)("div",null,t," ",Object(b.jsx)(n.EuiIconTip,{color:"subdued",size:"s",type:"questionInCircle",content:s}))},Object(b.jsx)(n.EuiRange,c()({min:a,max:l,step:1,value:i,disabled:o,onChange:u,showLabels:!0,showValue:!0},r)))})),S=Object(a.memo)((e=>{const{flappingSettings:t,compressed:s=!1,onChange:a}=e,{lookBackWindow:r,statusChangeThreshold:c}=t,{application:{capabilities:S}}=Object(u.b)().services,{rulesSettings:{writeFlappingSettingsUI:E}}=S,T=E;return Object(b.jsx)(n.EuiFlexGroup,{direction:"column"},s&&Object(b.jsx)(l.a.Fragment,null,Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(n.EuiFlexGroup,{direction:"column",gutterSize:"s"},Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(O,null)),Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(f,null)),Object(b.jsx)(n.EuiSpacer,{size:"s"})))),Object(b.jsx)(n.EuiFlexItem,{grow:!1},Object(b.jsx)(h,{"data-test-subj":"lookBackWindowRangeInput",min:d.MIN_LOOK_BACK_WINDOW,max:d.MAX_LOOK_BACK_WINDOW,value:r,onChange:e=>a("lookBackWindow",parseInt(e.currentTarget.value,10)),label:j,labelPopoverText:g,disabled:!T})),Object(b.jsx)(n.EuiFlexItem,{grow:!1},Object(b.jsx)(h,{"data-test-subj":"statusChangeThresholdRangeInput",min:d.MIN_STATUS_CHANGE_THRESHOLD,max:d.MAX_STATUS_CHANGE_THRESHOLD,value:c,onChange:e=>a("statusChangeThreshold",parseInt(e.currentTarget.value,10)),label:p,labelPopoverText:m,disabled:!T})),Object(b.jsx)(n.EuiFlexItem,{grow:!1},Object(b.jsx)(n.EuiPanel,{borderRadius:"none",color:"subdued"},Object(b.jsx)(n.EuiText,{size:"s"},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.flapping.flappingSettingsDescription",defaultMessage:"An alert is flapping if it changes status at least {statusChangeThreshold} in the last {lookBackWindow}.",values:{lookBackWindow:Object(b.jsx)("b",null,(y=r,o.i18n.translate("xpack.triggersActionsUI.rulesSettings.flapping.lookBackWindowLabelRuleRuns",{defaultMessage:"{amount, number} rule {amount, plural, one {run} other {runs}}",values:{amount:y}}))),statusChangeThreshold:Object(b.jsx)("b",null,x(c))}})))));var y}));var E=s(27),T=s(62),y=s(63);const I=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.flappingDetectionDescription",{defaultMessage:"Detect alerts that switch quickly between active and recovered states and reduce unwanted noise for these flapping alerts."}),k=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.flappingOnLabel",{defaultMessage:"On (recommended)"}),C=o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.flappingOffLabel",{defaultMessage:"Off"}),R=Object(a.memo)((()=>Object(b.jsx)(n.EuiEmptyPrompt,{"data-test-subj":"rulesSettingsErrorPrompt",color:"danger",iconType:"alert",title:Object(b.jsx)("h4",null,Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.modal.errorPromptTitle",defaultMessage:"Unable to load your rules settings"})),body:Object(b.jsx)("p",null,Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.modal.errorPromptBody",defaultMessage:"There was an error loading your rules settings. Contact your administrator for help"}))}))),L=Object(a.memo)((e=>{const{settings:t,onChange:s,isSwitchDisabled:a}=e;return Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(n.EuiFlexGroup,{direction:"column"},Object(b.jsx)(n.EuiFlexItem,{grow:!1},Object(b.jsx)(n.EuiText,{color:"subdued",size:"s"},Object(b.jsx)("p",null,I))),Object(b.jsx)(n.EuiFlexItem,{grow:!1},Object(b.jsx)(n.EuiSwitch,{"data-test-subj":"rulesSettingsModalEnableSwitch",label:t.enabled?k:C,checked:t.enabled,disabled:a,onChange:s}))))})),F=Object(a.memo)((e=>{const{settings:t,onChange:s}=e;return t?t.enabled?Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(S,{flappingSettings:t,onChange:s})):Object(b.jsx)(n.EuiFlexItem,{"data-test-subj":"rulesSettingsModalFlappingOffPrompt"},Object(b.jsx)(n.EuiPanel,{borderRadius:"none",color:"subdued",grow:!1},Object(b.jsx)(n.EuiText,{size:"s"},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.flapping.flappingSettingsOffDescription",defaultMessage:"Alert flapping detection is off. Alerts will be generated based on the rule interval, which might result in higher alert volumes."})))):null})),v=Object(a.memo)((e=>{const{isVisible:t,onClose:s,setUpdatingRulesSettings:l,onSave:r}=e,{application:{capabilities:c}}=Object(u.b)().services,{rulesSettings:{show:d,save:j,writeFlappingSettingsUI:g,readFlappingSettingsUI:p}}=c,[m,x]=Object(a.useState)(),{isLoading:f,isError:h}=(e=>{const{enabled:t,onSuccess:s}=e,{http:a,notifications:{toasts:l}}=Object(u.b)().services,{data:n,isFetching:i,isError:r,isLoadingError:c,isLoading:d}=Object(E.useQuery)({queryKey:["getFlappingSettings"],queryFn:()=>Object(T.k)({http:a}),onError:()=>{l.addDanger(o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.getRulesSettingsError",{defaultMessage:"Failed to get rules Settings."}))},onSuccess:s,enabled:t,refetchOnWindowFocus:!1,retry:!1});return{isLoading:d||i,isError:r||c,data:n}})({enabled:t,onSuccess:e=>{m||x({enabled:e.enabled,lookBackWindow:e.lookBackWindow,statusChangeThreshold:e.statusChangeThreshold})}}),{mutate:S}=(e=>{const{onSave:t,onClose:s,setUpdatingRulesSettings:a}=e,{http:l,notifications:{toasts:n}}=Object(u.b)().services;return Object(E.useMutation)({mutationFn:e=>Object(T.F)({http:l,flappingSettings:e}),onMutate:()=>{s(),null==a||a(!0)},onSuccess:()=>{n.addSuccess(o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.updateRulesSettingsSuccess",{defaultMessage:"Rules settings updated successfully."}))},onError:()=>{n.addDanger(o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.updateRulesSettingsFailure",{defaultMessage:"Failed to update rules settings."}))},onSettled:()=>{null==a||a(!1),null==t||t()}})})({onSave:r,onClose:s,setUpdatingRulesSettings:l}),I=j&&g&&!h,k=d&&p,C=(e,t)=>{if(!m)return;const s={...m,[e]:t};x({...s,statusChangeThreshold:Math.min(s.lookBackWindow,s.statusChangeThreshold)})};return t?Object(b.jsx)(n.EuiModal,{"data-test-subj":"rulesSettingsModal",onClose:s,maxWidth:880},Object(b.jsx)(n.EuiModalHeader,null,Object(b.jsx)(n.EuiModalHeaderTitle,{component:"h3"},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.modal.title",defaultMessage:"Rule settings"}))),Object(b.jsx)(n.EuiModalBody,null,Object(b.jsx)(n.EuiCallOut,{size:"s",title:o.i18n.translate("xpack.triggersActionsUI.rulesSettings.modal.calloutMessage",{defaultMessage:"Apply to all rules within the current space."})}),Object(b.jsx)(n.EuiHorizontalRule,null),h||!k?Object(b.jsx)(R,null):!m||f?Object(b.jsx)(y.a,null):Object(b.jsx)(n.EuiForm,null,Object(b.jsx)(n.EuiFlexGroup,null,Object(b.jsx)(n.EuiFlexItem,null,Object(b.jsx)(O,null))),Object(b.jsx)(n.EuiSpacer,{size:"s"}),Object(b.jsx)(n.EuiFlexGroup,null,Object(b.jsx)(L,{isSwitchDisabled:!I,settings:m,onChange:e=>C("enabled",e.target.checked)}),Object(b.jsx)(F,{settings:m,onChange:(e,t)=>C(e,t)}))),Object(b.jsx)(n.EuiSpacer,null),Object(b.jsx)(n.EuiHorizontalRule,{margin:"none"})),Object(b.jsx)(n.EuiModalFooter,null,Object(b.jsx)(n.EuiButtonEmpty,{"data-test-subj":"rulesSettingsModalCancelButton",onClick:s},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.modal.cancelButton",defaultMessage:"Cancel"})),Object(b.jsx)(n.EuiButton,{fill:!0,"data-test-subj":"rulesSettingsModalSaveButton",onClick:()=>{m&&S(m)},disabled:!I},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.modal.saveButton",defaultMessage:"Save"})))):null})),A=()=>{const[e,t]=Object(a.useState)(!1),{application:{capabilities:s}}=Object(u.b)().services,{show:o,readFlappingSettingsUI:r}=s.rulesSettings;return o&&r?Object(b.jsx)(l.a.Fragment,null,Object(b.jsx)(n.EuiButtonEmpty,{onClick:()=>t(!0),iconType:"gear","data-test-subj":"rulesSettingsLink"},Object(b.jsx)(i.FormattedMessage,{id:"xpack.triggersActionsUI.rulesSettings.link.title",defaultMessage:"Settings"})),Object(b.jsx)(v,{isVisible:e,onClose:()=>t(!1)})):null}},170:function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var a=s(1),l=s(3),n=s(157),i=s(0);const o=Object(a.memo)((e=>{const{duration:t,allowZero:s=!0}=e,o=Object(a.useMemo)((()=>s||"number"==typeof t?Object(n.a)(t):"N/A"),[t,s]),u=Object(a.useMemo)((()=>s||"number"==typeof t?Object(n.b)(t):"N/A"),[t,s]);return Object(i.jsx)(l.EuiToolTip,{"data-test-subj":"rule-duration-format-tooltip",content:u},Object(i.jsx)("span",{"data-test-subj":"rule-duration-format-value"},o))}))},172:function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s(1);var a=s(23),l=s(3),n=s(25),i=s(0);const o=()=>{const{docLinks:e}=Object(n.b)().services;return Object(i.jsx)(l.EuiButtonEmpty,{href:e.links.alerting.guide,target:"_blank",iconType:"help","data-test-subj":"documentationLink"},Object(i.jsx)(a.FormattedMessage,{id:"xpack.triggersActionsUI.home.docsLinkText",defaultMessage:"Documentation"}))}},231:function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(232);case"v8light":return s(234)}},232:function(e,t,s){var a=s(59),l=s(233);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},233:function(e,t,s){(t=s(60)(!1)).push([e.i,".actBulkActionPopover__deleteAll .euiButtonEmpty__text{padding-top:4px}",""]),e.exports=t},234:function(e,t,s){var a=s(59),l=s(235);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},235:function(e,t,s){(t=s(60)(!1)).push([e.i,".actBulkActionPopover__deleteAll .euiButtonEmpty__text{padding-top:4px}",""]),e.exports=t},236:function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(237);case"v8light":return s(239)}},237:function(e,t,s){var a=s(59),l=s(238);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},238:function(e,t,s){(t=s(60)(!1)).push([e.i,".collapsedItemActions__deleteButton{color:#f86b63}",""]),e.exports=t},239:function(e,t,s){var a=s(59),l=s(240);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},240:function(e,t,s){(t=s(60)(!1)).push([e.i,".collapsedItemActions__deleteButton{color:#bd271e}",""]),e.exports=t},241:function(e,t,s){switch(window.__kbnThemeTag__){case"v8dark":return s(242);case"v8light":return s(244)}},242:function(e,t,s){var a=s(59),l=s(243);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},243:function(e,t,s){(t=s(60)(!1)).push([e.i,".actRulesList__tableRowDisabled{background-color:#25262e}.actRulesList__tableRowDisabled .actRulesList__tableCellDisabled{color:#98a2b3}.euiTableRow:focus-within .ruleSidebarItem__action,.euiTableRow:hover .ruleSidebarItem__action,.euiTableRow[class*=-isActive] .ruleSidebarItem__action{opacity:1}.ruleSidebarItem__action{opacity:0}.ruleSidebarItem__action.ruleSidebarItem__mobile,.ruleSidebarItem__action:focus{opacity:1}.ruleDurationWarningIcon{margin-bottom:4px;margin-left:8px}.ruleDisabledQuestionIcon{bottom:4px;margin-left:4px;position:relative}",""]),e.exports=t},244:function(e,t,s){var a=s(59),l=s(245);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);a(l,{insert:"head",singleton:!1}),e.exports=l.locals||{}},245:function(e,t,s){(t=s(60)(!1)).push([e.i,".actRulesList__tableRowDisabled{background-color:#f5f7fa}.actRulesList__tableRowDisabled .actRulesList__tableCellDisabled{color:#69707d}.euiTableRow:focus-within .ruleSidebarItem__action,.euiTableRow:hover .ruleSidebarItem__action,.euiTableRow[class*=-isActive] .ruleSidebarItem__action{opacity:1}.ruleSidebarItem__action{opacity:0}.ruleSidebarItem__action.ruleSidebarItem__mobile,.ruleSidebarItem__action:focus{opacity:1}.ruleDurationWarningIcon{margin-bottom:4px;margin-left:8px}.ruleDisabledQuestionIcon{bottom:4px;margin-left:4px;position:relative}",""]),e.exports=t}}]);