/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */!function(e){function t(t){for(var n,i,a=t[0],o=t[1],u=0,c=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&c.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);c.length;)c.shift()()}var n={},r={16:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,i){n=r[e]=[t,i]}));t.push(n[2]=a);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+"triggersActionsUi.chunk."+e+".js"}(e);var s=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(c);var n=r[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,n[1](s)}r[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var a=window.triggersActionsUi_bundle_jsonpfunction=window.triggersActionsUi_bundle_jsonpfunction||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=o;i(i.s=87)}([function(e,t){e.exports=__kbnSharedDeps__.EmotionReact},function(e,t){e.exports=__kbnSharedDeps__.React},function(e,t){e.exports=__kbnSharedDeps__.KbnI18n},function(e,t){e.exports=__kbnSharedDeps__.ElasticEui},function(e,t,n){"use strict";n.d(t,"b",(function(){return i.BASE_ALERTING_API_PATH})),n.d(t,"j",(function(){return i.INTERNAL_BASE_ALERTING_API_PATH})),n.d(t,"a",(function(){return a.BASE_ACTION_API_PATH})),n.d(t,"i",(function(){return a.INTERNAL_BASE_ACTION_API_PATH})),n.d(t,"s",(function(){return u})),n.d(t,"r",(function(){return s})),n.d(t,"v",(function(){return c})),n.d(t,"u",(function(){return l})),n.d(t,"t",(function(){return d})),n.d(t,"p",(function(){return f})),n.d(t,"q",(function(){return p})),n.d(t,"w",(function(){return g})),n.d(t,"o",(function(){return o})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return v})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return j})),n.d(t,"h",(function(){return x})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return T})),n.d(t,"g",(function(){return A}));var r=n(2),i=n(14),a=n(21);let o;!function(e){e.SECOND="s",e.MINUTE="m",e.HOUR="h",e.DAY="d"}(o||(o={}));const u="/",s="/connectors",c="/rules",l="/logs",d="/alerts",f="/alert/:alertId",p=r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.RecoveredMessage",{defaultMessage:"Recovered"}),g=r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.SummaryMessage",{defaultMessage:"The system has detected \\{\\{alerts.new.count\\}\\} new, \\{\\{alerts.ongoing.count\\}\\} ongoing, and \\{\\{alerts.recovered.count\\}\\} recovered alerts."});let b;!function(e){e.ASCENDING="asc",e.DESCENDING="desc"}(b||(b={}));const h=10,m="1m",y=["execution_duration","total_search_duration","es_search_duration","schedule_delay"],v=["num_new_alerts","num_active_alerts","num_recovered_alerts"],_=["rule_name","timestamp","execution_duration","status","message","num_active_alerts","num_errored_actions"],j=[..._.slice(1)],x=["rule_name",..._],O="format:number:defaultPattern",T=["timestamp","status","connector_name","message"],A=[...T]},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(63),a=n(0);function o(e,t){return n=>Object(a.jsx)(r.Suspense,{fallback:Object(a.jsx)(i.a,{size:null!=t?t:"m"})},Object(a.jsx)(e,n))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"d",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return m}));var r=n(1),i=n(5);const a=Object(r.lazy)((()=>n.e(51).then(n.bind(null,116)))),o=Object(r.lazy)((()=>n.e(52).then(n.bind(null,117)))),u=(Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(0),n.e(2),n.e(12)]).then(n.bind(null,85))))),Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(0),n.e(2),n.e(13)]).then(n.bind(null,83))))),Object(i.a)(Object(r.lazy)((()=>n.e(11).then(n.bind(null,82))))),Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(5),n.e(15)]).then(n.bind(null,84))))),Object(i.a)(Object(r.lazy)((()=>n.e(10).then(n.bind(null,86)))))),s=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(1),n.e(55)]).then(n.bind(null,101))))),c=Object(i.a)(Object(r.lazy)((()=>n.e(58).then(n.bind(null,102))))),l=Object(i.a)(Object(r.lazy)((()=>n.e(56).then(n.bind(null,103))))),d=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(3),n.e(6),n.e(24)]).then(n.bind(null,112))))),f=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(1),n.e(4),n.e(8)]).then(n.bind(null,111))))),p=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(1),n.e(54)]).then(n.bind(null,94))))),g=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(1),n.e(37)]).then(n.bind(null,119))))),b=Object(i.a)(Object(r.lazy)((()=>n.e(23).then(n.bind(null,113))))),h=Object(i.a)(Object(r.lazy)((()=>n.e(57).then(n.bind(null,104))))),m=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(1),n.e(30)]).then(n.bind(null,105)))))},function(e,t){e.exports=__kbnSharedDeps__.ElasticCharts},function(e,t,n){"use strict";n.r(t),n.d(t,"GroupByExpression",(function(){return a})),n.d(t,"ForLastExpression",(function(){return o})),n.d(t,"ValueExpression",(function(){return u})),n.d(t,"WhenExpression",(function(){return s})),n.d(t,"OfExpression",(function(){return c})),n.d(t,"ThresholdExpression",(function(){return l})),n.d(t,"COMPARATORS",(function(){return d.COMPARATORS})),n.d(t,"builtInComparators",(function(){return d.builtInComparators})),n.d(t,"builtInAggregationTypes",(function(){return d.builtInAggregationTypes})),n.d(t,"builtInGroupByTypes",(function(){return d.builtInGroupByTypes})),n.d(t,"connectorDeprecatedMessage",(function(){return f.a})),n.d(t,"deprecatedMessage",(function(){return f.b})),n.d(t,"getFields",(function(){return m})),n.d(t,"getIndexOptions",(function(){return h})),n.d(t,"firstFieldOption",(function(){return y})),n.d(t,"getTimeFieldOptions",(function(){return v.c})),n.d(t,"useKibana",(function(){return v.d})),n.d(t,"BUCKET_SELECTOR_FIELD",(function(){return _.b})),n.d(t,"buildAggregation",(function(){return _.c})),n.d(t,"isCountAggregation",(function(){return _.d})),n.d(t,"isGroupAggregation",(function(){return _.e})),n.d(t,"parseAggregationResults",(function(){return _.f}));var r=n(1),i=n(5);const a=Object(i.a)(Object(r.lazy)((()=>n.e(39).then(n.bind(null,287))))),o=Object(i.a)(Object(r.lazy)((()=>n.e(38).then(n.bind(null,288))))),u=Object(i.a)(Object(r.lazy)((()=>n.e(41).then(n.bind(null,289))))),s=Object(i.a)(Object(r.lazy)((()=>n.e(42).then(n.bind(null,290))))),c=Object(i.a)(Object(r.lazy)((()=>n.e(20).then(n.bind(null,291))))),l=Object(i.a)(Object(r.lazy)((()=>n.e(40).then(n.bind(null,292)))));var d=n(10),f=n(56),p=n(19),g=n(2),b=n(49);const h=async(e,t)=>{const n=[];if(!t)return n;const[r,i]=await Promise.all([Object(b.b)({pattern:t,http:e}),Object(b.c)(t)]);if(r.length||i.length){const e=Object(p.uniq)([...r,...i]);n.push({label:g.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.indicesAndIndexPatternsLabel",{defaultMessage:"Based on your data views"}),options:e.map((e=>({label:e,value:e})))})}return n.push({label:g.i18n.translate("xpack.triggersActionsUI.components.builtinActionTypes.indexAction.chooseLabel",{defaultMessage:"Chooseâ€¦"}),options:[{value:t,label:t}]}),n},m=async(e,t)=>await Object(b.a)({indexes:t,http:e}),y={text:g.i18n.translate("xpack.triggersActionsUI.sections.ruleAdd.indexControls.timeFieldOptionLabel",{defaultMessage:"Select a field"}),value:""};var v=n(54),_=n(28)},function(e,t,n){e.exports=n(71)(3)},function(e,t,n){"use strict";n.r(t),n.d(t,"COMPARATORS",(function(){return i})),n.d(t,"builtInComparators",(function(){return a})),n.d(t,"AGGREGATION_TYPES",(function(){return o})),n.d(t,"builtInAggregationTypes",(function(){return u})),n.d(t,"builtInGroupByTypes",(function(){return s})),n.d(t,"DEFAULT_FREQUENCY",(function(){return c})),n.d(t,"VIEW_LICENSE_OPTIONS_LINK",(function(){return l})),n.d(t,"PLUGIN_ID",(function(){return d})),n.d(t,"CONNECTORS_PLUGIN_ID",(function(){return f}));var r=n(2);let i;!function(e){e.GREATER_THAN=">",e.GREATER_THAN_OR_EQUALS=">=",e.BETWEEN="between",e.LESS_THAN="<",e.LESS_THAN_OR_EQUALS="<="}(i||(i={}));const a={[i.GREATER_THAN]:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isAboveLabel",{defaultMessage:"Is above"}),value:i.GREATER_THAN,requiredValues:1},[i.GREATER_THAN_OR_EQUALS]:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isAboveOrEqualsLabel",{defaultMessage:"Is above or equals"}),value:i.GREATER_THAN_OR_EQUALS,requiredValues:1},[i.LESS_THAN]:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBelowLabel",{defaultMessage:"Is below"}),value:i.LESS_THAN,requiredValues:1},[i.LESS_THAN_OR_EQUALS]:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBelowOrEqualsLabel",{defaultMessage:"Is below or equals"}),value:i.LESS_THAN_OR_EQUALS,requiredValues:1},[i.BETWEEN]:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.isBetweenLabel",{defaultMessage:"Is between"}),value:i.BETWEEN,requiredValues:2}};let o;!function(e){e.COUNT="count",e.AVERAGE="avg",e.SUM="sum",e.MIN="min",e.MAX="max"}(o||(o={}));const u={count:{text:"count()",fieldRequired:!1,value:o.COUNT,validNormalizedTypes:[]},avg:{text:"average()",fieldRequired:!0,validNormalizedTypes:["number"],value:o.AVERAGE},sum:{text:"sum()",fieldRequired:!0,validNormalizedTypes:["number"],value:o.SUM},min:{text:"min()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:o.MIN},max:{text:"max()",fieldRequired:!0,validNormalizedTypes:["number","date"],value:o.MAX}},s={all:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.groupByTypes.allDocumentsLabel",{defaultMessage:"all documents"}),sizeRequired:!1,value:"all",validNormalizedTypes:[]},top:{text:r.i18n.translate("xpack.triggersActionsUI.common.constants.comparators.groupByTypes.topLabel",{defaultMessage:"top"}),sizeRequired:!0,value:"top",validNormalizedTypes:["number","date","keyword"]}},c={notifyWhen:n(14).RuleNotifyWhen.CHANGE,throttle:null,summary:!1},l="https://www.elastic.co/subscriptions",d="triggersActions",f="triggersActionsConnectors"},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/hook_form_lib");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(1),i=n.n(r),a=n(0);const o=i.a.createContext(void 0),u=({children:e,value:t})=>Object(a.jsx)(o.Provider,{value:t},e);u.displayName="ConnectorProvider"},function(e,t,n){"use strict";function r(e){return e.useWithTripleBracesInTemplates?`{{{${e.name}}}}`:`{{${e.name}}}`}function i(e){return null!==e.match(/{{.*}}/)}n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a.a})),n.d(t,"e",(function(){return o.f})),n.d(t,"c",(function(){return u}));var a=n(72),o=n(26);const u=e=>Boolean(e.isSnoozedUntil&&new Date(e.isSnoozedUntil).getTime()>Date.now()||e.muteAll)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/alerting/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));const r=({last_execution_date:e,last_duration:t,...n})=>({lastExecutionDate:e,lastDuration:t,...n}),i=({outcome_msg:e,outcome_order:t,alerts_count:n,...r})=>({outcomeMsg:e,outcomeOrder:t,alertsCount:n,...r}),a=({rule_type_id:e,created_by:t,updated_by:n,created_at:a,updated_at:o,api_key_owner:u,notify_when:s,mute_all:c,muted_alert_ids:l,scheduled_task_id:d,execution_status:f,actions:p,snooze_schedule:g,is_snoozed_until:b,active_snoozes:h,last_run:m,next_run:y,...v})=>({ruleTypeId:e,createdBy:t,updatedBy:n,createdAt:a,updatedAt:o,apiKeyOwner:u,notifyWhen:s,muteAll:c,mutedInstanceIds:l,snoozeSchedule:g,executionStatus:f?r(f):void 0,actions:p?p.map((e=>(({group:e,id:t,connector_type_id:n,params:r,frequency:i})=>({group:e,id:t,params:r,actionTypeId:n,...i?{frequency:{summary:i.summary,notifyWhen:i.notify_when,throttle:i.throttle}}:{}}))(e))):[],scheduledTaskId:d,isSnoozedUntil:b,activeSnoozes:h,...m?{lastRun:i(m)}:{},...y?{nextRun:y}:{},...v}),o=({alias_target_id:e,alias_purpose:t,outcome:n,...r})=>({...a(r),alias_target_id:e,alias_purpose:t,outcome:n})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=({message:e,outcomeFilter:t,runId:n})=>{const r=[];if(e){const t=e.replace(/([\)\(\<\>\}\{\"\:\\])/gm,"\\$&");r.push(`(message: "${t}" OR error.message: "${t}")`)}if(t&&t.length){const e=function(e){const t={failure:"event.outcome: failure",warning:"kibana.alerting.outcome: warning",success:"kibana.alerting.outcome:success OR (event.outcome: success AND NOT kibana.alerting.outcome:*)",unknown:"event.outcome: unknown"};return`${e.map((e=>t[e])).join(" OR ")}`}(t);e&&r.push(`(${e})`)}return n&&r.push(`kibana.alert.rule.execution.uuid: ${n}`),r}},function(e,t,n){e.exports=n(71)(2)},function(e,t,n){"use strict";n.d(t,"m",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"k",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"l",(function(){return f}));var r=n(21);let i,a;n.d(t,"e",(function(){return r.AlertHistoryEsIndexConnectorId})),n.d(t,"d",(function(){return r.AlertHistoryDocumentTemplate})),n.d(t,"c",(function(){return r.AlertHistoryDefaultIndexName})),n.d(t,"a",(function(){return r.ALERT_HISTORY_PREFIX})),function(e){e[e.SAVED=0]="SAVED",e[e.CANCELED=1]="CANCELED"}(i||(i={})),function(e){e.Test="test",e.ActionForm="actionForm"}(a||(a={}));const o=["params"],u=["context"];let s,c,l,d,f;!function(e){e.Configuration="configuration",e.Test="test"}(s||(s={})),function(e){e.P50="P50",e.P95="P95",e.P99="P99"}(c||(c={})),function(e){e.name="kibana.alert.rule.name",e.reason="kibana.alert.reason",e.uuid="kibana.alert.rule.uuid"}(l||(l={})),function(e){e.add="add",e.delete="delete",e.clear="clear",e.selectCurrentPage="selectCurrentPage",e.selectAll="selectAll",e.rowCountUpdate="rowCountUpdate",e.updateRowLoadingState="updateRowLoadingState",e.updateAllLoadingState="updateAllLoadingState"}(d||(d={})),function(e){e[e.YEARLY=0]="YEARLY",e[e.MONTHLY=1]="MONTHLY",e[e.WEEKLY=2]="WEEKLY",e[e.DAILY=3]="DAILY"}(f||(f={}))},function(e,t){e.exports=__kbnSharedDeps__.Lodash},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/actions/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var r=n(1),i=n(5);const a=Object(i.a)(Object(r.lazy)((()=>n.e(11).then(n.bind(null,82))))),o=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(5),n.e(15)]).then(n.bind(null,84))))),u=Object(i.a)(Object(r.lazy)((()=>n.e(10).then(n.bind(null,86))))),s=Object(i.a)(Object(r.lazy)((()=>n.e(19).then(n.bind(null,114)))));Object(i.a)(Object(r.lazy)((()=>n.e(22).then(n.bind(null,99)))))},function(e,t){e.exports=__kbnSharedDeps__.KbnI18nReact},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s}));const r=Object.freeze({rulesListDatagrid:!0,internalAlertsTable:!1,ruleTagFilter:!0,ruleStatusFilter:!0,rulesDetailLogs:!0,ruleUseExecutionStatus:!1}),i=class extends Error{},a=Object.keys(r),o=e=>{const t={};for(const n of e){if(!u(n))throw new i(`[${n}] is not valid.`);t[n]=!0}return{...r,...t}},u=e=>a.includes(e),s=()=>[...a]},function(e,t,n){"use strict";n.d(t,"a",(function(){return r.KibanaContextProvider})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r=n(20);const i=()=>Object(r.useKibana)();var a=n(1);const o=()=>{const{spaces:e}=i().services,[t,n]=Object(a.useState)(void 0),r=null==e?void 0:e.ui.useSpaces();return Object(a.useEffect)((()=>{(async()=>{const e=await(null==r?void 0:r.spacesDataPromise);n(e)})()}),[e,r,n]),t}},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.a})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return l}));var r=n(41),i=n(4);async function a({http:e}){return(await e.get(`${i.a}/connectors`)).map((e=>(({connector_type_id:e,is_preconfigured:t,is_deprecated:n,referenced_by_count:r,is_missing_secrets:i,...a})=>({actionTypeId:e,isPreconfigured:t,isDeprecated:n,referencedByCount:r,isMissingSecrets:i,...a}))(e)))}const o=({actionTypeId:e,...t})=>({...t,connector_type_id:e});async function u({http:e,connector:t}){return(({connector_type_id:e,is_preconfigured:t,is_deprecated:n,is_missing_secrets:r,...i})=>({...i,actionTypeId:e,isPreconfigured:t,isDeprecated:n,isMissingSecrets:r}))(await e.post(`${i.a}/connector`,{body:JSON.stringify(o(t))}))}async function s({ids:e,http:t}){const n=[],r=[];return await Promise.all(e.map((e=>t.delete(`${i.a}/connector/${encodeURIComponent(e)}`)))).then((function(e){n.push(...e)}),(function(e){r.push(...e)})),{successes:n,errors:r}}async function c({id:e,params:t,http:n,signal:r}){return(({connector_id:e,service_message:t,...n})=>({...n,actionId:e,serviceMessage:t}))(await n.post(`${i.a}/connector/${encodeURIComponent(e)}/_execute`,{body:JSON.stringify({params:t}),signal:r}))}async function l({http:e,connector:t,id:n}){return(({connector_type_id:e,is_preconfigured:t,is_deprecated:n,is_missing_secrets:r,...i})=>({...i,actionTypeId:e,isPreconfigured:t,isDeprecated:n,isMissingSecrets:r}))(await e.put(`${i.a}/connector/${encodeURIComponent(n)}`,{body:JSON.stringify({name:t.name,config:t.config,secrets:t.secrets})}))}},function(e,t){e.exports=__kbnSharedDeps__.ReactQuery},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return g})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return m}));var r=n(14),i=n(2),a=n(19);function o(e,t){if(e)return function(e,t){const n=Date.parse(e);if(isNaN(n))throw new Error(s("date",t,e));return n.valueOf()}(e,t)}function u(e,t){try{return Object(r.parseDuration)(e)}catch(n){throw new Error(s("duration",t,e))}}function s(e,t,n){return i.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.formattedFieldErrorMessage",{defaultMessage:'invalid {formatName} format for {fieldName}: "{fieldValue}"',values:{formatName:e,fieldName:t,fieldValue:n}})}const c="compareValue",l=`params.${c}`,d=e=>"count"===e,f=e=>!!e,p=({timeSeries:e,aggType:t,aggField:n,termField:r,termSize:s,condition:l,topHitsSize:p})=>{const g={aggs:{}},b=d(t),h=f(r),m=!!e,y=!!l;let v=null;if(m){const{timeWindowSize:t,timeWindowUnit:n,dateStart:r,dateEnd:s,interval:c}=e;v=function(e){const{dateStart:t,dateEnd:n,interval:r,window:s}=e,c=o(n,"dateEnd")||Date.now(),l=o(t,"dateStart")||c;if(l>c)throw new Error(i.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.dateStartGTdateEndErrorMessage",{defaultMessage:"[dateStart]: is greater than [dateEnd]"}));const d=((f=r)?u(f,"interval"):void 0)||0;var f;const p=u(s,"window");let g=c;const b=[],h=d?1+Math.round((c-l)/d):1;if(h>1e3)throw new Error(function(e,t){return i.i18n.translate("xpack.triggersActionsUI.data.coreQueryParams.maxIntervalsErrorMessage",{defaultMessage:"calculated number of intervals {intervals} is greater than maximum {maxIntervals}",values:{intervals:e,maxIntervals:1e3}})}(h));return Object(a.times)(h,(()=>{b.push({from:new Date(g-p).toISOString(),to:new Date(g).toISOString()}),g-=d})),b.reverse(),{dateStart:b[0].from,dateEnd:b[b.length-1].to,dateRanges:b}}({dateStart:r,dateEnd:s,window:`${t}${n}`,interval:c})}let _=s||100;_=y&&l.resultLimit&&_>l.resultLimit?l.resultLimit+1:_;let j=g;const x=()=>m?"sortValueAgg":"metricAgg";if(h){if(j.aggs={groupAgg:{terms:{field:r,size:_}},...y?{groupAggCount:{stats_bucket:{buckets_path:"groupAgg._count"}}}:{}},b)y&&(j.aggs.groupAgg.aggs={conditionSelector:{bucket_selector:{buckets_path:{[c]:"_count"},script:l.conditionScript}}});else{const e="min"===t?"asc":"desc";j.aggs.groupAgg.terms.order={[x()]:e}}j=j.aggs.groupAgg}return m&&(j.aggs={...j.aggs,dateAgg:{date_range:{field:e.timeField,format:"strict_date_time",ranges:v.dateRanges}}}),h&&p&&(j.aggs={...j.aggs,topHitsAgg:{top_hits:{size:p}}}),b||(j.aggs={...j.aggs,[x()]:{[t]:{field:n}}},h&&y&&(j.aggs.conditionSelector={bucket_selector:{buckets_path:{[c]:x()},script:l.conditionScript}})),e&&v&&(j=j.aggs.dateAgg,b||(j.aggs={metricAgg:{[t]:{field:n}}})),g.aggs},g=({isCountAgg:e,isGroupAgg:t,esResult:n,resultLimit:r})=>{var i,a,o;const u=(null==n?void 0:n.aggregations)||{};var s,c,l,d,f;t||(u.groupAgg={buckets:[{key:"all documents",doc_count:(d=n.hits.total,"number"==typeof d?d:null!==(f=null==d?void 0:d.value)&&void 0!==f?f:0),topHitsAgg:{hits:{hits:null!==(s=n.hits.hits)&&void 0!==s?s:[]}},...e?{}:{metricAgg:{value:null!==(c=null===(l=u.metricAgg)||void 0===l?void 0:l.value)&&void 0!==c?c:0}}}]});const p=(null===(i=u.groupAgg)||void 0===i?void 0:i.buckets)||[],g=null!==(a=null===(o=u.groupAggCount)||void 0===o?void 0:o.count)&&void 0!==a?a:0,b={results:[],truncated:!!r&&g>r};for(const t of p){var h,m,y,v;if(r&&b.results.length===r)break;const n={group:`${null==t?void 0:t.key}`,count:null==t?void 0:t.doc_count,hits:null!==(h=null==t||null===(m=t.topHitsAgg)||void 0===m||null===(y=m.hits)||void 0===y?void 0:y.hits)&&void 0!==h?h:[],...e?{}:{value:null==t||null===(v=t.metricAgg)||void 0===v?void 0:v.value}};b.results.push(n)}return b};var b=n(65);const h=new RegExp(`^([\\d\\.]+)\\s*(${n.n(b).a.units.join("|")})$`),m=e=>{if(e){const t=e.match(h);if(t)return{value:Number(t[1]),unit:t[2]}}throw new Error(i.i18n.translate("xpack.triggersActionsUI.parseInterval.errorMessage",{defaultMessage:"{value} is not an interval string",values:{value:e}}))};n(24);const y="/internal/triggers_actions_ui"},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(14),i=n(52);const a=e=>{switch(e){case"succeeded":return"success";case"failed":return"danger";case"warning":return"warning";default:return"subdued"}},o=e=>{switch(e){case"active":return"success";case"error":return"danger";case"ok":return"primary";case"pending":return"accent";case"warning":return"warning";default:return"subdued"}},u=e=>Object(i.a)("ruleUseExecutionStatus")?o(e.executionStatus.status):e.lastRun&&a(e.lastRun.outcome)||"subdued",s=e=>{var t,n;return(null===(t=e.lastRun)||void 0===t?void 0:t.warning)===r.RuleExecutionStatusErrorReasons.License||(null===(n=e.executionStatus.error)||void 0===n?void 0:n.reason)===r.RuleExecutionStatusErrorReasons.License},c=({rule:e,licenseErrorText:t,lastOutcomeTranslations:n,executionStatusTranslations:r})=>{const a=s(e),o=Object(i.a)("ruleUseExecutionStatus");return a?t:o?r[e.executionStatus.status]:e.lastRun&&n[e.lastRun.outcome]}},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/helpers");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(4),i=n(51),a=n(58);async function o({http:e}){const t=await e.get(`${r.j}/rules/_aggregate`);return Object(a.b)(t)}async function u({http:e,searchText:t,typesFilter:n,actionTypesFilter:o,ruleExecutionStatusesFilter:u,ruleStatusesFilter:s,tagsFilter:c}){const l=Object(i.a)({typesFilter:n,actionTypesFilter:o,ruleExecutionStatusesFilter:u,ruleStatusesFilter:s,tagsFilter:c}),d=await e.post(`${r.j}/rules/_aggregate`,{body:JSON.stringify({search_fields:t?JSON.stringify(["name","tags"]):void 0,search:t,filter:l.length?l.join(" and "):void 0,default_search_operator:"AND"})});return Object(a.a)(d)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return _})),n.d(t,"q",(function(){return j})),n.d(t,"u",(function(){return x})),n.d(t,"w",(function(){return O})),n.d(t,"x",(function(){return T})),n.d(t,"B",(function(){return A})),n.d(t,"E",(function(){return w})),n.d(t,"H",(function(){return S})),n.d(t,"K",(function(){return g})),n.d(t,"L",(function(){return b})),n.d(t,"U",(function(){return h})),n.d(t,"V",(function(){return m})),n.d(t,"X",(function(){return y})),n.d(t,"db",(function(){return o})),n.d(t,"gb",(function(){return u})),n.d(t,"f",(function(){return L})),n.d(t,"i",(function(){return C})),n.d(t,"W",(function(){return P})),n.d(t,"Y",(function(){return N})),n.d(t,"b",(function(){return q})),n.d(t,"j",(function(){return H})),n.d(t,"m",(function(){return J})),n.d(t,"n",(function(){return K})),n.d(t,"o",(function(){return Y})),n.d(t,"p",(function(){return Q})),n.d(t,"r",(function(){return X})),n.d(t,"s",(function(){return Z})),n.d(t,"t",(function(){return ee})),n.d(t,"v",(function(){return te})),n.d(t,"y",(function(){return ne})),n.d(t,"z",(function(){return re})),n.d(t,"A",(function(){return ie})),n.d(t,"C",(function(){return ae})),n.d(t,"D",(function(){return oe})),n.d(t,"F",(function(){return ue})),n.d(t,"G",(function(){return se})),n.d(t,"I",(function(){return ce})),n.d(t,"J",(function(){return M})),n.d(t,"T",(function(){return F})),n.d(t,"ab",(function(){return E})),n.d(t,"bb",(function(){return I})),n.d(t,"cb",(function(){return R})),n.d(t,"Q",(function(){return D})),n.d(t,"S",(function(){return z})),n.d(t,"R",(function(){return W})),n.d(t,"P",(function(){return B})),n.d(t,"O",(function(){return G})),n.d(t,"eb",(function(){return k})),n.d(t,"fb",(function(){return U})),n.d(t,"Z",(function(){return le})),n.d(t,"M",(function(){return de})),n.d(t,"N",(function(){return fe})),n.d(t,"ib",(function(){return pe})),n.d(t,"jb",(function(){return ge})),n.d(t,"hb",(function(){return be}));const r="kibana",i=`${r}.alert`,a=`${i}.rule`,o=`${r}.space_ids`,u=`${r}.version`,s=`${i}.action_group`,c=`${i}.duration.us`,l=`${i}.end`,d=`${i}.flapping`,f=`${i}.last_detected`,p=`${i}.reason`,g=`${i}.start`,b=`${i}.status`,h=`${i}.time_range`,m=`${i}.uuid`,y=`${i}.workflow_status`,v=`${a}.category`,_=`${a}.consumer`,j=`${a}.execution.uuid`,x=`${a}.name`,O=`${a}.parameters`,T=`${a}.producer`,A=`${a}.tags`,w=`${a}.rule_type_id`,S=`${a}.uuid`,E="ecs.version",I="event.action",R="event.kind",k="tags",U="@timestamp",L=`${i}.instance.id`,C=`${i}.risk_score`,M=`${i}.severity`,F=`${i}.system_status`,P=`${i}.workflow_reason`,N=`${i}.workflow_user`,$=`${i}.suppression`,V=`${$}.terms`,D=`${V}.field`,z=`${V}.value`,W=`${$}.start`,B=`${$}.end`,G=`${$}.docs_count`,q=`${i}.case_ids`,H=`${a}.author`,J=`${a}.created_at`,K=`${a}.created_by`,Y=`${a}.description`,Q=`${a}.enabled`,X=`${a}.from`,Z=`${a}.interval`,ee=`${a}.license`,te=`${a}.note`,ne=`${a}.references`,re=`${a}.rule_id`,ie=`${a}.rule_name_override`,ae=`${a}.to`,oe=`${a}.type`,ue=`${a}.updated_at`,se=`${a}.updated_by`,ce=`${a}.version`,le={APM:"apm",LOGS:"logs",INFRASTRUCTURE:"infrastructure",OBSERVABILITY:"observability",SIEM:"siem",UPTIME:"uptime"},de=(Object.values(le).map((e=>e)),"active"),fe="recovered",pe="/rule/:ruleId",ge="/app/management/insightsAndAlerting/triggersActions",be=e=>pe.replace(":ruleId",e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(4);async function i({id:e,http:t}){await t.post(`${r.b}/rule/${encodeURIComponent(e)}/_mute_all`)}async function a({ids:e,http:t}){await Promise.all(e.map((e=>i({http:t,id:e}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(4),i=n(16);const a=({data:e,...t})=>({data:e.map((e=>(e=>{const{duration_ms:t,total_search_duration_ms:n,es_search_duration_ms:r,schedule_delay_ms:i,...a}=e;return{execution_duration:e.duration_ms,total_search_duration:e.total_search_duration_ms,es_search_duration:e.es_search_duration_ms,schedule_delay:e.schedule_delay_ms,...a}})(e))),...t}),o=async({id:e,http:t,dateStart:n,dateEnd:o,outcomeFilter:u,message:s,perPage:c=10,page:l=0,sort:d=[]})=>{const f=d,p=Object(i.a)({outcomeFilter:u,message:s}),g=await t.get(`${r.j}/rule/${e}/_execution_log`,{query:{date_start:n,date_end:o,filter:p.length?p.join(" and "):void 0,per_page:c,page:l+1,sort:f.length?JSON.stringify(f):void 0}});return a(g)},u=async({http:e,dateStart:t,dateEnd:n,outcomeFilter:o,message:u,perPage:s=10,page:c=0,sort:l=[],namespaces:d})=>{const f=l,p=Object(i.a)({outcomeFilter:o,message:u}),g=await e.get(`${r.j}/_global_execution_logs`,{query:{date_start:t,date_end:n,filter:p.length?p.join(" and "):void 0,per_page:s,page:c+1,sort:f.length?JSON.stringify(f):void 0,namespaces:d?JSON.stringify(d):void 0}});return a(g)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(4);async function i({id:e,http:t}){await t.post(`${r.b}/rule/${encodeURIComponent(e)}/_unmute_all`)}async function a({ids:e,http:t}){await Promise.all(e.map((e=>i({id:e,http:t}))))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(4);function i({id:e,duration:t,rRule:n}){return{...e?{id:e}:{},duration:t,rRule:{...n,...n.until?{until:n.until.toISOString()}:{}}}}async function a({id:e,snoozeSchedule:t,http:n}){await n.post(`${r.j}/rule/${encodeURIComponent(e)}/_snooze`,{body:JSON.stringify({snooze_schedule:i(t)})})}function o({ids:e,filter:t,snoozeSchedule:n,http:a}){let o;try{o=JSON.stringify({ids:null!=e&&e.length?e:void 0,...t?{filter:JSON.stringify(t)}:{},operations:[{operation:"set",field:"snoozeSchedule",value:i(n)}]})}catch(e){throw new Error(`Unable to parse bulk snooze params: ${e}`)}return a.post(`${r.j}/rules/_bulk_edit`,{body:o})}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(4);async function i({id:e,http:t,scheduleIds:n}){await t.post(`${r.j}/rule/${encodeURIComponent(e)}/_unsnooze`,{body:JSON.stringify({schedule_ids:n})})}function a({ids:e,filter:t,scheduleIds:n,http:i}){let a;try{a=JSON.stringify({ids:null!=e&&e.length?e:void 0,...t?{filter:JSON.stringify(t)}:{},operations:[{operation:"delete",field:"snoozeSchedule",value:n}]})}catch(e){throw new Error(`Unable to parse bulk unsnooze params: ${e}`)}return i.post(`${r.j}/rules/_bulk_edit`,{body:a})}},function(e,t){e.exports=__kbnSharedDeps__.ElasticNumeral},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(1),i=n(5);const a=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(0),n.e(2),n.e(12)]).then(n.bind(null,85))))),o=Object(i.a)(Object(r.lazy)((()=>Promise.all([n.e(0),n.e(2),n.e(13)]).then(n.bind(null,83)))))},function(e,t,n){switch(window.__kbnThemeTag__){case"v8dark":return n(89);case"v8light":return n(91)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);async function i({http:e,featureId:t}){return(t?await e.get(`${r.a}/connector_types`,{query:{feature_id:t}}):await e.get(`${r.a}/connector_types`)).map((e=>(({enabled_in_config:e,enabled_in_license:t,minimum_license_required:n,supported_feature_ids:r,...i})=>({enabledInConfig:e,enabledInLicense:t,minimumLicenseRequired:n,supportedFeatureIds:r,...i}))(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(2),i=n(4);function a(e=i.o.SECOND,t="0"){switch(e){case i.o.SECOND:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.secondLabel",{defaultMessage:"{timeValue, plural, one {second} other {seconds}}",values:{timeValue:t}});case i.o.MINUTE:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.minuteLabel",{defaultMessage:"{timeValue, plural, one {minute} other {minutes}}",values:{timeValue:t}});case i.o.HOUR:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.hourLabel",{defaultMessage:"{timeValue, plural, one {hour} other {hours}}",values:{timeValue:t}});case i.o.DAY:return r.i18n.translate("xpack.triggersActionsUI.timeUnits.dayLabel",{defaultMessage:"{timeValue, plural, one {day} other {days}}",values:{timeValue:t}})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4),i=n(15);async function a({http:e,ruleId:t}){const n=await e.get(`${r.j}/rule/${encodeURIComponent(t)}`);return Object(i.b)(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);const i=({values_with_timestamp:e,...t})=>({valuesWithTimestamp:e,...t});async function a({http:e,ruleId:t,numberOfExecutions:n}){return(({rule_type_id:e,mute_all:t,status_start_date:n,status_end_date:r,error_messages:a,last_run:o,execution_duration:u,...s})=>({...s,ruleTypeId:e,muteAll:t,statusStartDate:n,statusEndDate:r,errorMessages:a,lastRun:o,executionDuration:u?i(u):void 0}))(await e.get(`${r.j}/rule/${encodeURIComponent(t)}/_alert_summary`,{query:{number_of_executions:n}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);async function i({http:e}){return(await e.get(`${r.b}/rule_types`)).map((e=>(({enabled_in_license:e,recovery_action_group:t,action_groups:n,default_action_group_id:r,minimum_license_required:i,action_variables:a,authorized_consumers:o,rule_task_timeout:u,does_set_recovery_context:s,default_schedule_interval:c,has_get_summarized_alerts:l,...d})=>({enabledInLicense:e,recoveryActionGroup:t,actionGroups:n,defaultActionGroupId:r,minimumLicenseRequired:i,actionVariables:a,authorizedConsumers:o,ruleTaskTimeout:u,doesSetRecoveryContext:s,defaultScheduleInterval:c,hasGetSummarizedAlerts:l,...d}))(e)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(51),a=n(76);async function o({http:e,page:t,searchText:n,typesFilter:o,actionTypesFilter:u,ruleExecutionStatusesFilter:s,ruleStatusesFilter:c,tagsFilter:l,sort:d={field:"name",direction:"asc"}}){const f=Object(i.a)({typesFilter:o,actionTypesFilter:u,tagsFilter:l,ruleExecutionStatusesFilter:s,ruleStatusesFilter:c}),p=await e.get(`${r.j}/rules/_find`,{query:{page:t.index+1,per_page:t.size,search_fields:n?JSON.stringify(["name","tags"]):void 0,search:n,filter:f.length?f.join(" and "):void 0,default_search_operator:"AND",sort_field:d.field,sort_order:d.direction}});return{page:p.page,perPage:p.per_page,total:p.total,data:Object(a.a)(p.data)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),i=n(16);const a={timestamp:"@timestamp"},o=({id:e,http:t,dateStart:n,dateEnd:o,runId:u,message:s,perPage:c=10,page:l=0,sort:d,namespace:f,withAuth:p=!1})=>{const g=(e=>e?e.map((e=>{const t=Object.keys(e)[0],n=e[Object.keys(e)[0]];return{[a[t]||t]:{...n}}})):[])(d),b=Object(i.a)({runId:u,message:s});return t.get(`${r.j}/rule/${e}/_action_error_log`,{query:{date_start:n,date_end:o,filter:b.length?b.join(" and "):void 0,per_page:c,page:l+1,sort:g.length?JSON.stringify(g):void 0,namespace:f,with_auth:p}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4);const i=async({filter:e,ids:t,http:n})=>{try{const i=JSON.stringify({...null!=t&&t.length?{ids:t}:{},...e?{filter:JSON.stringify(e)}:{}});return n.patch(`${r.j}/rules/_bulk_delete`,{body:i})}catch(e){throw new Error(`Unable to parse bulk delete params: ${e}`)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));const r="/internal/triggers_actions_ui/data",i=e=>{let t=e;return t.startsWith("*")||(t=`*${t}`),t.endsWith("*")||(t=`${t}*`),t};async function a({pattern:e,http:t}){try{const n=i(e),{indices:a}=await t.post(`${r}/_indices`,{body:JSON.stringify({pattern:n})});return a}catch(e){return[]}}async function o({indexes:e,http:t}){const{fields:n}=await t.post(`${r}/_fields`,{body:JSON.stringify({indexPatterns:e})});return n}let u;const s=e=>{u=e},c=async e=>{const t=i(e);try{return(await u.find(t,1e3)).map((e=>e.title))}catch(e){return[]}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return ExperimentalFeaturesService}));var r=n(17),i=n.n(r);class ExperimentalFeaturesService{static init({experimentalFeatures:e}){this.experimentalFeatures=e}static get(){return this.experimentalFeatures||this.throwUninitializedError(),this.experimentalFeatures}static throwUninitializedError(){throw new Error("Experimental features services not initialized - are you trying to import this module from outside of the triggers actions UI app?")}}i()(ExperimentalFeaturesService,"experimentalFeatures",void 0)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=({typesFilter:e,actionTypesFilter:t,ruleExecutionStatusesFilter:n,ruleStatusesFilter:r,tagsFilter:i})=>{const a=[];if(e&&e.length&&a.push(`alert.attributes.alertTypeId:(${e.join(" or ")})`),t&&t.length&&a.push(["(",t.map((e=>`alert.attributes.actions:{ actionTypeId:${e} }`)).join(" OR "),")"].join("")),n&&n.length&&a.push(`alert.attributes.executionStatus.status:(${n.join(" or ")})`),r&&r.length){const e="(alert.attributes.muteAll:true OR alert.attributes.snoozeSchedule: { duration > 0 })",t="alert.attributes.enabled: true",n="alert.attributes.enabled: false",i=[];r.includes("enabled")&&i.push(t),r.includes("disabled")&&i.push(n),r.includes("snoozed")&&i.push(`${e}`),a.push(i.join(" and "))}return i&&i.length&&a.push(`alert.attributes.tags:(${i.join(" or ")})`),a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),i=n(50);const a=Object(r.a)(),o=e=>{if(!Object(r.b)(e))throw new Error(`Invalid enable value ${e}. Allowed values are: ${a.join(", ")}`);return i.a.get()[e]}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(42),i=n(4);const a=e=>Object.entries(i.o).map((([t,n])=>({text:Object(r.a)(n,e.toString()),value:n}))),o=e=>{const t=[];return e.forEach((e=>{"date"!==e.type&&"date_nanos"!==e.type||t.push({text:e.name,value:e.name})})),t}},function(e,t,n){"use strict";var r=n(53);n.d(t,"c",(function(){return r.a}));var i=n(29);n.d(t,"b",(function(){return i.c})),n.d(t,"a",(function(){return i.a}));var a=n(25);n.d(t,"d",(function(){return a.b}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apS=t.apSW=t.bind=t.bindW=t.bindTo=t.exists=t.elem=t.toError=t.either=t.getValidationMonoid=t.MonadThrow=t.ChainRec=t.Extend=t.Alt=t.Bifunctor=t.Traversable=t.Foldable=t.Monad=t.Applicative=t.Functor=t.getValidationSemigroup=t.getValidation=t.getAltValidation=t.getApplicativeValidation=t.getWitherable=t.getFilterable=t.getApplyMonoid=t.getApplySemigroup=t.getSemigroup=t.getEq=t.getShow=t.URI=t.throwError=t.sequence=t.traverse=t.reduceRight=t.foldMap=t.reduce=t.duplicate=t.extend=t.alt=t.flatten=t.chainFirst=t.chainFirstW=t.chain=t.chainW=t.of=t.apSecond=t.apFirst=t.ap=t.apW=t.mapLeft=t.bimap=t.map=t.filterOrElse=t.orElse=t.swap=t.getOrElse=t.getOrElseW=t.fold=t.fromPredicate=t.fromOption=t.stringifyJSON=t.parseJSON=t.tryCatch=t.fromNullable=t.right=t.left=t.isRight=t.isLeft=void 0;var r=n(93),i=n(67);function a(e,n){try{return t.right(e())}catch(e){return t.left(n(e))}}t.isLeft=function(e){return"Left"===e._tag},t.isRight=function(e){return"Right"===e._tag},t.left=function(e){return{_tag:"Left",left:e}},t.right=function(e){return{_tag:"Right",right:e}},t.fromNullable=function(e){return function(n){return null==n?t.left(e):t.right(n)}},t.tryCatch=a,t.parseJSON=function(e,t){return a((function(){return JSON.parse(e)}),t)},t.stringifyJSON=function(e,t){return a((function(){return JSON.stringify(e)}),t)},t.fromOption=function(e){return function(n){return"None"===n._tag?t.left(e()):t.right(n.value)}},t.fromPredicate=function(e,n){return function(r){return e(r)?t.right(r):t.left(n(r))}},t.fold=function(e,n){return function(r){return t.isLeft(r)?e(r.left):n(r.right)}},t.getOrElseW=function(e){return function(n){return t.isLeft(n)?e(n.left):n.right}},t.getOrElse=t.getOrElseW,t.swap=function(e){return t.isLeft(e)?t.right(e.left):t.left(e.right)},t.orElse=function(e){return function(n){return t.isLeft(n)?e(n.left):n}},t.filterOrElse=function(e,n){return t.chain((function(r){return e(r)?t.right(r):t.left(n(r))}))};var o=function(e,n){return i.pipe(e,t.map(n))},u=function(e,n){return i.pipe(e,t.ap(n))},s=function(e,n){return i.pipe(e,t.chain(n))},c=function(e,n,r){return i.pipe(e,t.reduce(n,r))},l=function(e){return function(n,r){var a=t.foldMap(e);return i.pipe(n,a(r))}},d=function(e,n,r){return i.pipe(e,t.reduceRight(n,r))},f=function(e){var n=t.traverse(e);return function(e,t){return i.pipe(e,n(t))}},p=function(e,n,r){return i.pipe(e,t.bimap(n,r))},g=function(e,n){return i.pipe(e,t.mapLeft(n))},b=function(e,n){return i.pipe(e,t.alt(n))},h=function(e,n){return i.pipe(e,t.extend(n))},m=function(e,n){return r.tailRec(n(e),(function(e){return t.isLeft(e)?t.right(t.left(e.left)):t.isLeft(e.right)?t.left(n(e.right.left)):t.right(t.right(e.right.right))}))};function y(e){return{concat:function(n,r){return t.isLeft(n)?n:t.isLeft(r)?r:t.right(e.concat(n.right,r.right))}}}function v(e){var n=t.left(e.empty);return{URI:t.URI,_E:void 0,map:o,compact:function(e){return t.isLeft(e)?e:"None"===e.right._tag?n:t.right(e.right.value)},separate:function(e){return t.isLeft(e)?{left:e,right:e}:t.isLeft(e.right)?{left:t.right(e.right.left),right:n}:{left:n,right:t.right(e.right.right)}},filter:function(e,r){return t.isLeft(e)||r(e.right)?e:n},filterMap:function(e,r){if(t.isLeft(e))return e;var i=r(e.right);return"None"===i._tag?n:t.right(i.value)},partition:function(e,r){return t.isLeft(e)?{left:e,right:e}:r(e.right)?{left:n,right:t.right(e.right)}:{left:t.right(e.right),right:n}},partitionMap:function(e,r){if(t.isLeft(e))return{left:e,right:e};var i=r(e.right);return t.isLeft(i)?{left:t.right(i.left),right:n}:{left:n,right:t.right(i.right)}}}}function _(e){return{URI:t.URI,_E:void 0,map:o,ap:function(n,r){return t.isLeft(n)?t.isLeft(r)?t.left(e.concat(n.left,r.left)):n:t.isLeft(r)?r:t.right(n.right(r.right))},of:t.of}}function j(e){return{URI:t.URI,_E:void 0,map:o,alt:function(n,r){if(t.isRight(n))return n;var i=r();return t.isLeft(i)?t.left(e.concat(n.left,i.left)):i}}}function x(e,n){return{concat:function(r,i){return t.isLeft(r)?t.isLeft(i)?t.left(e.concat(r.left,i.left)):r:t.isLeft(i)?i:t.right(n.concat(r.right,i.right))}}}t.map=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n.right))}},t.bimap=function(e,n){return function(r){return t.isLeft(r)?t.left(e(r.left)):t.right(n(r.right))}},t.mapLeft=function(e){return function(n){return t.isLeft(n)?t.left(e(n.left)):n}},t.apW=function(e){return function(n){return t.isLeft(n)?n:t.isLeft(e)?e:t.right(n.right(e.right))}},t.ap=t.apW,t.apFirst=function(e){return i.flow(t.map((function(e){return function(){return e}})),t.ap(e))},t.apSecond=function(e){return i.flow(t.map((function(){return function(e){return e}})),t.ap(e))},t.of=t.right,t.chainW=function(e){return function(n){return t.isLeft(n)?n:e(n.right)}},t.chain=t.chainW,t.chainFirstW=function(e){return function(n){return i.pipe(n,t.chainW((function(n){return i.pipe(e(n),t.map((function(){return n})))})))}},t.chainFirst=t.chainFirstW,t.flatten=t.chain(i.identity),t.alt=function(e){return function(n){return t.isLeft(n)?e():n}},t.extend=function(e){return function(n){return t.isLeft(n)?n:t.right(e(n))}},t.duplicate=t.extend(i.identity),t.reduce=function(e,n){return function(r){return t.isLeft(r)?e:n(e,r.right)}},t.foldMap=function(e){return function(n){return function(r){return t.isLeft(r)?e.empty:n(r.right)}}},t.reduceRight=function(e,n){return function(r){return t.isLeft(r)?e:n(r.right,e)}},t.traverse=function(e){return function(n){return function(r){return t.isLeft(r)?e.of(t.left(r.left)):e.map(n(r.right),t.right)}}},t.sequence=function(e){return function(n){return t.isLeft(n)?e.of(t.left(n.left)):e.map(n.right,t.right)}},t.throwError=t.left,t.URI="Either",t.getShow=function(e,n){return{show:function(r){return t.isLeft(r)?"left("+e.show(r.left)+")":"right("+n.show(r.right)+")"}}},t.getEq=function(e,n){return{equals:function(r,i){return r===i||(t.isLeft(r)?t.isLeft(i)&&e.equals(r.left,i.left):t.isRight(i)&&n.equals(r.right,i.right))}}},t.getSemigroup=function(e){return{concat:function(n,r){return t.isLeft(r)?n:t.isLeft(n)?r:t.right(e.concat(n.right,r.right))}}},t.getApplySemigroup=y,t.getApplyMonoid=function(e){return{concat:y(e).concat,empty:t.right(e.empty)}},t.getFilterable=v,t.getWitherable=function(e){var n=v(e);return{URI:t.URI,_E:void 0,map:o,compact:n.compact,separate:n.separate,filter:n.filter,filterMap:n.filterMap,partition:n.partition,partitionMap:n.partitionMap,traverse:f,sequence:t.sequence,reduce:c,foldMap:l,reduceRight:d,wither:function(e){var t=f(e);return function(r,i){return e.map(t(r,i),n.compact)}},wilt:function(e){var t=f(e);return function(r,i){return e.map(t(r,i),n.separate)}}}},t.getApplicativeValidation=_,t.getAltValidation=j,t.getValidation=function(e){var n=_(e),r=j(e);return{URI:t.URI,_E:void 0,map:o,of:t.of,chain:s,bimap:p,mapLeft:g,reduce:c,foldMap:l,reduceRight:d,extend:h,traverse:f,sequence:t.sequence,chainRec:m,throwError:t.throwError,ap:n.ap,alt:r.alt}},t.getValidationSemigroup=x,t.Functor={URI:t.URI,map:o},t.Applicative={URI:t.URI,map:o,ap:u,of:t.of},t.Monad={URI:t.URI,map:o,ap:u,of:t.of,chain:s},t.Foldable={URI:t.URI,reduce:c,foldMap:l,reduceRight:d},t.Traversable={URI:t.URI,map:o,reduce:c,foldMap:l,reduceRight:d,traverse:f,sequence:t.sequence},t.Bifunctor={URI:t.URI,bimap:p,mapLeft:g},t.Alt={URI:t.URI,map:o,alt:b},t.Extend={URI:t.URI,map:o,extend:h},t.ChainRec={URI:t.URI,map:o,ap:u,chain:s,chainRec:m},t.MonadThrow={URI:t.URI,map:o,ap:u,of:t.of,chain:s,throwError:t.throwError},t.getValidationMonoid=function(e,n){return{concat:x(e,n).concat,empty:t.right(n.empty)}},t.either={URI:t.URI,map:o,of:t.of,ap:u,chain:s,reduce:c,foldMap:l,reduceRight:d,traverse:f,sequence:t.sequence,bimap:p,mapLeft:g,alt:b,extend:h,chainRec:m,throwError:t.throwError},t.toError=function(e){return e instanceof Error?e:new Error(String(e))},t.elem=function(e){return function(n,r){return!t.isLeft(r)&&e.equals(n,r.right)}},t.exists=function(e){return function(n){return!t.isLeft(n)&&e(n.right)}},t.bindTo=function(e){return t.map(i.bindTo_(e))},t.bindW=function(e,n){return t.chainW((function(r){return i.pipe(n(r),t.map((function(t){return i.bind_(r,e,t)})))}))},t.bind=t.bindW,t.apSW=function(e,n){return i.flow(t.map((function(t){return function(n){return i.bind_(t,e,n)}})),t.apW(n))},t.apS=t.apSW},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(2);r.i18n.translate("xpack.triggersActionsUI.sections.actionForm.preconfiguredTitleMessage",{defaultMessage:"(preconfigured)"});const i=r.i18n.translate("xpack.triggersActionsUI.sections.deprecatedTitleMessage",{defaultMessage:"(deprecated)"}),a=r.i18n.translate("xpack.triggersActionsUI.sections.isDeprecatedDescription",{defaultMessage:"This connector is deprecated. Update it, or create a new one."})},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaUtils/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));const r=({rule_execution_status:e,rule_last_run_outcome:t,rule_enabled_status:n,rule_muted_status:r,rule_snoozed_status:i,rule_tags:a,...o})=>({...o,ruleExecutionStatus:e,ruleEnabledStatus:n,ruleMutedStatus:r,ruleSnoozedStatus:i,ruleLastRunOutcome:t,ruleTags:a}),i=({rule_tags:e})=>({ruleTags:e})},function(e,t,n){"use strict";var r,i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function o(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],i=0;i<e.length;i++){var u=e[i],s=t.base?u[0]+t.base:u[0],c=n[s]||0,l="".concat(s," ").concat(c);n[s]=c+1;var d=o(l),f={css:u[1],media:u[2],sourceMap:u[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:l,updater:b(f,t),references:1}),r.push(l)}return r}function s(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function d(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var p=null,g=0;function b(e,t){var n,r,i;if(t.singleton){var a=g++;n=p||(p=s(t)),r=d.bind(null,n,a,!1),i=d.bind(null,n,a,!0)}else n=s(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=o(n[r]);a[i].references--}for(var s=u(e,t),c=0;c<n.length;c++){var l=o(n[c]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=s}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n,r,i,a=e[1]||"",o=e[3];if(!o)return a;if(t&&"function"==typeof btoa){var u=(n=o,r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(i," */")),s=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[a].concat(s).concat([u]).join("\n")}return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var u=0;u<e.length;u++){var s=[].concat(e[u]);r&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t){e.exports=__kbnSharedDeps__.Moment},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"t",(function(){return o.b})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"q",(function(){return d.a})),n.d(t,"s",(function(){return f.a})),n.d(t,"v",(function(){return p})),n.d(t,"w",(function(){return g.a})),n.d(t,"x",(function(){return g.b})),n.d(t,"u",(function(){return b.a})),n.d(t,"r",(function(){return _})),n.d(t,"n",(function(){return j.a})),n.d(t,"p",(function(){return j.b})),n.d(t,"m",(function(){return O})),n.d(t,"o",(function(){return T})),n.d(t,"l",(function(){return A.a})),n.d(t,"B",(function(){return w})),n.d(t,"C",(function(){return S.a})),n.d(t,"D",(function(){return S.b})),n.d(t,"G",(function(){return R})),n.d(t,"y",(function(){return k})),n.d(t,"A",(function(){return U.b})),n.d(t,"e",(function(){return U.a})),n.d(t,"E",(function(){return L.b})),n.d(t,"f",(function(){return L.a})),n.d(t,"g",(function(){return C})),n.d(t,"z",(function(){return M})),n.d(t,"b",(function(){return F.a})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return N})),n.d(t,"j",(function(){return x.a})),n.d(t,"k",(function(){return $})),n.d(t,"F",(function(){return V}));var r=n(4);const i=({is_sufficiently_secure:e,has_permanent_encryption_key:t,alerting_framework_health:n,...r})=>({isSufficientlySecure:e,hasPermanentEncryptionKey:t,alertingFrameworkHealth:n,...r});async function a({http:e}){const t=await e.get(`${r.b}/_health`),n=(({decryption_health:e,execution_health:t,read_health:n,...r})=>({decryptionHealth:e,executionHealth:t,readHealth:n,...r}))(t.alerting_framework_health);return{...i(t),alertingFrameworkHealth:n}}var o=n(31),u=n(15);const s=({ruleTypeId:e,actions:t,...n})=>({...n,rule_type_id:e,actions:t.map((({group:e,id:t,params:n,frequency:r})=>({group:e,id:t,params:n,frequency:{notify_when:r.notifyWhen,throttle:r.throttle,summary:r.summary}})))});async function c({http:e,rule:t}){const n=await e.post(`${r.b}/rule`,{body:JSON.stringify(s(t))});return Object(u.b)(n)}async function l({http:e,ruleId:t}){const n=await e.post(`${r.j}/rule/${encodeURIComponent(t)}/_clone`);return Object(u.b)(n)}var d=n(43),f=n(44);async function p({id:e,instanceId:t,http:n}){await n.post(`${r.b}/rule/${encodeURIComponent(e)}/alert/${encodeURIComponent(t)}/_mute`)}var g=n(33),b=n(45),h=(n(46),n(66)),m=n(55),y=n(74),v=n(14);async function _({http:e,ruleId:t}){return await e.get(`${r.j}/rule/${t}/state`).then((e=>e?(({rule_type_state:e,alerts:t,previous_started_at:n,...r})=>({...r,alertTypeState:e,alertInstances:t,previousStartedAt:n}))(e):{})).then((e=>Object(h.pipe)(v.ruleStateSchema.decode(e),Object(m.fold)((e=>{throw new Error(`Rule "${t}" has invalid state`)}),y.identity))))}var j=n(34),x=n(16);const O=({id:e,http:t,outcomeFilter:n,message:i,dateStart:a,dateEnd:o})=>{const u=Object(x.a)({outcomeFilter:n,message:i});return t.get(`${r.j}/rule/${e}/_execution_kpi`,{query:{filter:u.length?u.join(" and "):void 0,date_start:a,date_end:o}})},T=({id:e,http:t,outcomeFilter:n,message:i,dateStart:a,dateEnd:o,namespaces:u})=>{const s=Object(x.a)({outcomeFilter:n,message:i});return t.get(`${r.j}/_global_execution_kpi`,{query:{filter:s.length?s.join(" and "):void 0,date_start:a,date_end:o,namespaces:u?JSON.stringify(u):u}})};var A=n(47);async function w({id:e,instanceId:t,http:n}){await n.post(`${r.b}/rule/${encodeURIComponent(e)}/alert/${encodeURIComponent(t)}/_unmute`)}var S=n(35),E=n(19);const I=({actions:e,...t})=>({...t,actions:e.map((({group:e,id:t,params:n,frequency:r})=>({group:e,id:t,params:n,frequency:{notify_when:r.notifyWhen,throttle:r.throttle,summary:r.summary}})))});async function R({http:e,rule:t,id:n}){const i=await e.put(`${r.b}/rule/${encodeURIComponent(n)}`,{body:JSON.stringify(I(Object(E.pick)(t,["name","tags","schedule","params","actions"])))});return Object(u.b)(i)}async function k({http:e,ruleId:t}){const n=await e.get(`${r.j}/rule/${encodeURIComponent(t)}/_resolve`);return Object(u.a)(n)}var U=n(36),L=n(37);function C({ids:e,filter:t,http:n}){let i;try{i=JSON.stringify({ids:null!=e&&e.length?e:void 0,...t?{filter:JSON.stringify(t)}:{},operations:[{operation:"set",field:"apiKey"}]})}catch(e){throw new Error(`Unable to parse bulk update API key params: ${e}`)}return n.post(`${r.j}/rules/_bulk_edit`,{body:i})}async function M({id:e,http:t}){return t.post(`${r.j}/rule/${encodeURIComponent(e)}/_run_soon`)}var F=n(48);const P=async({filter:e,ids:t,http:n})=>{try{const i=JSON.stringify({ids:null!=t&&t.length?t:void 0,...e?{filter:JSON.stringify(e)}:{}});return n.patch(`${r.j}/rules/_bulk_enable`,{body:i})}catch(e){throw new Error(`Unable to parse bulk enable params: ${e}`)}},N=async({filter:e,ids:t,http:n})=>{try{const i=JSON.stringify({ids:null!=t&&t.length?t:void 0,...e?{filter:JSON.stringify(e)}:{}});return n.patch(`${r.j}/rules/_bulk_disable`,{body:i})}catch(e){throw new Error(`Unable to parse bulk disable params: ${e}`)}},$=async({http:e})=>(({look_back_window:e,status_change_threshold:t,...n})=>({...n,lookBackWindow:e,statusChangeThreshold:t}))(await e.get(`${r.j}/rules/settings/_flapping`)),V=async({http:e,flappingSettings:t})=>{let n;try{n=JSON.stringify({enabled:t.enabled,look_back_window:t.lookBackWindow,status_change_threshold:t.statusChangeThreshold})}catch(e){throw new Error(`Unable to parse flapping settings update params: ${e}`)}return(({look_back_window:e,status_change_threshold:t,...n})=>({...n,lookBackWindow:e,statusChangeThreshold:t}))(await e.post(`${r.j}/rules/settings/_flapping`,{body:n}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n(1);var r=n(3),i=n(0);const a=({size:e})=>Object(i.jsx)(r.EuiFlexGroup,{"data-test-subj":"centerJustifiedSpinner",justifyContent:"center"},Object(i.jsx)(r.EuiFlexItem,{grow:!1},Object(i.jsx)(r.EuiLoadingSpinner,{size:e||"xl"})))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n(1);var r=n(3),i=n(0);const a=({children:e})=>Object(i.jsx)(r.EuiEmptyPrompt,{title:Object(i.jsx)(r.EuiLoadingSpinner,{size:"xl"}),body:Object(i.jsx)(r.EuiText,{color:"subdued"},e),"data-test-subj":"sectionLoading"})},function(e,t){e.exports=__kbnSharedDeps__.KbnDatemath},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeable=t.pipe=void 0;var r=n(67);t.pipe=r.pipe,t.pipeable=function(e){var t={};return function(e){return"function"==typeof e.map}(e)&&(t.map=function(t){return function(n){return e.map(n,t)}}),function(e){return"function"==typeof e.contramap}(e)&&(t.contramap=function(t){return function(n){return e.contramap(n,t)}}),function(e){return"function"==typeof e.mapWithIndex}(e)&&(t.mapWithIndex=function(t){return function(n){return e.mapWithIndex(n,t)}}),function(e){return"function"==typeof e.ap}(e)&&(t.ap=function(t){return function(n){return e.ap(n,t)}},t.apFirst=function(t){return function(n){return e.ap(e.map(n,(function(e){return function(){return e}})),t)}},t.apSecond=function(t){return function(n){return e.ap(e.map(n,(function(){return function(e){return e}})),t)}}),function(e){return"function"==typeof e.chain}(e)&&(t.chain=function(t){return function(n){return e.chain(n,t)}},t.chainFirst=function(t){return function(n){return e.chain(n,(function(n){return e.map(t(n),(function(){return n}))}))}},t.flatten=function(t){return e.chain(t,r.identity)}),function(e){return"function"==typeof e.bimap}(e)&&(t.bimap=function(t,n){return function(r){return e.bimap(r,t,n)}},t.mapLeft=function(t){return function(n){return e.mapLeft(n,t)}}),function(e){return"function"==typeof e.extend}(e)&&(t.extend=function(t){return function(n){return e.extend(n,t)}},t.duplicate=function(t){return e.extend(t,r.identity)}),function(e){return"function"==typeof e.reduce}(e)&&(t.reduce=function(t,n){return function(r){return e.reduce(r,t,n)}},t.foldMap=function(t){var n=e.foldMap(t);return function(e){return function(t){return n(t,e)}}},t.reduceRight=function(t,n){return function(r){return e.reduceRight(r,t,n)}}),function(e){return"function"==typeof e.reduceWithIndex}(e)&&(t.reduceWithIndex=function(t,n){return function(r){return e.reduceWithIndex(r,t,n)}},t.foldMapWithIndex=function(t){var n=e.foldMapWithIndex(t);return function(e){return function(t){return n(t,e)}}},t.reduceRightWithIndex=function(t,n){return function(r){return e.reduceRightWithIndex(r,t,n)}}),function(e){return"function"==typeof e.alt}(e)&&(t.alt=function(t){return function(n){return e.alt(n,t)}}),function(e){return"function"==typeof e.compact}(e)&&(t.compact=e.compact,t.separate=e.separate),function(e){return"function"==typeof e.filter}(e)&&(t.filter=function(t){return function(n){return e.filter(n,t)}},t.filterMap=function(t){return function(n){return e.filterMap(n,t)}},t.partition=function(t){return function(n){return e.partition(n,t)}},t.partitionMap=function(t){return function(n){return e.partitionMap(n,t)}}),function(e){return"function"==typeof e.filterWithIndex}(e)&&(t.filterWithIndex=function(t){return function(n){return e.filterWithIndex(n,t)}},t.filterMapWithIndex=function(t){return function(n){return e.filterMapWithIndex(n,t)}},t.partitionWithIndex=function(t){return function(n){return e.partitionWithIndex(n,t)}},t.partitionMapWithIndex=function(t){return function(n){return e.partitionMapWithIndex(n,t)}}),function(e){return"function"==typeof e.promap}(e)&&(t.promap=function(t,n){return function(r){return e.promap(r,t,n)}}),function(e){return"function"==typeof e.compose}(e)&&(t.compose=function(t){return function(n){return e.compose(n,t)}}),function(e){return"function"==typeof e.throwError}(e)&&(t.fromOption=function(t){return function(n){return"None"===n._tag?e.throwError(t()):e.of(n.value)}},t.fromEither=function(t){return"Left"===t._tag?e.throwError(t.left):e.of(t.right)},t.fromPredicate=function(t,n){return function(r){return t(r)?e.of(r):e.throwError(n(r))}},t.filterOrElse=function(t,n){return function(r){return e.chain(r,(function(r){return t(r)?e.of(r):e.throwError(n(r))}))}}),t}},function(e,t,n){"use strict";function r(e){return e}function i(e){throw new Error("Called `absurd` function which should be uncallable")}Object.defineProperty(t,"__esModule",{value:!0}),t.bindTo_=t.bind_=t.hole=t.pipe=t.untupled=t.tupled=t.absurd=t.decrement=t.increment=t.tuple=t.flow=t.flip=t.constVoid=t.constUndefined=t.constNull=t.constFalse=t.constTrue=t.constant=t.not=t.unsafeCoerce=t.identity=void 0,t.identity=r,t.unsafeCoerce=r,t.not=function(e){return function(t){return!e(t)}},t.constant=function(e){return function(){return e}},t.constTrue=function(){return!0},t.constFalse=function(){return!1},t.constNull=function(){return null},t.constUndefined=function(){},t.constVoid=function(){},t.flip=function(e){return function(t,n){return e(n,t)}},t.flow=function(e,t,n,r,i,a,o,u,s){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return n(t(e.apply(this,arguments)))};case 4:return function(){return r(n(t(e.apply(this,arguments))))};case 5:return function(){return i(r(n(t(e.apply(this,arguments)))))};case 6:return function(){return a(i(r(n(t(e.apply(this,arguments))))))};case 7:return function(){return o(a(i(r(n(t(e.apply(this,arguments)))))))};case 8:return function(){return u(o(a(i(r(n(t(e.apply(this,arguments))))))))};case 9:return function(){return s(u(o(a(i(r(n(t(e.apply(this,arguments)))))))))}}},t.tuple=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},t.increment=function(e){return e+1},t.decrement=function(e){return e-1},t.absurd=i,t.tupled=function(e){return function(t){return e.apply(void 0,t)}},t.untupled=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e(t)}},t.pipe=function(e,t,n,r,i,a,o,u,s,c,l,d,f,p,g,b,h,m,y,v){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return n(t(e));case 4:return r(n(t(e)));case 5:return i(r(n(t(e))));case 6:return a(i(r(n(t(e)))));case 7:return o(a(i(r(n(t(e))))));case 8:return u(o(a(i(r(n(t(e)))))));case 9:return s(u(o(a(i(r(n(t(e))))))));case 10:return c(s(u(o(a(i(r(n(t(e)))))))));case 11:return l(c(s(u(o(a(i(r(n(t(e))))))))));case 12:return d(l(c(s(u(o(a(i(r(n(t(e)))))))))));case 13:return f(d(l(c(s(u(o(a(i(r(n(t(e))))))))))));case 14:return p(f(d(l(c(s(u(o(a(i(r(n(t(e)))))))))))));case 15:return g(p(f(d(l(c(s(u(o(a(i(r(n(t(e))))))))))))));case 16:return b(g(p(f(d(l(c(s(u(o(a(i(r(n(t(e)))))))))))))));case 17:return h(b(g(p(f(d(l(c(s(u(o(a(i(r(n(t(e))))))))))))))));case 18:return m(h(b(g(p(f(d(l(c(s(u(o(a(i(r(n(t(e)))))))))))))))));case 19:return y(m(h(b(g(p(f(d(l(c(s(u(o(a(i(r(n(t(e))))))))))))))))));case 20:return v(y(m(h(b(g(p(f(d(l(c(s(u(o(a(i(r(n(t(e)))))))))))))))))))}},t.hole=i,t.bind_=function(e,t,n){var r;return Object.assign({},e,((r={})[t]=n,r))},t.bindTo_=function(e){return function(t){var n;return(n={})[e]=t,n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(1),i=n(11),a=n(0);const o=e=>Object(a.jsx)(i.UseField,e,(e=>null)),u=Object(r.memo)(o)},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/static/forms/components");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;0!=i--;){var o=a[i];if(!e(t[o],n[o]))return!1}return!0}return t!=t&&n!=n}},function(e,t){e.exports=__kbnSharedDeps_npm__},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return u}));var r=n(2),i=n(19),a=n(18);function o(e,t,n){if(n)return function(){const e=[];return e.push(l[u.kibanaBaseUrl]),e.push(l[u.date]),e.push({name:c.ruleParams,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleParamsLabel",{defaultMessage:"The params of the rule."})}),e.push(l[u.ruleId]),e.push(l[u.ruleName]),e.push(l[u.ruleType]),e.push(l[u.ruleUrl]),e.push(l[u.ruleTags]),e.push(l[u.ruleSpaceId]),e.push({name:c.newAlertsCount,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.newAlertsCountLabel",{defaultMessage:"The count of new alerts."})}),e.push({name:c.newAlertsData,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.newAlertsDataLabel",{defaultMessage:"An array of objects for new alerts."})}),e.push({name:c.ongoingAlertsCount,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ongoingAlertsCountLabel",{defaultMessage:"The count of ongoing alerts."})}),e.push({name:c.ongoingAlertsData,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ongoingAlertsDataLabel",{defaultMessage:"An array of objects for ongoing alerts."})}),e.push({name:c.recoveredAlertsCount,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.recoveredAlertsCountLabel",{defaultMessage:"The count of recovered alerts."})}),e.push({name:c.recoveredAlertsData,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.recoveredAlertsDataLabel",{defaultMessage:"An array of objects for recovered alerts."})}),e.push({name:c.allAlertsCount,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.allAlertsCountLabel",{defaultMessage:"The count of all alerts."})}),e.push({name:c.allAlertsData,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.allAlertsDataLabel",{defaultMessage:"An array of objects for all alerts."})}),e}();const o=t?"all"===t?Object(i.pick)(e,a.k):Object(i.pick)(e,[...a.k,...a.h]):e,f=function(){const e=[];return e.push(l[u.ruleId]),e.push(l[u.ruleName]),e.push(l[u.ruleSpaceId]),e.push(l[u.ruleTags]),e.push(l[u.ruleType]),e.push(l[u.ruleUrl]),e.push(l[u.date]),e.push({name:u.alertId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertIdLabel",{defaultMessage:"The ID of the alert that scheduled actions for the rule."})}),e.push({name:u.alertActionGroup,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupLabel",{defaultMessage:"The action group of the alert that scheduled actions for the rule."})}),e.push({name:u.alertActionSubgroup,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionSubgroupLabel",{defaultMessage:"The action subgroup of the alert that scheduled actions for the rule."})}),e.push({name:u.alertActionGroupName,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertActionGroupNameLabel",{defaultMessage:"The human readable name of the action group of the alert that scheduled actions for the rule."})}),e.push({name:u.alertFlapping,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.alertFlappingLabel",{defaultMessage:"A flag on the alert that indicates whether the alert status is changing repeatedly."})}),e.push(l[u.kibanaBaseUrl]),e.push({name:s.alertId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.ruleId}})}),e.push({name:s.alertName,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.ruleName}})}),e.push({name:s.alertInstanceId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertInstanceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.alertId}})}),e.push({name:s.alertActionGroup,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.alertActionGroup}})}),e.push({name:s.alertActionGroupName,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionGroupNameLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.alertActionGroupName}})}),e.push({name:s.alertActionSubgroup,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyAlertActionSubGroupLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.alertActionSubgroup}})}),e.push({name:s.spaceId,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacySpaceIdLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.ruleSpaceId}})}),e.push({name:s.tags,deprecated:!0,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.legacyTagsLabel",{defaultMessage:"This has been deprecated in favor of {variable}.",values:{variable:u.ruleTags}})}),e}(),p=d(o.params,"params."),g=o.context?d(o.context,"context."):[],b=o.state?d(o.state,"state."):[];return f.concat(g,p,b)}let u,s,c;!function(e){e.ruleId="rule.id",e.ruleName="rule.name",e.ruleSpaceId="rule.spaceId",e.ruleTags="rule.tags",e.ruleType="rule.type",e.ruleUrl="rule.url",e.date="date",e.alertId="alert.id",e.alertActionGroup="alert.actionGroup",e.alertActionGroupName="alert.actionGroupName",e.alertActionSubgroup="alert.actionSubgroup",e.alertFlapping="alert.flapping",e.kibanaBaseUrl="kibanaBaseUrl"}(u||(u={})),function(e){e.alertId="alertId",e.alertName="alertName",e.alertInstanceId="alertInstanceId",e.alertActionGroup="alertActionGroup",e.alertActionGroupName="alertActionGroupName",e.alertActionSubgroup="alertActionSubgroup",e.tags="tags",e.spaceId="spaceId"}(s||(s={})),function(e){e.ruleParams="rule.params",e.newAlertsCount="alerts.new.count",e.newAlertsData="alerts.new.data",e.ongoingAlertsCount="alerts.ongoing.count",e.ongoingAlertsData="alerts.ongoing.data",e.recoveredAlertsCount="alerts.recovered.count",e.recoveredAlertsData="alerts.recovered.data",e.allAlertsCount="alerts.all.count",e.allAlertsData="alerts.all.data"}(c||(c={}));const l={[u.ruleId]:{name:u.ruleId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleIdLabel",{defaultMessage:"The ID of the rule."})},[u.ruleName]:{name:u.ruleName,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleNameLabel",{defaultMessage:"The name of the rule."})},[u.ruleSpaceId]:{name:u.ruleSpaceId,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleSpaceIdLabel",{defaultMessage:"The space ID of the rule."})},[u.ruleTags]:{name:u.ruleTags,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTagsLabel",{defaultMessage:"The tags of the rule."})},[u.ruleType]:{name:u.ruleType,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleTypeLabel",{defaultMessage:"The type of rule."})},[u.ruleUrl]:{name:u.ruleUrl,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.ruleUrlLabel",{defaultMessage:"The URL to the Stack Management rule page that generated the alert. This will be an empty string if the server.publicBaseUrl is not configured."})},[u.date]:{name:u.date,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.dateLabel",{defaultMessage:"The date the rule scheduled the action."})},[u.kibanaBaseUrl]:{name:u.kibanaBaseUrl,description:r.i18n.translate("xpack.triggersActionsUI.actionVariables.kibanaBaseUrlLabel",{defaultMessage:"The configured server.publicBaseUrl value or empty string if not configured."})}};function d(e,t){return e.map((e=>({...e,name:`${t}${e.name}`})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),i=n(62),a=n(25);function o({filteredRuleTypes:e}){const{http:t}=Object(a.b)().services,n=Object(r.useRef)(!1),[o,u]=Object(r.useState)({isLoading:!0,data:[],error:null}),[s,c]=Object(r.useState)(new Map);return Object(r.useEffect)((()=>(n.current=!0,async function(){try{const r=await Object(i.u)({http:t}),a=new Map;for(const e of r)a.set(e.id,e);if(n.current){c(a);let t=r;e&&e.length>0&&(t=r.filter((t=>e.includes(t.id)))),u({...o,isLoading:!1,data:t})}}catch(e){n.current&&u({...o,isLoading:!1,error:e})}}(),()=>{n.current=!1})),[]),{ruleTypes:o.data,error:o.error,ruleTypeIndex:s,ruleTypesIsLoading:o.isLoading}}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),u=o.either.map,s=o.either.chain,c=function(){function e(e,t,n,r){this.name=e,this.is=t,this.validate=n,this.encode=r,this.decode=this.decode.bind(this)}return e.prototype.pipe=function(n,r){var i=this;return void 0===r&&(r="pipe("+this.name+", "+n.name+")"),new e(r,n.is,(function(e,t){return s(i.validate(e,t),(function(e){return n.validate(e,t)}))}),this.encode===t.identity&&n.encode===t.identity?t.identity:function(e){return i.encode(n.encode(e))})},e.prototype.asDecoder=function(){return this},e.prototype.asEncoder=function(){return this},e.prototype.decode=function(e){return this.validate(e,[{key:"",type:this,actual:e}])},e}();t.Type=c,t.identity=function(e){return e},t.getFunctionName=function(e){return e.displayName||e.name||"<function"+e.length+">"},t.getContextEntry=function(e,t){return{key:e,type:t}},t.appendContext=function(e,t,n,r){for(var i=e.length,a=Array(i+1),o=0;o<i;o++)a[o]=e[o];return a[i]={key:t,type:n,actual:r},a},t.failures=o.left,t.failure=function(e,n,r){return t.failures([{value:e,context:n,message:r}])},t.success=o.right;var l=function(e,t){for(var n=t.length,r=0;r<n;r++)e.push(t[r])},d=function(e){return function(t){return t._tag===e}},f=d("AnyType"),p=d("InterfaceType"),g=d("PartialType"),b=function(e){function n(){var n=e.call(this,"null",(function(e){return null===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NullType",n}return i(n,e),n}(c);t.NullType=b,t.nullType=new b,t.null=t.nullType;var h=function(e){function n(){var n=e.call(this,"undefined",(function(e){return void 0===e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="UndefinedType",n}return i(n,e),n}(c);t.UndefinedType=h;var m=new h;t.undefined=m;var y=function(e){function n(){var n=e.call(this,"void",m.is,m.validate,t.identity)||this;return n._tag="VoidType",n}return i(n,e),n}(c);t.VoidType=y,t.voidType=new y,t.void=t.voidType;var v=function(e){function n(){var n=e.call(this,"unknown",(function(e){return!0}),t.success,t.identity)||this;return n._tag="UnknownType",n}return i(n,e),n}(c);t.UnknownType=v,t.unknown=new v;var _=function(e){function n(){var n=e.call(this,"string",(function(e){return"string"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="StringType",n}return i(n,e),n}(c);t.StringType=_,t.string=new _;var j=function(e){function n(){var n=e.call(this,"number",(function(e){return"number"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="NumberType",n}return i(n,e),n}(c);t.NumberType=j,t.number=new j;var x=function(e){function n(){var n=e.call(this,"boolean",(function(e){return"boolean"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="BooleanType",n}return i(n,e),n}(c);t.BooleanType=x,t.boolean=new x;var O=function(e){function n(){var n=e.call(this,"UnknownArray",Array.isArray,(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyArrayType",n}return i(n,e),n}(c);t.AnyArrayType=O,t.UnknownArray=new O,t.Array=t.UnknownArray;var T=function(e){function n(){var n=e.call(this,"UnknownRecord",(function(e){return"[object Object]"===Object.prototype.toString.call(e)}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="AnyDictionaryType",n}return i(n,e),n}(c);t.AnyDictionaryType=T,t.UnknownRecord=new T;var A=function(e){function n(){var n=e.call(this,"Function",(function(e){return"function"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="FunctionType",n}return i(n,e),n}(c);t.FunctionType=A,t.Function=new A;var w=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i)||this;return u.type=a,u.predicate=o,u._tag="RefinementType",u}return i(t,e),t}(c);t.RefinementType=w,t.brand=function(e,t,n){return Z(e,t,n)},t.Int=t.brand(t.number,(function(e){return Number.isInteger(e)}),"Int");var S=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.value=a,o._tag="LiteralType",o}return i(t,e),t}(c);t.LiteralType=S,t.literal=function(e,n){void 0===n&&(n=JSON.stringify(e));var r=function(t){return t===e};return new S(n,r,(function(n,i){return r(n)?t.success(e):t.failure(n,i)}),t.identity,e)};var E=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.keys=a,o._tag="KeyofType",o}return i(t,e),t}(c);t.KeyofType=E;var I=Object.prototype.hasOwnProperty;t.keyof=function(e,n){void 0===n&&(n=Object.keys(e).map((function(e){return JSON.stringify(e)})).join(" | "));var r=function(n){return t.string.is(n)&&I.call(e,n)};return new E(n,r,(function(e,n){return r(e)?t.success(e):t.failure(e,n)}),t.identity,e)};var R=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.runDefinition=a,o._tag="RecursiveType",o}return i(t,e),t}(c);t.RecursiveType=R,Object.defineProperty(R.prototype,"type",{get:function(){return this.runDefinition()},enumerable:!0,configurable:!0}),t.recursion=function(e,t){var n,r=function(){return n||((n=t(i)).name=e),n},i=new R(e,(function(e){return r().is(e)}),(function(e,t){return r().validate(e,t)}),(function(e){return r().encode(e)}),r);return i};var k=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ArrayType",o}return i(t,e),t}(c);t.ArrayType=k,t.array=function(e,n){return void 0===n&&(n="Array<"+e.name+">"),new k(n,(function(n){return t.UnknownArray.is(n)&&n.every(e.is)}),(function(n,r){return s(t.UnknownArray.validate(n,r),(function(n){for(var i=n.length,a=n,u=[],s=0;s<i;s++){var c=n[s],d=e.validate(c,t.appendContext(r,String(s),e,c));if(o.isLeft(d))l(u,d.left);else{var f=d.right;f!==c&&(a===n&&(a=n.slice()),a[s]=f)}}return u.length>0?t.failures(u):t.success(a)}))}),e.encode===t.identity?t.identity:function(t){return t.map(e.encode)},e)};var U=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="InterfaceType",o}return i(t,e),t}(c);t.InterfaceType=U;var L=function(e){return Object.keys(e).map((function(t){return t+": "+e[t].name})).join(", ")},C=function(e){for(var n=0;n<e.length;n++)if(e[n].encode!==t.identity)return!1;return!0},M=function(e){return"{ "+L(e)+" }"};t.type=function(e,n){void 0===n&&(n=M(e));var r=Object.keys(e),i=r.map((function(t){return e[t]})),u=r.length;return new U(n,(function(e){if(t.UnknownRecord.is(e)){for(var n=0;n<u;n++){var a=r[n];if(!I.call(e,a)||!i[n].is(e[a]))return!1}return!0}return!1}),(function(e,n){return s(t.UnknownRecord.validate(e,n),(function(e){for(var s=e,c=[],d=0;d<u;d++){var f=r[d];I.call(s,f)||(s===e&&(s=a({},e)),s[f]=s[f]);var p=s[f],g=i[d],b=g.validate(p,t.appendContext(n,f,g,p));if(o.isLeft(b))l(c,b.left);else{var h=b.right;h!==p&&(s===e&&(s=a({},e)),s[f]=h)}}return c.length>0?t.failures(c):t.success(s)}))}),C(i)?t.identity:function(e){for(var n=a({},e),o=0;o<u;o++){var s=r[o],c=i[o].encode;c!==t.identity&&(n[s]=c(e[s]))}return n},e)},t.interface=t.type;var F=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="PartialType",o}return i(t,e),t}(c);t.PartialType=F;var P=function(e){return"Partial<"+e+">"};t.partial=function(e,n){void 0===n&&(n=P(M(e)));var r=Object.keys(e),i=r.map((function(t){return e[t]})),u=r.length;return new F(n,(function(n){if(t.UnknownRecord.is(n)){for(var i=0;i<u;i++){var a=r[i],o=n[a];if(void 0!==o&&!e[a].is(o))return!1}return!0}return!1}),(function(n,i){return s(t.UnknownRecord.validate(n,i),(function(n){for(var s=n,c=[],d=0;d<u;d++){var f=r[d],p=s[f],g=e[f],b=g.validate(p,t.appendContext(i,f,g,p));if(o.isLeft(b))void 0!==p&&l(c,b.left);else{var h=b.right;h!==p&&(s===n&&(s=a({},n)),s[f]=h)}}return c.length>0?t.failures(c):t.success(s)}))}),C(i)?t.identity:function(e){for(var t=a({},e),n=0;n<u;n++){var o=r[n],s=e[o];void 0!==s&&(t[o]=i[n].encode(s))}return t},e)};var N=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i)||this;return u.domain=a,u.codomain=o,u._tag="DictionaryType",u}return i(t,e),t}(c);t.DictionaryType=N,t.record=function(e,n,r){return void 0===r&&(r="{ [K in "+e.name+"]: "+n.name+" }"),new N(r,(function(r){return t.UnknownRecord.is(r)?Object.keys(r).every((function(t){return e.is(t)&&n.is(r[t])})):f(n)&&Array.isArray(r)}),(function(r,i){if(t.UnknownRecord.is(r)){for(var a={},u=[],s=Object.keys(r),c=s.length,d=!1,p=0;p<c;p++){var g=s[p],b=r[g],h=e.validate(g,t.appendContext(i,g,e,g));if(o.isLeft(h))l(u,h.left);else{var m=h.right;d=d||m!==g,g=m;var y=n.validate(b,t.appendContext(i,g,n,b));if(o.isLeft(y))l(u,y.left);else{var v=y.right;d=d||v!==b,a[g]=v}}}return u.length>0?t.failures(u):t.success(d?a:r)}return f(n)&&Array.isArray(r)?t.success(r):t.failure(r,i)}),e.encode===t.identity&&n.encode===t.identity?t.identity:function(t){for(var r={},i=Object.keys(t),a=i.length,o=0;o<a;o++){var u=i[o];r[String(e.encode(u))]=n.encode(t[u])}return r},e,n)};var $=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="UnionType",o}return i(t,e),t}(c);t.UnionType=$;var V=function(e){return"("+e.map((function(e){return e.name})).join(" | ")+")"};t.union=function(e,n){void 0===n&&(n=V(e));var r=ae(e);if(void 0!==r&&e.length>0){var i=r[0],a=r[1],u=a.length,c=function(e){for(var t=0;t<u;t++)if(-1!==a[t].indexOf(e))return t};return new q(n,(function(n){if(t.UnknownRecord.is(n)){var r=c(n[i]);return void 0!==r&&e[r].is(n)}return!1}),(function(n,r){return s(t.UnknownRecord.validate(n,r),(function(a){var o=c(a[i]);if(void 0===o)return t.failure(n,r);var u=e[o];return u.validate(a,t.appendContext(r,String(o),u,a))}))}),C(e)?t.identity:function(t){var r=c(t[i]);if(void 0===r)throw new Error("no codec found to encode value in union codec "+n);return e[r].encode(t)},e,i)}return new $(n,(function(t){return e.some((function(e){return e.is(t)}))}),(function(n,r){for(var i=[],a=0;a<e.length;a++){var u=e[a],s=u.validate(n,t.appendContext(r,String(a),u,n));if(!o.isLeft(s))return t.success(s.right);l(i,s.left)}return t.failures(i)}),C(e)?t.identity:function(t){for(var r=0,i=e;r<i.length;r++){var a=i[r];if(a.is(t))return a.encode(t)}throw new Error("no codec found to encode value in union type "+n)},e)};var D=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="IntersectionType",o}return i(t,e),t}(c);t.IntersectionType=D;var z=function(e,n){for(var r=!0,i=!0,a=0,o=n;a<o.length;a++)(l=o[a])!==e&&(r=!1),t.UnknownRecord.is(l)&&(i=!1);if(r)return e;if(i)return n[n.length-1];for(var u={},s=0,c=n;s<c.length;s++){var l=c[s];for(var d in l)l[d]===e[d]&&u.hasOwnProperty(d)||(u[d]=l[d])}return u};t.intersection=function(e,n){void 0===n&&(n="("+e.map((function(e){return e.name})).join(" & ")+")");var r=e.length;return new D(n,(function(t){return e.every((function(e){return e.is(t)}))}),0===e.length?t.success:function(n,i){for(var a=[],u=[],s=0;s<r;s++){var c=e[s],d=c.validate(n,t.appendContext(i,String(s),c,n));o.isLeft(d)?l(u,d.left):a.push(d.right)}return u.length>0?t.failures(u):t.success(z(n,a))},0===e.length?t.identity:function(t){return z(t,e.map((function(e){return e.encode(t)})))},e)};var W=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.types=a,o._tag="TupleType",o}return i(t,e),t}(c);t.TupleType=W,t.tuple=function(e,n){void 0===n&&(n="["+e.map((function(e){return e.name})).join(", ")+"]");var r=e.length;return new W(n,(function(n){return t.UnknownArray.is(n)&&n.length===r&&e.every((function(e,t){return e.is(n[t])}))}),(function(n,i){return s(t.UnknownArray.validate(n,i),(function(n){for(var a=n.length>r?n.slice(0,r):n,u=[],s=0;s<r;s++){var c=n[s],d=e[s],f=d.validate(c,t.appendContext(i,String(s),d,c));if(o.isLeft(f))l(u,f.left);else{var p=f.right;p!==c&&(a===n&&(a=n.slice()),a[s]=p)}}return u.length>0?t.failures(u):t.success(a)}))}),C(e)?t.identity:function(t){return e.map((function(e,n){return e.encode(t[n])}))},e)};var B=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyType",o}return i(t,e),t}(c);t.ReadonlyType=B,t.readonly=function(e,n){return void 0===n&&(n="Readonly<"+e.name+">"),new B(n,e.is,(function(t,n){return u(e.validate(t,n),(function(e){return e}))}),e.encode===t.identity?t.identity:e.encode,e)};var G=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ReadonlyArrayType",o}return i(t,e),t}(c);t.ReadonlyArrayType=G,t.readonlyArray=function(e,n){void 0===n&&(n="ReadonlyArray<"+e.name+">");var r=t.array(e);return new G(n,r.is,(function(e,t){return u(r.validate(e,t),(function(e){return e}))}),r.encode,e)},t.strict=function(e,n){return t.exact(t.type(e),n)};var q=function(e){function t(t,n,r,i,a,o){var u=e.call(this,t,n,r,i,a)||this;return u.tag=o,u}return i(t,e),t}($);t.TaggedUnionType=q,t.taggedUnion=function(e,n,r){void 0===r&&(r=V(n));var i=t.union(n,r);return i instanceof q?i:(console.warn("[io-ts] Cannot build a tagged union for "+r+", returning a de-optimized union"),new q(r,i.is,i.validate,i.encode,n,e))};var H=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.type=a,o._tag="ExactType",o}return i(t,e),t}(c);t.ExactType=H;var J=function(e){switch(e._tag){case"RefinementType":case"ReadonlyType":return J(e.type);case"InterfaceType":case"StrictType":case"PartialType":return e.props;case"IntersectionType":return e.types.reduce((function(e,t){return Object.assign(e,J(t))}),{})}},K=function(e,t){for(var n=Object.getOwnPropertyNames(e),r=!1,i={},a=0;a<n.length;a++){var o=n[a];I.call(t,o)?i[o]=e[o]:r=!0}return r?i:e};t.exact=function(e,n){void 0===n&&(n=function(e){return p(e)?"{| "+L(e.props)+" |}":g(e)?P("{| "+L(e.props)+" |}"):"Exact<"+e.name+">"}(e));var r=J(e);return new H(n,e.is,(function(n,i){return s(t.UnknownRecord.validate(n,i),(function(){return u(e.validate(n,i),(function(e){return K(e,r)}))}))}),(function(t){return e.encode(K(t,r))}),e)},t.getValidationError=function(e,t){return{value:e,context:t}},t.getDefaultContext=function(e){return[{key:"",type:e}]};var Y=function(e){function n(){var n=e.call(this,"never",(function(e){return!1}),(function(e,n){return t.failure(e,n)}),(function(){throw new Error("cannot encode never")}))||this;return n._tag="NeverType",n}return i(n,e),n}(c);t.NeverType=Y,t.never=new Y;var Q=function(e){function n(){var n=e.call(this,"any",(function(e){return!0}),t.success,t.identity)||this;return n._tag="AnyType",n}return i(n,e),n}(c);t.AnyType=Q,t.any=new Q,t.Dictionary=t.UnknownRecord;var X=function(e){function n(){var n=e.call(this,"object",(function(e){return null!==e&&"object"==typeof e}),(function(e,r){return n.is(e)?t.success(e):t.failure(e,r)}),t.identity)||this;return n._tag="ObjectType",n}return i(n,e),n}(c);function Z(e,n,r){return void 0===r&&(r="("+e.name+" | "+t.getFunctionName(n)+")"),new w(r,(function(t){return e.is(t)&&n(t)}),(function(r,i){return s(e.validate(r,i),(function(e){return n(e)?t.success(e):t.failure(e,i)}))}),e.encode,e,n)}t.ObjectType=X,t.object=new X,t.refinement=Z,t.Integer=Z(t.number,Number.isInteger,"Integer"),t.dictionary=t.record;var ee=function(e){function t(t,n,r,i,a){var o=e.call(this,t,n,r,i)||this;return o.props=a,o._tag="StrictType",o}return i(t,e),t}(c);function te(e,t){for(var n=[],r=0,i=e;r<i.length;r++){var a=i[r];-1!==t.indexOf(a)&&n.push(a)}return n}function ne(e){return"LiteralType"===e._tag}t.StrictType=ee,t.clean=function(e){return e},t.alias=function(e){return function(){return e}},t.emptyTags={};var re=[];function ie(e){if(-1!==re.indexOf(e))return t.emptyTags;if(function(e){return"InterfaceType"===e._tag}(e)||function(e){return"StrictType"===e._tag}(e)){var n=t.emptyTags;for(var r in e.props){var i=e.props[r];ne(i)&&(n===t.emptyTags&&(n={}),n[r]=[i.value])}return n}if(function(e){return"ExactType"===e._tag}(e)||function(e){return"RefinementType"===e._tag}(e))return ie(e.type);if(function(e){return"IntersectionType"===e._tag}(e))return e.types.reduce((function(e,n){return function(e,n){if(e===t.emptyTags)return n;if(n===t.emptyTags)return e;var r=Object.assign({},e);for(var i in n)if(e.hasOwnProperty(i)){var a=te(e[i],n[i]);if(!(a.length>0)){r=t.emptyTags;break}r[i]=a}else r[i]=n[i];return r}(e,ie(n))}),t.emptyTags);if(function(e){return"UnionType"===e._tag}(e))return e.types.slice(1).reduce((function(e,n){return function(e,n){if(e===t.emptyTags||n===t.emptyTags)return t.emptyTags;var r=t.emptyTags;for(var i in e)n.hasOwnProperty(i)&&0===te(e[i],n[i]).length&&(r===t.emptyTags&&(r={}),r[i]=e[i].concat(n[i]));return r}(e,ie(n))}),ie(e.types[0]));if(function(e){return"RecursiveType"===e._tag}(e)){re.push(e);var a=ie(e.type);return re.pop(),a}return t.emptyTags}function ae(e){for(var t=ie(e[0]),n=Object.keys(t),r=e.length,i=function(n){for(var i=t[n].slice(),a=[t[n]],o=1;o<r;o++){var u=ie(e[o])[n];if(void 0===u)return"continue-keys";if(u.some((function(e){return-1!==i.indexOf(e)})))return"continue-keys";i.push.apply(i,u),a.push(u)}return{value:[n,a]}},a=0,o=n;a<o.length;a++){var u=i(o[a]);if("object"==typeof u)return u.value}}t.getTags=ie,t.getIndex=ae},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),i=n(1),a=n(0);const o=Object(i.lazy)((()=>Promise.all([n.e(7),n.e(14),n.e(9),n.e(34)]).then(n.bind(null,121)))),u=({hideLazyLoader:e,...t})=>Object(a.jsx)(i.Suspense,{fallback:e?null:Object(a.jsx)(r.EuiLoadingSpinner,null)},Object(a.jsx)(o,t))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15);const i=e=>e.map((e=>Object(r.b)(e)))},function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return A})),n.d(t,"d",(function(){return w}));var r=n(1),i=n.n(r),a=n(3),o=n(7),u=n(78),s=n(32),c=n(38),l=n.n(c),d=n(23),f=n(0);const p="0.[00]a",g=Object(a.euiPaletteColorBlind)()[1],b=Object(f.jsx)(d.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.title",defaultMessage:"Alert activity"}),h=Object(f.jsx)(d.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.alerts",defaultMessage:"Alerts"}),m=Object(f.jsx)(d.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.activeNow",defaultMessage:"Active now"}),y=({activeAlertCount:e})=>{const{euiTheme:t}=Object(a.useEuiTheme)();return Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)(a.EuiText,{color:e?t.colors.dangerText:t.colors.successText},Object(f.jsx)("h3",{"data-test-subj":"activeAlertsCount"},l()(e).format(p),!!e&&Object(f.jsx)(i.a.Fragment,null,"Â ",Object(f.jsx)(a.EuiIcon,{type:"alert",ascent:10})))),Object(f.jsx)(a.EuiText,{size:"s",color:"subdued"},m))},v=({count:e})=>Object(f.jsx)(i.a.Fragment,null,Object(f.jsx)(a.EuiText,{color:g},Object(f.jsx)("h3",{"data-test-subj":"totalAlertsCount"},l()(e).format(p))),Object(f.jsx)(a.EuiText,{size:"s",color:"subdued"},h)),_=({activeAlertCount:e,recoveredAlertCount:t,onActiveClick:n})=>Object(f.jsx)(a.EuiFlexGroup,{gutterSize:"l",responsive:!1},Object(f.jsx)(a.EuiFlexItem,{style:{minWidth:50,wordWrap:"break-word"},grow:!1},Object(f.jsx)(v,{count:e+t})),Object(f.jsx)(a.EuiFlexItem,{style:{minWidth:50,wordWrap:"break-word"},grow:!1},n?Object(f.jsx)(a.EuiLink,{onClick:e=>n(e,s.M),"data-test-subj":"activeAlerts"},Object(f.jsx)(y,{activeAlertCount:e})):Object(f.jsx)(y,{activeAlertCount:e}))),j=({activeAlertCount:e,activeAlerts:t,chartThemes:{theme:n,baseTheme:r},recoveredAlertCount:i,timeRangeTitle:s,onClick:c})=>{const l=[n,u.EUI_SPARKLINE_THEME_PARTIAL,{chartMargins:{left:10,right:10,top:10,bottom:10}}],d=(e,t)=>{e.preventDefault(),e.stopPropagation(),c(t)};return Object(f.jsx)(a.EuiPanel,{element:"div","data-test-subj":"alertSummaryWidgetCompact",hasShadow:!1,hasBorder:!0,onClick:d},Object(f.jsx)(a.EuiFlexGroup,{direction:"column"},!!s&&Object(f.jsx)(a.EuiFlexItem,null,Object(f.jsx)(a.EuiTitle,{size:"xxs"},Object(f.jsx)("h5",null,b)),Object(f.jsx)(a.EuiSpacer,{size:"s"}),Object(f.jsx)(a.EuiText,{size:"s",color:"subdued","data-test-subj":"timeRangeTitle"},s)),Object(f.jsx)(a.EuiFlexItem,null,Object(f.jsx)(_,{activeAlertCount:e,recoveredAlertCount:i,onActiveClick:d})),Object(f.jsx)(a.EuiFlexItem,null,Object(f.jsx)(a.EuiFlexGroup,{wrap:!0},Object(f.jsx)(a.EuiFlexItem,{style:{minWidth:"200px"}},Object(f.jsx)(o.Chart,{size:{height:50}},Object(f.jsx)(o.Settings,{theme:l,baseTheme:r,tooltip:{type:"none"}}),Object(f.jsx)(o.Axis,{hide:!0,id:"activeAlertsAxis",position:o.Position.Left,showGridLines:!1}),Object(f.jsx)(o.LineSeries,{id:"activeAlertsChart",xScaleType:o.ScaleType.Time,yScaleType:o.ScaleType.Linear,xAccessor:"key",yAccessors:["doc_count"],data:t,lineSeriesStyle:{line:{strokeWidth:2,stroke:g}},curve:o.CurveType.CURVE_MONOTONE_X})))))))},x=()=>Object(f.jsx)(a.EuiEmptyPrompt,{"data-test-subj":"alertSummaryWidgetError",iconType:"alert",color:"danger",title:Object(f.jsx)("h5",null,Object(f.jsx)(d.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.errorTitle",defaultMessage:"Unable to load the alerts summary"})),body:Object(f.jsx)("p",null,Object(f.jsx)(d.FormattedMessage,{id:"xpack.triggersActionsUI.sections.alertsSummaryWidget.errorBody",defaultMessage:"There was an error loading the alerts summary. Contact your administrator for help."}))});var O=n(61),T=n.n(O);const A=({activeAlertCount:e,activeAlerts:t,chartThemes:{theme:n,baseTheme:r},dateFormat:i,recoveredAlertCount:u})=>{const s=[n,{chartPaddings:{top:7}}];return Object(f.jsx)(a.EuiPanel,{element:"div","data-test-subj":"alertSummaryWidgetFullSize",hasShadow:!1,paddingSize:"none"},Object(f.jsx)(a.EuiFlexItem,null,Object(f.jsx)(_,{activeAlertCount:e,recoveredAlertCount:u})),Object(f.jsx)(a.EuiSpacer,{size:"l"}),Object(f.jsx)(o.Chart,{size:["100%",170]},Object(f.jsx)(o.Settings,{legendPosition:o.Position.Right,theme:s,baseTheme:r,tooltip:{headerFormatter:e=>T()(e.value).format(i||"YYYY-MM-DD HH:mm")}}),Object(f.jsx)(o.Axis,{id:"bottom",position:o.Position.Bottom,timeAxisLayerCount:2,showGridLines:!0,style:{tickLine:{size:1e-4,padding:4},tickLabel:{alignment:{horizontal:o.Position.Left,vertical:o.Position.Bottom}}}}),Object(f.jsx)(o.Axis,{id:"left",position:o.Position.Left,showGridLines:!0,integersOnly:!0,ticks:4}),Object(f.jsx)(o.Axis,{id:"right",position:o.Position.Right,showGridLines:!0,integersOnly:!0,ticks:4}),Object(f.jsx)(o.LineSeries,{id:"Active",xScaleType:o.ScaleType.Time,yScaleType:o.ScaleType.Linear,xAccessor:"key",yAccessors:["doc_count"],color:[g],data:t,lineSeriesStyle:{line:{strokeWidth:2},point:{visible:!1}},curve:o.CurveType.CURVE_MONOTONE_X})))},w=({fullSize:e})=>Object(f.jsx)("div",{style:{minHeight:e?238:224,display:"flex",alignItems:"center",justifyContent:"center"}},Object(f.jsx)(a.EuiLoadingChart,{size:"l","data-test-subj":"alertSummaryWidgetLoading"}))},function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiChartsTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnMonaco},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/esUiShared/public");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t,n){"use strict";n.r(t),n.d(t,"AlertHistoryDefaultIndexName",(function(){return L.c})),n.d(t,"ALERT_HISTORY_PREFIX",(function(){return L.a})),n.d(t,"AlertHistoryDocumentTemplate",(function(){return L.d})),n.d(t,"AlertHistoryEsIndexConnectorId",(function(){return L.e})),n.d(t,"ActionConnectorMode",(function(){return L.b})),n.d(t,"useConnectorContext",(function(){return C})),n.d(t,"ActionForm",(function(){return d.a})),n.d(t,"CreateConnectorFlyout",(function(){return d.c})),n.d(t,"EditConnectorFlyout",(function(){return d.d})),n.d(t,"ButtonGroupField",(function(){return pe})),n.d(t,"HiddenField",(function(){return q.a})),n.d(t,"JsonEditorWithMessageVariables",(function(){return G})),n.d(t,"JsonFieldWrapper",(function(){return be})),n.d(t,"MustacheTextFieldWrapper",(function(){return he})),n.d(t,"PasswordField",(function(){return X})),n.d(t,"SimpleConnectorForm",(function(){return ce})),n.d(t,"TextAreaWithMessageVariables",(function(){return te})),n.d(t,"TextFieldWithMessageVariables",(function(){return ee})),n.d(t,"SectionLoading",(function(){return ye.a})),n.d(t,"AlertProvidedActionVariables",(function(){return V.a})),n.d(t,"hasMustacheTokens",(function(){return V.b})),n.d(t,"templateActionVariable",(function(){return V.d})),n.d(t,"updateActionConnector",(function(){return V.e})),n.d(t,"AlertConditions",(function(){return y.b})),n.d(t,"AlertConditionsGroup",(function(){return y.c})),n.d(t,"plugin",(function(){return ze})),n.d(t,"useKibana",(function(){return ve.useKibana})),n.d(t,"WhenExpression",(function(){return ve.WhenExpression})),n.d(t,"OfExpression",(function(){return ve.OfExpression})),n.d(t,"ForLastExpression",(function(){return ve.ForLastExpression})),n.d(t,"ThresholdExpression",(function(){return ve.ThresholdExpression})),n.d(t,"ValueExpression",(function(){return ve.ValueExpression})),n.d(t,"builtInComparators",(function(){return ve.builtInComparators})),n.d(t,"builtInGroupByTypes",(function(){return ve.builtInGroupByTypes})),n.d(t,"builtInAggregationTypes",(function(){return ve.builtInAggregationTypes})),n.d(t,"getFields",(function(){return ve.getFields})),n.d(t,"getIndexOptions",(function(){return ve.getIndexOptions})),n.d(t,"firstFieldOption",(function(){return ve.firstFieldOption})),n.d(t,"getTimeFieldOptions",(function(){return ve.getTimeFieldOptions})),n.d(t,"GroupByExpression",(function(){return ve.GroupByExpression})),n.d(t,"COMPARATORS",(function(){return ve.COMPARATORS})),n.d(t,"connectorDeprecatedMessage",(function(){return ve.connectorDeprecatedMessage})),n.d(t,"deprecatedMessage",(function(){return ve.deprecatedMessage})),n.d(t,"useLoadRuleTypes",(function(){return we.a})),n.d(t,"useSubAction",(function(){return Ae})),n.d(t,"Plugin",(function(){return plugin_Plugin})),n.d(t,"loadRules",(function(){return Se.a})),n.d(t,"loadExecutionLogAggregations",(function(){return Ee.a})),n.d(t,"loadActionErrorLog",(function(){return Ie.a})),n.d(t,"loadRuleTypes",(function(){return Re.a})),n.d(t,"loadRuleSummary",(function(){return ke.a})),n.d(t,"muteRule",(function(){return Ue.a})),n.d(t,"bulkDeleteRules",(function(){return Le.a})),n.d(t,"unmuteRule",(function(){return Ce.a})),n.d(t,"snoozeRule",(function(){return Me.b})),n.d(t,"unsnoozeRule",(function(){return Fe.b})),n.d(t,"loadRuleAggregations",(function(){return Pe.a})),n.d(t,"loadRuleTags",(function(){return Pe.b})),n.d(t,"loadRule",(function(){return Ne.a})),n.d(t,"loadAllActions",(function(){return Oe.e})),n.d(t,"suspendedComponentWithProps",(function(){return g.a})),n.d(t,"loadActionTypes",(function(){return $e.a})),n.d(t,"TIME_UNITS",(function(){return Ve.o})),n.d(t,"getTimeUnitLabel",(function(){return De.a})),n.d(t,"getNotifyWhenOptions",(function(){return We}));var r=n(17),i=n.n(r),a=n(2),o=n(57),u=n(32);class type_registry_TypeRegistry{constructor(){i()(this,"objectTypes",new Map)}has(e){return this.objectTypes.has(e)}register(e){if(this.has(e.id))throw new Error(a.i18n.translate("xpack.triggersActionsUI.typeRegistry.register.duplicateObjectTypeErrorMessage",{defaultMessage:'Object type "{id}" is already registered.',values:{id:e.id}}));this.objectTypes.set(e.id,e)}get(e){if(!this.has(e))throw new Error(a.i18n.translate("xpack.triggersActionsUI.typeRegistry.get.missingActionTypeErrorMessage",{defaultMessage:'Object type "{id}" is not registered.',values:{id:e}}));return this.objectTypes.get(e)}list(){return Array.from(this.objectTypes).map((([e,t])=>t))}}var s=n(1),c=n.n(s),l=n(12),d=n(22),f=n(0),p=n(39),g=n(5);const b=Object(g.a)(Object(s.lazy)((()=>Promise.all([n.e(7),n.e(9)]).then(n.bind(null,279)))));var h=n(3);const m=Object(s.lazy)((()=>n.e(7).then(n.bind(null,278))));var y=n(6),v=n(27);const _=new v.QueryClient;var j=n(50),x=n(24),O=n(10);const T=Object(s.lazy)((()=>n.e(47).then(n.bind(null,285)))),A=Object(s.lazy)((()=>n.e(46).then(n.bind(null,286)))),w=()=>({body:A,header:T,footer:null});var S=n(75);const E=Object(s.lazy)((()=>Promise.all([n.e(14),n.e(25)]).then(n.bind(null,295))));var I=n(77);const R=Object(s.lazy)((()=>n.e(31).then(n.bind(null,297)))),k=new v.QueryClient,U=Object(s.lazy)((()=>n.e(43).then(n.bind(null,159))));class plugin_Plugin{constructor(e){i()(this,"actionTypeRegistry",void 0),i()(this,"ruleTypeRegistry",void 0),i()(this,"alertsTableConfigurationRegistry",void 0),i()(this,"config",void 0),i()(this,"connectorServices",void 0),i()(this,"experimentalFeatures",void 0),this.actionTypeRegistry=new type_registry_TypeRegistry,this.ruleTypeRegistry=new type_registry_TypeRegistry,this.alertsTableConfigurationRegistry=new type_registry_TypeRegistry,this.config=e.config.get(),this.experimentalFeatures=Object(x.c)(this.config.enableExperimental||[])}setup(e,t){const r=this.actionTypeRegistry,i=this.ruleTypeRegistry,s=this.alertsTableConfigurationRegistry;this.connectorServices={validateEmailAddresses:t.actions.validateEmailAddresses},j.a.init({experimentalFeatures:this.experimentalFeatures});const l=a.i18n.translate("xpack.triggersActionsUI.managementSection.displayName",{defaultMessage:"Rules"}),d=a.i18n.translate("xpack.triggersActionsUI.managementSection.displayDescription",{defaultMessage:"Detect conditions using rules."}),p=a.i18n.translate("xpack.triggersActionsUI.managementSection.connectors.displayName",{defaultMessage:"Connectors"}),g=a.i18n.translate("xpack.triggersActionsUI.managementSection.connectors.displayDescription",{defaultMessage:"Connect third-party software with your alerting data."});return t.home&&(t.home.featureCatalogue.register({id:O.PLUGIN_ID,title:l,description:d,icon:"watchesApp",path:u.jb,showOnHomePage:!1,category:"admin"}),t.home.featureCatalogue.register({id:O.CONNECTORS_PLUGIN_ID,title:p,description:g,icon:"watchesApp",path:u.jb,showOnHomePage:!1,category:"admin"})),t.management.sections.section.insightsAndAlerting.registerApp({id:O.PLUGIN_ID,title:l,order:0,async mount(a){var u;const[c,l]=await e.getStartServices(),{renderApp:d}=await n.e(26).then(n.bind(null,283));let f;try{f=await l.features.getFeatures()}catch(e){f=[]}return d({...c,actions:t.actions,data:l.data,dataViews:l.dataViews,dataViewEditor:l.dataViewEditor,charts:l.charts,alerting:l.alerting,spaces:l.spaces,unifiedSearch:l.unifiedSearch,isCloud:Boolean(null===(u=t.cloud)||void 0===u?void 0:u.isCloudEnabled),element:a.element,theme$:a.theme$,storage:new o.Storage(window.localStorage),setBreadcrumbs:a.setBreadcrumbs,history:a.history,actionTypeRegistry:r,ruleTypeRegistry:i,alertsTableConfigurationRegistry:s,kibanaFeatures:f})}}),t.management.sections.section.insightsAndAlerting.registerApp({id:O.CONNECTORS_PLUGIN_ID,title:p,order:2,async mount(a){var u;const[c,l]=await e.getStartServices(),{renderApp:d}=await n.e(27).then(n.bind(null,284));let f;try{f=await l.features.getFeatures()}catch(e){f=[]}return d({...c,actions:t.actions,data:l.data,dataViews:l.dataViews,dataViewEditor:l.dataViewEditor,charts:l.charts,alerting:l.alerting,spaces:l.spaces,unifiedSearch:l.unifiedSearch,isCloud:Boolean(null===(u=t.cloud)||void 0===u?void 0:u.isCloudEnabled),element:a.element,theme$:a.theme$,storage:new o.Storage(window.localStorage),setBreadcrumbs:a.setBreadcrumbs,history:a.history,actionTypeRegistry:r,ruleTypeRegistry:i,alertsTableConfigurationRegistry:s,kibanaFeatures:f})}}),this.experimentalFeatures.internalAlertsTable&&function({alertsTableConfigurationRegistry:e}){e.register({id:O.PLUGIN_ID,casesFeatureId:`${O.PLUGIN_ID}Cases`,columns:[{id:"event.action",displayAsText:"Alert status",initialWidth:150},{id:"@timestamp",displayAsText:"Last updated",initialWidth:250},{id:"kibana.alert.duration.us",displayAsText:"Duration",initialWidth:150},{id:"kibana.alert.reason",displayAsText:"Reason"}],useInternalFlyout:w,getRenderCellValue:()=>e=>{var t,n;const r=e,i=null!==(t=null===(n=r.data.find((e=>e.field===r.columnId)))||void 0===n?void 0:n.value)&&void 0!==t?t:[];return Object(f.jsx)(c.a.Fragment,null,i.length?i.join():"--")},sort:[{"event.action":{order:"asc"}}]})}({alertsTableConfigurationRegistry:this.alertsTableConfigurationRegistry}),{actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,alertsTableConfigurationRegistry:this.alertsTableConfigurationRegistry}}start(){return{actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,alertsTableConfigurationRegistry:this.alertsTableConfigurationRegistry,getActionForm:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(y.a,e)))({...e,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices}),getAddConnectorFlyout:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(d.c,e)))({...e,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices}),getEditConnectorFlyout:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(d.d,e)))({...e,actionTypeRegistry:this.actionTypeRegistry,connectorServices:this.connectorServices}),getAddAlertFlyout:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(p.a,e)))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,connectorServices:this.connectorServices}),getEditAlertFlyout:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(p.b,e)))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry,connectorServices:this.connectorServices}),getAlertsStateTable:e=>Object(S.a)(e),getAlertsSearchBar:e=>(e=>Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)(h.EuiLoadingSpinner,null)},Object(f.jsx)(E,e)))(e),getAlertsTable:e=>(e=>Object(f.jsx)(b,e))(e),getFieldBrowser:e=>(e=>Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)(h.EuiLoadingSpinner,null)},Object(f.jsx)(m,e)))(e),getRuleStatusDropdown:e=>(e=>Object(f.jsx)(y.g,e))(e),getRuleTagFilter:e=>(e=>Object(f.jsx)(y.k,e))(e),getRuleStatusFilter:e=>(e=>Object(f.jsx)(y.h,e))(e),getRuleTagBadge:e=>(e=>Object(f.jsx)(y.j,e))(e),getRuleEventLogList:e=>(e=>Object(f.jsx)(y.e,e))(e),getRulesListNotifyBadge:e=>(e=>Object(f.jsx)(y.m,e))(e),getRulesList:e=>(e=>Object(f.jsx)(l.b,{value:{services:e.connectorServices}},Object(f.jsx)(v.QueryClientProvider,{client:_},Object(f.jsx)(y.l,e.rulesListProps))))({connectorServices:this.connectorServices,rulesListProps:e}),getRuleDefinition:e=>(e=>Object(f.jsx)(y.d,e))({...e,actionTypeRegistry:this.actionTypeRegistry,ruleTypeRegistry:this.ruleTypeRegistry}),getRuleStatusPanel:e=>(e=>Object(f.jsx)(y.i,e))(e),getAlertSummaryWidget:e=>(e=>Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)(I.d,{fullSize:e.fullSize})},Object(f.jsx)(R,e)))(e),getRuleSnoozeModal:e=>(e=>Object(f.jsx)(y.f,e))(e),getRulesSettingsLink:()=>Object(f.jsx)(v.QueryClientProvider,{client:k},Object(f.jsx)(s.Suspense,{fallback:Object(f.jsx)(h.EuiLoadingSpinner,null)},Object(f.jsx)(U,null)))}}stop(){}}var L=n(18);const C=()=>{const e=Object(s.useContext)(l.a);if(!e)throw new Error("useConnectorContext must be used within a ConnectorProvider and have a defined value.");return e};var M=n(9),F=n.n(M),P=n(79),N=(n(40),n(80)),$=n(20),V=n(13);const D=({buttonTitle:e,messageVariables:t,paramsProperty:n,onSelectEventHandler:r,showButtonTitle:i=!1})=>{var o;const[u,l]=Object(s.useState)(!1),d=e||a.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addRuleVariableTitle",{defaultMessage:"Add rule variable"}),p=Object(s.useMemo)((()=>i?Object(f.jsx)(h.EuiButtonEmpty,{id:`${n}AddVariableButton`,"data-test-subj":`${n}AddVariableButton-Title`,size:"xs",onClick:()=>l(!0),iconType:"indexOpen","aria-label":a.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"})},d):Object(f.jsx)(h.EuiButtonIcon,{id:`${n}AddVariableButton`,"data-test-subj":`${n}AddVariableButton`,title:d,onClick:()=>l(!0),iconType:"indexOpen","aria-label":a.i18n.translate("xpack.triggersActionsUI.components.addMessageVariables.addVariablePopoverButton",{defaultMessage:"Add variable"})})),[d,n,i]);return 0===(null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0)?Object(f.jsx)(c.a.Fragment,null):Object(f.jsx)(h.EuiPopover,{button:p,isOpen:u,closePopover:()=>l(!1),panelPaddingSize:"none",anchorPosition:"downLeft"},Object(f.jsx)(h.EuiContextMenuPanel,{className:"messageVariablesPanel",items:null==t?void 0:t.map(((e,t)=>Object(f.jsx)(h.EuiContextMenuItem,{key:e.name,"data-test-subj":`variableMenuButton-${e.name}`,icon:"empty",disabled:e.deprecated,onClick:()=>{r(e),l(!1)}},Object(f.jsx)(c.a.Fragment,null,Object(f.jsx)(h.EuiText,{size:"m","data-test-subj":`variableMenuButton-${t}-templated-name`},Object(V.d)(e)),Object(f.jsx)(h.EuiText,{size:"m",color:"subdued"},Object(f.jsx)("div",null,e.description))))))}))},z=a.i18n.translate("xpack.triggersActionsUI.components.jsonEditorWithMessageVariable.noEditorErrorTitle",{defaultMessage:"Unable to add message variable"}),W=a.i18n.translate("xpack.triggersActionsUI.components.jsonEditorWithMessageVariable.noEditorErrorMessage",{defaultMessage:"Editor was not found, please refresh page and try again"}),{useXJsonMode:B}=N.XJson,G=({buttonTitle:e,messageVariables:t,paramsProperty:n,inputTargetValue:r,label:i,errors:a,areaLabel:o,onDocumentsChange:u,helpText:l,onBlur:d,showButtonTitle:p,euiCodeEditorProps:g={}})=>{const b=Object(s.useRef)(),m=Object(s.useRef)([]),[y,v]=Object(s.useState)(!1),{convertToJson:_,setXJson:j,xJson:x}=B(null!=r?r:null);Object(s.useEffect)((()=>{!x&&r&&j(r)}),[r]);const O=Object(s.useCallback)((()=>{const e=b.current;e&&m.current.push(e.onDidBlurEditorWidget((()=>{null==d||d()})))}),[d]);return Object(s.useEffect)((()=>(O(),()=>(m.current.forEach((e=>{e.dispose()})),void(m.current=[])))),[O]),Object(f.jsx)(h.EuiFormRow,{"data-test-subj":"actionJsonEditor",fullWidth:!0,error:a,isInvalid:a&&a.length>0&&void 0!==r,label:i,labelAppend:Object(f.jsx)(D,{buttonTitle:e,messageVariables:t,onSelectEventHandler:e=>{const t=b.current;if(!t)return void v(!0);const n=t.getSelection(),r=Object(V.d)(e);let i="";n?(t.executeEdits("json-editor-with-message-variables",[{range:n,text:r}]),i=t.getValue()):i=r,v(!1),j(i),u(_(i))},paramsProperty:n,showButtonTitle:p}),helpText:l},Object(f.jsx)(c.a.Fragment,null,y?Object(f.jsx)(c.a.Fragment,null,Object(f.jsx)(h.EuiSpacer,{size:"s"}),Object(f.jsx)(h.EuiCallOut,{size:"s",color:"danger",iconType:"alert",title:z},Object(f.jsx)("p",null,W)),Object(f.jsx)(h.EuiSpacer,{size:"s"})):null,Object(f.jsx)($.CodeEditor,F()({languageId:P.XJsonLang.ID,options:{renderValidationDecorations:x?"on":"off",lineNumbers:"on",fontSize:14,minimap:{enabled:!1},scrollBeyondLastLine:!1,folding:!0,wordWrap:"on",wrappingIndent:"indent",automaticLayout:!0},value:x,width:"100%",height:"200px","data-test-subj":`${n}JsonEditor`,"aria-label":o},g,{editorDidMount:e=>{b.current=e,O()},onChange:e=>{j(e),u(_(e))}}))))};var q=n(68),H=n(11),J=n(30);const{emptyField:K}=J.fieldValidators,Y=({label:e,validate:t})=>({label:e,validations:[...t?[{validator:K(a.i18n.translate("xpack.triggersActionsUI.components.passwordField.error.requiredNameText",{values:{label:e},defaultMessage:"{label} is required."}))}]:[]]}),Q=({path:e,label:t,helpText:n,validate:r=!0,isLoading:i,...a})=>Object(f.jsx)(H.UseField,{path:e,config:Y({label:t,validate:r})},(e=>{const{isInvalid:t,errorMessage:r}=Object(H.getFieldValidityAndErrorMessage)(e);return Object(f.jsx)(h.EuiFormRow,{label:e.label,labelAppend:e.labelAppend,helpText:n,error:r,isInvalid:t,fullWidth:!0},Object(f.jsx)(h.EuiFieldPassword,F()({isInvalid:t,value:e.value,onChange:e.onChange,isLoading:e.isValidating||!0===i,fullWidth:!0},a)))})),X=Object(s.memo)(Q),Z=({children:e,wrapField:t,formRowProps:n,button:r})=>t?Object(f.jsx)(h.EuiFormRow,F()({},n,{labelAppend:r}),e):Object(f.jsx)(c.a.Fragment,null,e),ee=({buttonTitle:e,messageVariables:t,paramsProperty:n,index:r,inputTargetValue:i,editAction:a,errors:o,formRowProps:u,defaultValue:c,wrapField:l=!1,showButtonTitle:d})=>{const[p,g]=Object(s.useState)(null),b=Object(s.useCallback)((e=>{var t,o;const u=Object(V.d)(e),s=null!==(t=null==p?void 0:p.selectionStart)&&void 0!==t?t:0,c=null!==(o=null==p?void 0:p.selectionEnd)&&void 0!==o?o:0,l=(null!=i?i:"").substring(0,s)+u+(null!=i?i:"").substring(c,(null!=i?i:"").length);a(n,l,r)}),[p,a,r,i,n]),m=Object(s.useMemo)((()=>Object(f.jsx)(D,{buttonTitle:e,messageVariables:t,onSelectEventHandler:b,paramsProperty:n,showButtonTitle:d})),[e,t,b,n,d]);return Object(f.jsx)(Z,{wrapField:l,formRowProps:u,button:m},Object(f.jsx)(h.EuiFieldText,{fullWidth:!0,name:n,id:`${n}Id`,isInvalid:o&&o.length>0&&void 0!==i,"data-test-subj":`${n}Input`,value:i||"",defaultValue:c,onChange:e=>(e=>{a(n,e.target.value,r)})(e),onFocus:e=>{g(e.target)},onBlur:e=>{i||a(n,"",r)},append:l?void 0:m}))},te=({messageVariables:e,paramsProperty:t,index:n,inputTargetValue:r,isDisabled:i=!1,editAction:a,label:o,errors:u})=>{const[c,l]=Object(s.useState)(null);return Object(f.jsx)(h.EuiFormRow,{fullWidth:!0,error:u,isDisabled:i,isInvalid:u&&u.length>0&&void 0!==r,label:o,labelAppend:Object(f.jsx)(D,{messageVariables:e,onSelectEventHandler:e=>{var i,o;const u=Object(V.d)(e),s=null!==(i=null==c?void 0:c.selectionStart)&&void 0!==i?i:0,l=null!==(o=null==c?void 0:c.selectionEnd)&&void 0!==o?o:0,d=(null!=r?r:"").substring(0,s)+u+(null!=r?r:"").substring(l,(null!=r?r:"").length);a(t,d,n)},paramsProperty:t})},Object(f.jsx)(h.EuiTextArea,{disabled:i,fullWidth:!0,isInvalid:u&&u.length>0&&void 0!==r,name:t,value:r||"","data-test-subj":`${t}TextArea`,onChange:e=>(e=>{a(t,e.target.value,n)})(e),onFocus:e=>{l(e.target)},onBlur:()=>{r||a(t,"",n)}}))};var ne=n(69);const re=Object(H.getUseField)({component:ne.Field}),{emptyField:ie,urlField:ae}=J.fieldValidators,oe=({label:e,isUrlField:t=!1,defaultValue:n})=>({label:e,validations:[{validator:ie(a.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.requireFieldText",{values:{label:e},defaultMessage:"{label} is required."}))},...t?[{validator:ae(a.i18n.translate("xpack.triggersActionsUI.sections.actionConnectorForm.error.invalidURL",{defaultMessage:"Invalid URL"}))}]:[]],defaultValue:n}),ue=({id:e,label:t,readOnly:n,isPasswordField:r,isUrlField:i,helpText:a,defaultValue:o})=>{const u=`${e}-input`;return Object(f.jsx)(c.a.Fragment,null,Object(f.jsx)(h.EuiFlexGroup,null,Object(f.jsx)(h.EuiFlexItem,null,r?Object(f.jsx)(X,{path:e,label:t,readOnly:n,"data-test-subj":u,helpText:a}):Object(f.jsx)(re,{path:e,config:oe({label:t,isUrlField:i,defaultValue:o}),helpText:a,componentProps:{euiFieldProps:{readOnly:n,fullWidth:!0,"data-test-subj":u}}}))))},se=({isEdit:e,readOnly:t,configFormSchema:n,secretsFormSchema:r})=>Object(f.jsx)(c.a.Fragment,null,n.map((({id:e,...r},i)=>Object(f.jsx)(c.a.Fragment,{key:`config.${e}`},Object(f.jsx)(ue,F()({id:`config.${e}`},r,{readOnly:t})),i!==n.length?Object(f.jsx)(h.EuiSpacer,{size:"m"}):null))),Object(f.jsx)(h.EuiFlexGroup,null,Object(f.jsx)(h.EuiFlexItem,null,Object(f.jsx)(h.EuiTitle,{size:"xxs"},Object(f.jsx)("h4",null,a.i18n.translate("xpack.triggersActionsUI.components.simpleConnectorForm.secrets.authenticationLabel",{defaultMessage:"Authentication"}))))),Object(f.jsx)(h.EuiSpacer,{size:"m"}),r.map((({id:e,...n},i)=>Object(f.jsx)(c.a.Fragment,{key:`secrets.${e}`},Object(f.jsx)(ue,F()({id:`secrets.${e}`,key:`secrets.${e}`},n,{readOnly:t})),i!==r.length?Object(f.jsx)(h.EuiSpacer,{size:"m"}):null)))),ce=Object(s.memo)(se),{emptyField:le}=J.fieldValidators,de=({label:e,defaultValue:t})=>({label:e,defaultValue:t,validations:[{validator:le(a.i18n.translate("xpack.triggersActionsUI.components.buttonGroupField.error.requiredField",{values:{label:e},defaultMessage:"{label} is required."}))}]}),fe=({path:e,label:t,helpText:n,defaultValue:r,...i})=>Object(f.jsx)(H.UseField,{path:e,config:de({label:t,defaultValue:r})},(e=>{const{isInvalid:t,errorMessage:r}=Object(H.getFieldValidityAndErrorMessage)(e);return Object(f.jsx)(h.EuiFormRow,{label:e.label,labelAppend:e.labelAppend,helpText:n,error:r,isInvalid:t,fullWidth:!0},Object(f.jsx)(h.EuiButtonGroup,F()({isFullWidth:!0,buttonSize:"m",legend:"Select",color:"primary",options:[],idSelected:e.value,onChange:e.setValue},i)))})),pe=Object(s.memo)(fe),ge={editor:{name:"1236snz",styles:".euiFormRow__fieldWrapper .kibanaCodeEditor{height:auto;}"}},be=({field:e,...t})=>{const{errorMessage:n}=Object(H.getFieldValidityAndErrorMessage)(e),{label:r,helpText:i,value:o,setValue:u}=e,c=Object(s.useCallback)((e=>{u(e)}),[u]);return Object(f.jsx)("span",{css:ge.editor},Object(f.jsx)(G,F()({errors:n?[n]:[],helpText:Object(f.jsx)("p",null,i),inputTargetValue:o,label:null!=r?r:a.i18n.translate("xpack.triggersActionsUI.jsonFieldWrapper.defaultLabel",{defaultMessage:"JSON Editor"}),onDocumentsChange:c},t)))},he=({field:e,euiFieldProps:t,idAria:n,...r})=>{const{isInvalid:i,errorMessage:a}=Object(H.getFieldValidityAndErrorMessage)(e),{value:o,setValue:u}=e,c=Object(s.useCallback)(((e,t)=>{u(t)}),[u]);return Object(f.jsx)(ee,F()({errors:a?[a]:[],formRowProps:{describedByIds:n?[n]:void 0,error:a,fullWidth:!0,helpText:"function"==typeof e.helpText?e.helpText():e.helpText,isInvalid:i,label:e.label,...r},index:0,inputTargetValue:o,wrapField:!0},t,{editAction:c}))};var me,ye=n(64),ve=n(8),_e=n(70),je=n.n(_e),xe=n(25),Oe=n(26);!function(e){e[e.START=0]="START",e[e.STOP=1]="STOP",e[e.SUCCESS=2]="SUCCESS",e[e.ERROR=3]="ERROR"}(me||(me={}));const Te=(e,t)=>{switch(t.type){case me.START:return{...e,isLoading:!0,error:null};case me.STOP:return{...e,isLoading:!1,error:null};case me.SUCCESS:return{...e,response:t.payload,isLoading:!1,error:null};case me.ERROR:return{...e,error:t.payload,isLoading:!1};default:return e}},Ae=({connectorId:e,subAction:t,subActionParams:n,disabled:r=!1})=>{const{http:i}=Object(xe.b)().services,[{isLoading:a,response:o,error:u},c]=Object(s.useReducer)(Te,{isLoading:!1,response:void 0,error:null}),l=(e=>{const t=Object(s.useRef)(e);return je()(t.current,e)||(t.current=e),t.current})(n);return Object(s.useEffect)((()=>{if(r||!e||!t)return void c({type:me.STOP});const n=new AbortController;let a=!0;return(async()=>{try{c({type:me.START});const r=await Object(Oe.c)({id:e,params:{subAction:t,subActionParams:l},http:i,signal:n.signal});a&&(r.status&&"ok"===r.status?c({type:me.SUCCESS,payload:r.data}):c({type:me.ERROR,payload:new Error(`${r.message}: ${r.serviceMessage}`)})),r.data}catch(e){a&&c({type:me.ERROR,payload:e})}})(),()=>{a=!1,n.abort()}}),[l,r,e,t,i]),{isLoading:a,response:o,error:u}};var we=n(73),Se=n(46),Ee=n(34),Ie=n(47),Re=n(45),ke=n(44),Ue=n(33),Le=n(48),Ce=n(35),Me=n(36),Fe=n(37),Pe=n(31),Ne=n(43),$e=n(41),Ve=n(4),De=n(42);function ze(e){return new plugin_Plugin(e)}const We=async()=>{const{NOTIFY_WHEN_OPTIONS:e}=await n.e(36).then(n.bind(null,150));return e}},,,,,,function(e,t,n){n(88),__kbnBundles__.define("plugin/triggersActionsUi/public",n,81),__kbnBundles__.define("plugin/triggersActionsUi/public/common",n,8),__kbnBundles__.define("plugin/triggersActionsUi/public/common/constants",n,10)},function(e,t,n){n.p=window.__kbnPublicPath__.triggersActionsUi},function(e,t,n){var r=n(59),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(60)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#98a2b380 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#98a2b380;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},function(e,t,n){var r=n(59),i=n(92);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},function(e,t,n){(t=n(60)(!1)).push([e.i,'.messageVariablesPanel{height:100%;-webkit-mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);mask-image:linear-gradient(180deg,#ff00001a 0,red 7.5px,red calc(100% - 7.5px),#ff00001a);max-height:320px;max-width:320px;overflow-x:hidden;overflow-y:auto;scrollbar-color:#69707d80 #0000;scrollbar-width:thin}.messageVariablesPanel::-webkit-scrollbar{height:16px;width:16px}.messageVariablesPanel::-webkit-scrollbar-thumb{background-clip:content-box;background-color:#69707d80;border:6px solid #0000;border-radius:16px}.messageVariablesPanel::-webkit-scrollbar-corner,.messageVariablesPanel::-webkit-scrollbar-track{background-color:#0000}.messageVariablesPanel:focus{outline:none}.messageVariablesPanel[tabindex="0"]:focus:focus-visible{outline-style:auto}',""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tailRec=void 0,t.tailRec=function(e,t){for(var n=t(e);"Left"===n._tag;)n=t(n.left);return n.right}},,function(e,t){e.exports=__kbnSharedDeps__.ReactRouterDom},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/kibanaReact/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},function(e,t){e.exports=__kbnSharedDeps__.TsLib},function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/alerting/common/parse_duration");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,function(e,t){e.exports=__kbnSharedDeps__.LodashFp},,,,,,function(e,t){e.exports=__kbnSharedDeps__.ReactDom},function(e,t){e.exports=__kbnSharedDeps__.SaferLodashSet},function(e,t){e.exports=__kbnSharedDeps__.Rxjs},function(e,t){e.exports=__kbnSharedDeps__.KbnUiTheme},function(e,t){e.exports=__kbnSharedDeps__.KbnEsQuery},,,,,function(e,t,n){n.r(t);var r=__kbnBundles__.get("plugin/data/common");Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))},,,function(e,t){e.exports=__kbnSharedDeps__.Uuid},,function(e,t){e.exports=__kbnSharedDeps__.ElasticEuiLibServices}]);